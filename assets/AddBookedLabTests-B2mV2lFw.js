import{r as l,c as C,a as o,j as e,F as y,b as w,q as b,S as L,V as P,h as I,x as A,W as F}from"./index-CtF5NqjV.js";import{H as B}from"./HeadingPlusBackBtn-BgZ3OcMR.js";import{g as q}from"./index-BBJSJBwN.js";import{C as E}from"./CountrySearchInput-BZM_uvue.js";import{S as V,C as T,A as R}from"./CitySearchInput-CMVE_bqD.js";import{S as D}from"./SearchInput-BumALrIT.js";import{I as H}from"./index-R1RIAz4U.js";import{C as M}from"./index-QXRQuYle.js";import{c as O}from"./index-BygXZwzy.js";import{I as v}from"./Input-DjG3n9ZJ.js";import{P as W}from"./PhoneInput-BK0aYYMn.js";import{S}from"./SelectComponent-BbbOj38_.js";import{M as _}from"./MultSelectBox-Np558905.js";import{A as $,c as z}from"./converToBase64-BGgFsW7h.js";import{i as G,a as X}from"./index-CTnICA7r.js";import"./BackButton-B3FMZxYv.js";import"./index.modern-Bj7X4AbY.js";import"./index-TAcTVJ-C.js";import"./index-CP8FX3G0.js";const J="/digipet-live/images/lab-profile/lab-profile-image.svg";function K({setNextPage:i=()=>{}}){const[s,m]=l.useState(""),[d,x]=l.useState(""),[u,a]=l.useState(""),[r,p]=l.useState("");l.useEffect(()=>{if(s){const n=new Intl.DisplayNames(["en"],{type:"region"});x(n.of(s)),a(q(s))}},[s]);const h={country:"",state:"",city:"",lab:""},t=C().shape({country:o().required("Country is required"),state:o(),city:o(),lab:o().required("Lab is required")}),f=async n=>{try{await new Promise(c=>setTimeout(()=>{c()},1e3)),i(!0)}catch(c){P.error(I(c))}console.log({...n,countryCode:u})},N=[{id:1,name:"Lab 1"},{id:2,name:"Lab 2"},{id:3,name:"Lab 3"},{id:4,name:"Lab 4"},{id:5,name:"Lab 5"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("p",{className:"px-5 py-4 text-[20px] border-b border-[#AEC8E2]",children:"Lab Selection"}),e.jsx(y,{initialValues:h,validationSchema:t,onSubmit:f,enableReinitialize:!0,children:n=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(E,{formik:n,name:"country",id:"country",label:"Country",getCountryCode:m})}),e.jsx("div",{className:"w-full",children:e.jsx(V,{formik:n,name:"state",id:"state",label:"State/Province",countryName:d,getStateName:p})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(T,{formik:n,name:"city",id:"city",label:"City",countryName:d,stateName:r})}),e.jsx("div",{className:"w-full",children:e.jsx(D,{formik:n,name:"lab",id:"lab",label:"Lab",data:N,placeHolder:"Search Labs..."})})]}),e.jsx("div",{className:"mt-2 ml-auto",children:e.jsx(L,{formik:n,label:"Next"})})]})})]})})}function Q(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5 items-center max-[768px]:flex-col max-[768px]:items-start bg-white p-5 rounded-[20px]",children:[e.jsx("div",{className:"flex w-[164px] h-[164px] ",children:e.jsx("img",{src:J,alt:"profile image",className:"inline-flex w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Dr. Essa Lab"}),e.jsx("p",{children:"Veterinary care"}),e.jsx("p",{className:"mt-2",children:"License# : DR-0001"})]}),e.jsx("div",{className:"flex flex-col",children:e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx("span",{children:e.jsx(M,{})}),e.jsx("span",{children:"5th Street - 1011 W 5th St, Suite 120, Austin, TX 78703"})]})})]})]})})}const U="/digipet-live/images/booked-lab-tests/lab-branch-1.svg",Y="/digipet-live/images/booked-lab-tests/lab-branch-2.svg",Z="/digipet-live/images/booked-lab-tests/lab-branch-3.svg",j=[{_id:1,branchImage:U,name:"AllCare Family Medicine",address:"3343 Private Lane, Valdosta"},{_id:2,branchImage:Y,name:"Vitalplus Clinic",address:"4223 Pleasant Hill Road, Miami, FL 33169"},{_id:3,branchImage:Z,name:"Wellness Path Chiropractic",address:"418 Patton Lane, Garner, NC 27529, FL 33169"}];function k({setSelectedBranch:i=()=>{},removeSelectedBranch:s=!1,setRemoveSelectedBranch:m=()=>{}}){const[d,x]=l.useState(null);l.useEffect(()=>{s&&(x(null),i(null),m(!1))},[s,m,i]);const u=a=>{x(a),i(j[a])};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Select Branch"}),e.jsx("div",{className:"flex flex-col gap-5 p-5",children:j==null?void 0:j.map((a,r)=>{const p=d===r,h=O("p-5","w-full","rounded-[14px]","border","border-[#B9DCFF]","cursor-pointer","inline-flex","items-center","gap-3","transition-colors","duration-150","ease-in-out","max-[500px]:flex-col","max-[500px]:items-start",{"bg-blue-100":p,"bg-white hover:bg-gray-50":!p});return e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>u(r),className:h,children:[e.jsx("span",{className:"w-[65px] h-[65px] inline-flex",children:e.jsx("img",{src:(a==null?void 0:a.branchImage)||A,alt:"lab branch image",className:"w-full h-full rounded-full inline-flex object-cover"})}),e.jsxs("span",{className:"inline-flex flex-col gap-1 text-left",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.name}),e.jsx("span",{children:a==null?void 0:a.address})]})]})},r)})})]})})}function ee({initValues:i={},validations:s={},onSubmit:m=()=>{},setAttachment:d=()=>{},setRemoveSelectedBranch:x=()=>{}}){const u=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"}],a=["Test1","Test2","Test3"],r=[{label:"Lab visit",value:"labVisit"},{label:"Home visit",value:"homeVisit"}],[p,h]=l.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Information"}),e.jsx("div",{className:"",children:e.jsx(y,{initialValues:i,validationSchema:s,onSubmit:m,enableReinitialize:!0,children:t=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(v,{formik:t,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(W,{name:"phone",id:"phone",label:"Phone",country:""})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(v,{name:"email",id:"email",label:"Email (optional)",formik:t})}),e.jsx("div",{className:"w-full",children:e.jsx(R,{formik:t,label:"Address (optional)"})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{formik:t,name:"petSpecie",id:"petSpecie",label:"Pet Specie",options:u})}),e.jsx("div",{className:"w-full",children:e.jsx(_,{formik:t,name:"testName",id:"testName",label:"Test Name",options:a})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{formik:t,name:"sampleCollection",id:"sampleCollection",label:"Sample Collection",options:r})}),e.jsx("div",{className:"w-full"})]}),e.jsx("div",{className:"",children:e.jsx($,{formik:t,name:"attachment",id:"attachment",label:"Attachment (optional)",getAttachment:d,removePreview:p,setRemovePreview:h})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-2",children:[e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"cursor-pointer bg-gray-300 hover:bg-gray-200 transition-colors rounded-[6px] px-4 py-2",onClick:()=>{x(!0),h(!0),t.resetForm()},children:"Cancel"})}),e.jsx("div",{className:"",children:e.jsx(L,{formik:t})})]})]})})})]})})}function se({setNextPage:i=()=>{}}){const[s,m]=l.useState(""),[d,x]=l.useState(""),[u,a]=l.useState(""),[r,p]=l.useState(""),[h,t]=l.useState(!1);l.useEffect(()=>{s&&(a(s==null?void 0:s.name),p(s==null?void 0:s.address))},[s]);const f={fullName:"",phone:"",email:"",address:"",petSpecie:"",testName:[],sampleCollection:""},N=C().shape({fullName:o().required("Full Name is required"),phone:o().test("is-possible-phone","Please enter valid phone number",c=>G(c)).test("is-valid-phone","Please enter valid phone number",c=>X(c)).required("Phone Number is required"),email:o().email(),address:o(),petSpecie:o().required("Required"),testName:F().min(1,"At least one test is required").required("Test Name is required"),sampleCollection:o().required("Required")}),n=async c=>{let g=null;d?(g=await z(d),console.log({...c,labBranchName:u,labBranchAddress:r,attachment:g})):console.log({...c,labBranchName:u,labBranchAddress:r})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex",children:e.jsxs("button",{className:"inline-flex items-center gap-1 cursor-pointer",type:"button",onClick:()=>{i(!1)},children:[e.jsx("span",{children:e.jsx(H,{})}),e.jsx("span",{children:"Cancel"})]})}),e.jsx("div",{className:"",children:e.jsx(Q,{})}),e.jsx("div",{className:"",children:e.jsx(k,{removeSelectedBranch:h,setRemoveSelectedBranch:t,setSelectedBranch:m})}),s?e.jsx("div",{className:"",children:e.jsx(ee,{initValues:f,validations:N,onSubmit:n,setAttachment:x,setRemoveSelectedBranch:t})}):""]})})}function ve(){const[i,s]=l.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(B,{label:"Add Lab Test"})}),e.jsx("div",{className:"",children:i?e.jsx(se,{setNextPage:s}):e.jsx(K,{setNextPage:s})})]})})}export{ve as default};
