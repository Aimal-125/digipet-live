import{H as w,k as D,r as i,V as h,h as y,j as e,m as g,A as N,g as R}from"./index-tsnG6h9L.js";import{h as k,T as P}from"./hasRequiredRole-qKRRA7zo.js";import{N as B}from"./NoData-Dj1fto64.js";import{I as A,a as E}from"./IsError-DV2WID3W.js";import{h as S}from"./moment-C5S46NFB.js";import{f as M}from"./index-DlwCTamr.js";import"./ButtonClipLoader-BN5c0Olh.js";import"./Status-3NrfEcIJ.js";import"./index-xUwMLnuw.js";/* empty css                */import"./index-DYFNBYaU.js";function L(){var x,d;const{id:o}=w(),r=["fetch-declined-doc-documents",{id:o}],{isLoading:f,isError:u,data:n,error:t}=D({queryKey:r,queryFn:()=>N.get(`/know-your-customer/?doctorObjectId=${o}`)}),[l,p]=i.useState((d=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;n&&p((a=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[n,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx(E,{}):!l||(l==null?void 0:l.length)===0?e.jsx(B,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Document"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Front"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${g}/${s==null?void 0:s.idFront}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${g}/${s==null?void 0:s.idFront}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Back"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${g}/${s==null?void 0:s.idBack}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${g}/${s==null?void 0:s.idBack}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4",children:[e.jsx("p",{children:"RVMP Proof"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${g}/${s==null?void 0:s.rvmp}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${g}/${s==null?void 0:s.rvmp}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]})]})]},a))})})}function O(){var x,d;const{id:o}=w(),r=["fetch-in-review-doc-education",{id:o}],{isLoading:f,isError:u,data:n,error:t}=D({queryKey:r,queryFn:()=>N.get(`/degree?doctorObjectId=${o}`)}),[l,p]=i.useState((d=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;n&&p((a=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[n,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx(E,{}):!l||(l==null?void 0:l.length)===0?e.jsx(B,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Education"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Education Logo"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${g}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${g}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Name Of Institution"}),e.jsx("p",{children:(s==null?void 0:s.institutionTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Degree"}),e.jsx("p",{children:(s==null?void 0:s.degreeTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:S((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:S((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Number Of Years"}),e.jsx("p",{children:(s==null?void 0:s.duration)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Description"}),e.jsx("p",{className:"text-gray-500",children:s==null?void 0:s.description})]})]})]},a))})})}function K(){var x,d;const{id:o}=w(),r=["fetch-declined-doc-experience",{id:o}],{isLoading:f,isError:u,data:n,error:t}=D({queryKey:r,queryFn:()=>N.get(`/work-experience?doctorObjectId=${o}`)}),[l,p]=i.useState((d=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;n&&p((a=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[n,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx(E,{}):!l||(l==null?void 0:l.length)===0?e.jsx(B,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Experience"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Image"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${g}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${g}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Title"}),e.jsx("p",{children:(s==null?void 0:s.jobTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Organization"}),e.jsx("p",{children:(s==null?void 0:s.organizationTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsxs("p",{children:[(s==null?void 0:s.experience)>1?"Years":"Year"," of Experience"]}),e.jsx("p",{children:(s==null?void 0:s.yearsOfExperience)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Address"}),e.jsx("p",{children:(s==null?void 0:s.organizationAddress)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Employment Type"}),e.jsx("p",{children:(s==null?void 0:s.employmentType)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:S((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:S((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Job Description"}),e.jsx("p",{className:"text-gray-500",children:(s==null?void 0:s.description)||(s==null?void 0:s.jobDescription)||"N/A"})]})]})]},a))})})}function _(){var x,d,s;const{id:o}=w(),r=["fetch-declined-doc-about-me",{id:o}],{isLoading:f,isError:u,data:n,error:t}=D({queryKey:r,queryFn:()=>N.get(`/doctor/${o}`)}),[l,p]=i.useState((d=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:d.doc);return i.useEffect(()=>{if(n){const{data:{data:{doc:a}}}=n;p(a)}t&&h.error(y(t))},[n,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx(E,{}):!l||((s=Object.keys(l))==null?void 0:s.length)===0?e.jsx(B,{goBackButton:!1}):e.jsx("div",{className:"bg-white p-5 flex flex-col gap-5 rounded-[20px]",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Designation"}),e.jsx("p",{children:(l==null?void 0:l.designation)||"N/A"})]})]})})})}function C(){var x,d,s;const{id:o}=w(),r=["fetch-declined-doc-services",{id:o}],{isLoading:f,isError:u,data:n,error:t}=D({queryKey:r,queryFn:()=>N.get(`/doctor/${o}`)}),[l,p]=i.useState((s=(d=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:d.doc)==null?void 0:s.services);return i.useEffect(()=>{var a,v,b;n&&p((b=(v=(a=n==null?void 0:n.data)==null?void 0:a.data)==null?void 0:v.doc)==null?void 0:b.services),t&&h.error(y(t))},[n,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx(E,{}):!l||(l==null?void 0:l.length)===0?e.jsx(B,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((a,v)=>{var b,m,$;return e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Type & Service"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Speciality"}),e.jsx("p",{children:((m=(b=a==null?void 0:a.service)==null?void 0:b.speciality)==null?void 0:m.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Service"}),e.jsx("p",{children:(($=a==null?void 0:a.service)==null?void 0:$.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Price"}),e.jsxs("p",{children:[(a==null?void 0:a.currencyCode)==="USD"?"$":"",(a==null?void 0:a.price)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"About"}),e.jsx("p",{className:"text-gray-500",children:(a==null?void 0:a.aboutService)||"N/A"})]})]})]},v)})})})}const T=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"Types & Services",requiredRoles:["admin","doctors"]},{id:3,name:"Education",requiredRoles:["admin","doctors"]},{id:4,name:"Experience",requiredRoles:["admin","doctors"]},{id:5,name:"Documents",requiredRoles:["admin","doctors"]}];function se(){var q,Y;const{id:o}=w(),[r,f]=i.useState({}),[u,n]=i.useState(!1),[t,l]=i.useState(!1),p=R(),x=p==null?void 0:p.roles,d=i.useMemo(()=>x,[]),[s,a]=i.useState(1),v=["fetch-declined-doc-profile-data",{id:o}],{data:b,error:m}=D({queryKey:v,queryFn:()=>N.get(`/doctor/${o}`)});i.useEffect(()=>{if(b){const{data:{data:{doc:j}}}=b;f(j)}m&&h.error(y(m))},[b,m]),i.useEffect(()=>{const j=T.find(c=>k(c.requiredRoles,d));j?a(j.id):(h.error("User has no access to any tabs"),a(null))},[d]);const $={profileName:(r==null?void 0:r.fullName)||((q=r==null?void 0:r.user)==null?void 0:q.username)||e.jsxs("span",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})||"N/A",profession:(r==null?void 0:r.designation)||"N/A",profileImage:(Y=r==null?void 0:r.user)==null?void 0:Y.image,phone:M(r==null?void 0:r.phone)||"N/A",email:(r==null?void 0:r.email)||"N/A",country:(r==null?void 0:r.countryName)||"N/A",state:(r==null?void 0:r.province)||"N/A",city:(r==null?void 0:r.city)||"N/A",status:(r==null?void 0:r.status)||""},F=async()=>{var j;n(!0);try{const{data:c}=await N.patch(`/doctor/approve/${o}`,{status:"Approved",statusChangeReason:"Passed all tests"});c!=null&&c.success&&h.success((c==null?void 0:c.message)||((j=c==null?void 0:c.data)==null?void 0:j.message))}catch(c){h.error(y(c))}finally{n(!1)}},I=async()=>{var j;l(!0);try{const{data:c}=await N.patch(`/doctor/approve/${o}`,{status:"Declined",statusChangeReason:"Failed all tests"});c!=null&&c.success&&h.success((c==null?void 0:c.message)||((j=c==null?void 0:c.data)==null?void 0:j.message))}catch(c){h.error(y(c))}finally{l(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctor Profile"}),e.jsx("div",{children:e.jsx("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:e.jsx("span",{children:"Edit Profile"})})})]}),s!==null&&e.jsx(P,{activeTab:s,setActiveTab:a,roles:d,hasRequiredRole:k,tabs:T,profileData:$,button1Label:"Approve",button1Handler:F,submitting1:u,button2Label:"Decline",button2Handler:I,submitting2:t}),e.jsxs("div",{className:"",children:[s===1?e.jsx(_,{}):"",s===2?e.jsx(C,{}):"",s===3?e.jsx(O,{}):"",s===4?e.jsx(K,{}):"",s===5?e.jsx(L,{}):""]})]})})}export{se as default};
