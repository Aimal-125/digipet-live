import{r,z as F,k as R,V as Y,h as _,j as t,B as $,M as H,C as b,D as U,A as q}from"./index-BpncqqTg.js";import{D as z}from"./DashboardContainer1-hi19e14i.js";import{R as O}from"./ResponsiveTable-SIx2I_yc.js";import{P as J,D as K,A as Q,a as T}from"./admin-profit-icon-YhiRSQEj.js";import{V as W}from"./view-icon-DsPpK1Wz.js";import{E as G}from"./edit-icon-CSd65PgS.js";import{I as X,a as Z}from"./IsLoading-D0iuarB6.js";import{N as tt}from"./NoData-C9P7-d5K.js";import{h as at}from"./moment-C5S46NFB.js";import{f as et}from"./index-B8h8kOrn.js";import"./Status-KfFp0PAM.js";import"./index-DK6lv1Mq.js";/* empty css                  */import"./index-BddCgcU_.js";import"./index-CgivaiP7.js";function xt(){const[e,y]=r.useState([]),[i,I]=r.useState(1),[P,v]=r.useState(1),d=10,[k,w]=r.useState(0),c=F(),E=["fetch-doctors-declined",{currentPage:i,limit:d}],{isLoading:V,data:n,isError:B,error:l}=R({queryKey:E,queryFn:()=>q.get(`/doctor/?page=${i}&pageSize=${d}&status=Declined`)});r.useEffect(()=>{if(n){const{data:{data:{docs:o}}}=n,{data:{data:{pages:a}}}=n;y(o),v(a),w(o==null?void 0:o.length)}l&&Y.error(_(l))},[n,l]);const C=Array.from({length:k},(o,a)=>{var s,m,p,u,h,g,f,D,x,j,N,A;return{_id:(s=e[a])==null?void 0:s._id,id:((m=e[a])==null?void 0:m.longAutoIncrementId)||((p=e[a])==null?void 0:p.autoIncrementId)||"N/A",doctorName:((u=e[a])==null?void 0:u.fullName)||t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{children:(h=e[a])==null?void 0:h.firstName}),t.jsx("span",{children:(g=e[a])==null?void 0:g.lastName})]})||((D=(f=e[a])==null?void 0:f.user)==null?void 0:D.username)||"N/A",email:((x=e[a])==null?void 0:x.email)||"N/A",phone:et((j=e[a])==null?void 0:j.phone)||"N/A",joinedDate:t.jsx("span",{children:at(((N=e[a])==null?void 0:N.createdAt)||"2025-01-01").format("DD/MM/YYYY")}),status:((A=e[a])==null?void 0:A.status)||"N/A"}}),L=[{label:"All Doctors",totalValue:40689,icon:J,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:K,status:"Up",value:1.3,duration:"past week"},{label:"Verified Doctors",totalValue:89e3,icon:Q,status:"Down",value:4.3,duration:"yesterday"},{label:"Doctors Blocked",totalValue:2040,icon:T,status:"Up",value:1.8,duration:"yesterday"}],M=(o,a,s)=>{o.stopPropagation(),console.log(a,`${s} btn clicked`)},S=(o,a,s)=>{o.stopPropagation(),s==="change-password"&&(c(b(!0)),c(U({type:"change-password",data:{userId:a._id}}))),s==="block"&&c(b(!0)),console.log(a,`${s} btn clicked`)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex max-[360px]:flex-col gap-3 items-center justify-between",children:[t.jsx("h1",{className:"main-heading",children:"Doctors"}),t.jsx("div",{children:t.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[t.jsx("span",{children:"+"}),t.jsx("span",{children:"Add New Doctor"})]})})]}),t.jsx("div",{className:"",children:t.jsx(z,{data:L})}),V?t.jsx(X,{}):B?t.jsx(Z,{}):(e==null?void 0:e.length)===0?t.jsx(tt,{}):t.jsx("div",{className:"",children:t.jsx(O,{data:C,mainHeading:"All Doctors",searchBar:!0,headings:["ID #","Doctor Name","Email","Phone","Joined Date","Status","Action"],cells:["id","doctorName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:W},{action:"edit",icon:G}],actionHandler:M,currentPage:i,setCurrentPage:I,pages:P,navigation:!0,navigationLink:"/doctors/declined/profile",headingNameForNavigationOnMobile:"Doctor Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:t.jsx($,{})},{label:"Block",action:"block",icon:t.jsx(H,{})}],moreActionsHandler:S})})]})})}export{xt as default};
