import{H as w,k as B,r as i,V as h,h as y,j as e,m as b,A as N,g as I}from"./index-CKZINqwN.js";import{h as Y,T as P}from"./hasRequiredRole-Cc5ssQ2N.js";import{N as D}from"./NoData-CTHyLIoH.js";import{I as A,a as $}from"./IsError-D7nYLhx5.js";import{h as q}from"./moment-C5S46NFB.js";import{f as M}from"./index-BNtOQB4L.js";import{H as L}from"./HeadingPlusBackBtn-BOBZ_rS4.js";import"./ButtonClipLoader-BeExEsVH.js";import"./Status-BiG97xPr.js";import"./index-BmsdS2U_.js";/* empty css                */import"./index-BQwADRsX.js";import"./BackButton-Dd_chuGT.js";function O(){var x,d;const{id:o}=w(),n=["fetch-declined-doc-documents",{id:o}],{isLoading:f,isError:u,data:l,error:t}=B({queryKey:n,queryFn:()=>N.get(`/know-your-customer/?doctorObjectId=${o}`)}),[r,p]=i.useState((d=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;l&&p((a=(s=l==null?void 0:l.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[l,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx($,{}):!r||(r==null?void 0:r.length)===0?e.jsx(D,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:r==null?void 0:r.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Document"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Front"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${b}/${s==null?void 0:s.idFront}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${b}/${s==null?void 0:s.idFront}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Back"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${b}/${s==null?void 0:s.idBack}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${b}/${s==null?void 0:s.idBack}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4",children:[e.jsx("p",{children:"RVMP Proof"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${b}/${s==null?void 0:s.rvmp}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${b}/${s==null?void 0:s.rvmp}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]})]})]},a))})})}function K(){var x,d;const{id:o}=w(),n=["fetch-in-review-doc-education",{id:o}],{isLoading:f,isError:u,data:l,error:t}=B({queryKey:n,queryFn:()=>N.get(`/degree?doctorObjectId=${o}`)}),[r,p]=i.useState((d=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;l&&p((a=(s=l==null?void 0:l.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[l,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx($,{}):!r||(r==null?void 0:r.length)===0?e.jsx(D,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:r==null?void 0:r.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Education"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Education Logo"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${b}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${b}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Name Of Institution"}),e.jsx("p",{children:(s==null?void 0:s.institutionTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Degree"}),e.jsx("p",{children:(s==null?void 0:s.degreeTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:q((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:q((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Number Of Years"}),e.jsx("p",{children:(s==null?void 0:s.duration)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Description"}),e.jsx("p",{className:"text-gray-500",children:s==null?void 0:s.description})]})]})]},a))})})}function H(){var x,d;const{id:o}=w(),n=["fetch-declined-doc-experience",{id:o}],{isLoading:f,isError:u,data:l,error:t}=B({queryKey:n,queryFn:()=>N.get(`/work-experience?doctorObjectId=${o}`)}),[r,p]=i.useState((d=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:d.docs);return i.useEffect(()=>{var s,a;l&&p((a=(s=l==null?void 0:l.data)==null?void 0:s.data)==null?void 0:a.docs),t&&h.error(y(t))},[l,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx($,{}):!r||(r==null?void 0:r.length)===0?e.jsx(D,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:r==null?void 0:r.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Experience"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Image"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${b}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${b}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Title"}),e.jsx("p",{children:(s==null?void 0:s.jobTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Organization"}),e.jsx("p",{children:(s==null?void 0:s.organizationTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsxs("p",{children:[(s==null?void 0:s.experience)>1?"Years":"Year"," of Experience"]}),e.jsx("p",{children:(s==null?void 0:s.yearsOfExperience)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Address"}),e.jsx("p",{children:(s==null?void 0:s.organizationAddress)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Employment Type"}),e.jsx("p",{children:(s==null?void 0:s.employmentType)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:q((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:q((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Job Description"}),e.jsx("p",{className:"text-gray-500",children:(s==null?void 0:s.description)||(s==null?void 0:s.jobDescription)||"N/A"})]})]})]},a))})})}function _(){var x,d,s;const{id:o}=w(),n=["fetch-declined-doc-about-me",{id:o}],{isLoading:f,isError:u,data:l,error:t}=B({queryKey:n,queryFn:()=>N.get(`/doctor/${o}`)}),[r,p]=i.useState((d=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:d.doc);return i.useEffect(()=>{if(l){const{data:{data:{doc:a}}}=l;p(a)}t&&h.error(y(t))},[l,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx($,{}):!r||((s=Object.keys(r))==null?void 0:s.length)===0?e.jsx(D,{goBackButton:!1}):e.jsx("div",{className:"bg-white p-5 flex flex-col gap-5 rounded-[20px]",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Gender"}),e.jsx("p",{children:(r==null?void 0:r.gender)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Designation"}),e.jsx("p",{children:(r==null?void 0:r.designation)||"N/A"})]}),r!=null&&r.bio?e.jsx("div",{className:"flex items-center gap-1 justify-between",children:e.jsx("p",{className:"text-gray-500",children:(r==null?void 0:r.bio)||"N/A"})}):""]})})})}function C(){var x,d,s;const{id:o}=w(),n=["fetch-declined-doc-services",{id:o}],{isLoading:f,isError:u,data:l,error:t}=B({queryKey:n,queryFn:()=>N.get(`/doctor/${o}`)}),[r,p]=i.useState((s=(d=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:d.doc)==null?void 0:s.services);return i.useEffect(()=>{var a,v,g;l&&p((g=(v=(a=l==null?void 0:l.data)==null?void 0:a.data)==null?void 0:v.doc)==null?void 0:g.services),t&&h.error(y(t))},[l,t]),e.jsx(e.Fragment,{children:f?e.jsx(A,{}):u?e.jsx($,{}):!r||(r==null?void 0:r.length)===0?e.jsx(D,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:r==null?void 0:r.map((a,v)=>{var g,m,E;return e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Type & Service"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Speciality"}),e.jsx("p",{children:((m=(g=a==null?void 0:a.service)==null?void 0:g.speciality)==null?void 0:m.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Service"}),e.jsx("p",{children:((E=a==null?void 0:a.service)==null?void 0:E.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Price"}),e.jsxs("p",{children:[(a==null?void 0:a.currencyCode)==="USD"?"$":"",(a==null?void 0:a.price)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"About"}),e.jsx("p",{className:"text-gray-500",children:(a==null?void 0:a.aboutService)||"N/A"})]})]})]},v)})})})}const T=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"Types & Services",requiredRoles:["admin","doctors"]},{id:3,name:"Education",requiredRoles:["admin","doctors"]},{id:4,name:"Experience",requiredRoles:["admin","doctors"]},{id:5,name:"Documents",requiredRoles:["admin","doctors"]}];function le(){var S,k;const{id:o}=w(),[n,f]=i.useState({}),[u,l]=i.useState(!1),[t,r]=i.useState(!1),p=I(),x=p==null?void 0:p.roles,d=i.useMemo(()=>x,[]),[s,a]=i.useState(1),v=["fetch-declined-doc-profile-data",{id:o}],{data:g,error:m}=B({queryKey:v,queryFn:()=>N.get(`/doctor/${o}`)});i.useEffect(()=>{if(g){const{data:{data:{doc:j}}}=g;f(j)}m&&h.error(y(m))},[g,m]),i.useEffect(()=>{const j=T.find(c=>Y(c.requiredRoles,d));j?a(j.id):(h.error("User has no access to any tabs"),a(null))},[d]);const E={profileName:(n==null?void 0:n.fullName)||((S=n==null?void 0:n.user)==null?void 0:S.username)||e.jsxs("span",{children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]})||"N/A",profession:(n==null?void 0:n.designation)||"N/A",profileImage:(k=n==null?void 0:n.user)==null?void 0:k.image,phone:M(n==null?void 0:n.phone)||"N/A",email:(n==null?void 0:n.email)||"N/A",country:(n==null?void 0:n.countryName)||"N/A",state:(n==null?void 0:n.province)||"N/A",city:(n==null?void 0:n.city)||"N/A",status:(n==null?void 0:n.status)||""},F=async()=>{var j;l(!0);try{const{data:c}=await N.patch(`/doctor/approve/${o}`,{status:"Approved",statusChangeReason:"Passed all tests"});c!=null&&c.success&&h.success((c==null?void 0:c.message)||((j=c==null?void 0:c.data)==null?void 0:j.message))}catch(c){h.error(y(c))}finally{l(!1)}},R=async()=>{var j;r(!0);try{const{data:c}=await N.patch(`/doctor/approve/${o}`,{status:"Declined",statusChangeReason:"Failed all tests"});c!=null&&c.success&&h.success((c==null?void 0:c.message)||((j=c==null?void 0:c.data)==null?void 0:j.message))}catch(c){h.error(y(c))}finally{r(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(L,{label:"Doctor Profile"})}),s!==null&&e.jsx(P,{activeTab:s,setActiveTab:a,roles:d,hasRequiredRole:Y,tabs:T,profileData:E,button1Label:"Approve",button1Handler:F,submitting1:u,button2Label:"Decline",button2Handler:R,submitting2:t,button1Required:!1,button2Required:!1}),e.jsxs("div",{className:"",children:[s===1?e.jsx(_,{}):"",s===2?e.jsx(C,{}):"",s===3?e.jsx(K,{}):"",s===4?e.jsx(H,{}):"",s===5?e.jsx(O,{}):""]})]})})}export{le as default};
