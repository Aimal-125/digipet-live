import{j as e,m as K,G as M,k as _,r as m,V as A,h as L,A as E,g as G}from"./index-C6zP7Xlc.js";import{h as O,T as Q}from"./hasRequiredRole-BTHakpLx.js";import{A as z,d as P,r as N,a as y}from"./doctorReportsData-Ca3KZLF4.js";import{R as w,P as J}from"./ResponsiveTable-DF7QZidW.js";import{V as R}from"./view-icon-DsPpK1Wz.js";import{E as I}from"./edit-icon-CSd65PgS.js";import{D as S}from"./delete-icon-FU5lMFq3.js";import{a as W,W as U,R as X}from"./ReviewsComponent-Bi37yhbu.js";import{n as V}from"./nameWithImage-CWpI9zz4.js";import{f as Y}from"./index-BE5NjG4Y.js";import"./ButtonClipLoader-y3kGWO1C.js";import"./Status-C_6ssE0l.js";import"./index-D5xYpp5a.js";import"./index-DuZfArvP.js";const Z="/digipet-live/images/doctor-profile/location-img.svg",F="/digipet-live/images/doctor-profile/clinic-img.svg",H=[{id:1,name:"Lab Details",requiredRoles:["admin"]},{id:2,name:"Booked Lab Test",requiredRoles:["admin"]},{id:3,name:"Withdraws",requiredRoles:["admin"]},{id:4,name:"Payouts",requiredRoles:["admin"]},{id:5,name:"Reviews",requiredRoles:["admin"]},{id:6,name:"Reports",requiredRoles:["admin"]},{id:7,name:"Branches",requiredRoles:["admin"]}];function ee({tests:u,mainHeading:a=""}){return!u||u.length===0?null:e.jsxs("div",{className:"bg-white rounded-[20px] p-5",children:[e.jsx("h2",{className:"text-[20px] font-[600] mb-4",children:a}),e.jsx("div",{className:"space-y-4",children:u.map((r,o)=>{var c;return e.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[r.image&&e.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${K}/${r==null?void 0:r.image}`,alt:r.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:r.name}),r.price&&e.jsxs("p",{className:"text-gray-600 text-sm",children:[r.currencyCode," ",(c=r.price)==null?void 0:c.toFixed(2)]})]})]},o)})})]})}function ae(){var i,x,p,s,l;const{id:u}=M(),{data:a,error:r}=_({queryKey:["fetch-approved-lab-details",{id:u}],queryFn:()=>E.get(`/offered-lab-test?labHeadOffice=${u}`)}),o=(x=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:x.docs;m.useEffect(()=>{r&&A.error(L(r))},[r]);const c=o==null?void 0:o.map(t=>{var f,h;return{name:((f=t==null?void 0:t.labTest)==null?void 0:f.title)||(t==null?void 0:t.title)||"N/A",price:t==null?void 0:t.price,currencyCode:t==null?void 0:t.currencyCode,image:((h=t==null?void 0:t.labTest)==null?void 0:h.image)||(t==null?void 0:t.image)}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-boxes-main-container",children:[e.jsxs("div",{className:"doctor-profile-box-1 flex flex-col gap-5",children:[e.jsxs("div",{className:"doctor-about-me-container rounded-[20px] bg-white p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsx("p",{className:"text-[#969696]",children:o&&o.length>0&&((s=(p=o[0])==null?void 0:p.labHeadOffice)==null?void 0:s.bio)||"N/A"})]}),e.jsx("div",{className:"doctor-skills-container",children:c&&c.length>0&&e.jsx(ee,{mainHeading:"Available Tests",tests:c})})]}),e.jsx("div",{className:"doctor-profile-box-2 bg-white p-5 rounded-[20px] flex flex-col gap-5",children:e.jsxs("div",{className:"doctor-detailed-about-me-container flex flex-col gap-5",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex w-[40px] h-[40px] bg-[#F1F5F9] rounded-[6px] p-2",children:e.jsx("img",{className:"inline-flex w-full h-full",src:z,alt:"about me icon"})}),e.jsx("span",{className:"text-[#4C63BD] font-[600] text-[20px]",children:"About me"})]}),e.jsx("div",{className:"doctor-description-text-div",children:e.jsx("p",{className:"text-[#969696]",children:o&&o.length>0&&((l=o[0])==null?void 0:l.description)||"N/A"})})]})})]})})}const k=[{_id:1,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"15/01/2025"},{_id:2,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"UnPaid",bookedDate:"20/02/2025"},{_id:3,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"10/03/2025"},{_id:4,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"05/04/2025"},{_id:5,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"18/05/2025"},{_id:6,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"25/06/2025"},{_id:7,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"01/07/2025"},{_id:8,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"14/08/2025"},{_id:9,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"21/09/2025"},{_id:10,id:"#20462",labName:"CTI Lab",email:"lab@gmail.com",phone:"035455421",bookedLabTest:"$100.95",status:"Paid",bookedDate:"30/10/2025"}];function se(){const[u,a]=m.useState(1),[r,o]=m.useState(3),c=(p,s,l)=>{p.stopPropagation(),console.log(s,`${l} btn clicked`)},x=Array.from({length:10},(p,s)=>{var l,t,f,h,g,n,b;return{id:(l=k[s])==null?void 0:l.id,labName:(t=k[s])==null?void 0:t.labName,email:(f=k[s])==null?void 0:f.email,phone:(h=k[s])==null?void 0:h.phone,bookedLabTest:(g=k[s])==null?void 0:g.bookedLabTest,status:(n=k[s])==null?void 0:n.status,bookedDate:(b=k[s])==null?void 0:b.bookedDate}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(w,{data:x,mainHeading:"Booked Test",searchBar:!0,headings:["ID #","Lab Name","Email","Phone","Booked Lab Test","Booked Date","Status"],cells:["id","labName","email","phone","bookedLabTest","bookedDate"],status:!0,actions:!1,actionTypes:[{action:"view",icon:R},{action:"edit",icon:I},{action:"delete",icon:S}],actionHandler:c,setCurrentPage:a,pages:r})})})}function te(){const[u,a]=m.useState(!0),[r,o]=m.useState(!1),[c,i]=m.useState(1),[x,p]=m.useState(3),s=(g,n,b)=>{g.stopPropagation(),console.log(n,`${b} btn clicked`)},t=Array.from({length:10},(g,n)=>{var b,j,v,T,D,d;return{id:(b=P[n])==null?void 0:b.id,accountNumber:(j=P[n])==null?void 0:j.accountNumber,creditedOn:(v=P[n])==null?void 0:v.creditedOn,requestedDate:(T=P[n])==null?void 0:T.requestedDate,amount:(D=P[n])==null?void 0:D.amount,status:(d=P[n])==null?void 0:d.status}}),h=Array.from({length:10},(g,n)=>{var b,j,v,T,D,d,C,B,q,$;return{id:(b=N[n])==null?void 0:b.id,patient:V((j=N[n])==null?void 0:j.patientImage,(v=N[n])==null?void 0:v.patient),appointmentDate:(T=N[n])==null?void 0:T.appointmentDate,amount:W((D=N[n])==null?void 0:D.currency,(d=N[n])==null?void 0:d.amount),status:(C=N[n])==null?void 0:C.status,labTestDate:(B=N[n])==null?void 0:B.labTestDate,reportDate:(q=N[n])==null?void 0:q.reportDate,cancelledDate:($=N[n])==null?void 0:$.cancelledDate}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(U,{statistics:!0,bankDetails:!0}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{children:e.jsx("button",{type:"button",className:`${u?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{a(!0),o(!1)},children:"Withdraw History"})}),e.jsx("div",{children:e.jsx("button",{type:"button",className:`${r?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{o(!0),a(!1)},children:"Refund Requests"})})]}),e.jsxs("div",{className:"",children:[u?e.jsx(w,{data:t,mainHeading:"",searchBar:!0,headings:["ID #","Account #","Created On","Transferred Date","Amount","Status"],cells:["id","accountNumber","creditedOn","requestedDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:R},{action:"edit",icon:I},{action:"delete",icon:S}],actionHandler:s,setCurrentPage:i,pages:x}):"",r?e.jsx(w,{data:h,mainHeading:"",searchBar:!0,headings:["ID #","Pet Parent","Lab Test Date","Report Date","Cancelled Date","Amount","Status"],cells:["id","patient","labTestDate","reportDate","cancelledDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:R},{action:"edit",icon:I},{action:"delete",icon:S}],actionHandler:s,setCurrentPage:i,pages:x}):""]})]})})}function ne(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(U,{settings:!0})})})}function ie(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(X,{})})})}function re(){const[u,a]=m.useState(1),[r,o]=m.useState(3),c=(p,s,l)=>{p.stopPropagation(),console.log(s,`${l} btn clicked`)},x=Array.from({length:10},(p,s)=>{var l,t,f,h,g,n,b,j;return{id:(l=y[s])==null?void 0:l.id,petParent:V((t=y[s])==null?void 0:t.parentImage,(f=y[s])==null?void 0:f.parentName),appointmentDate:(h=y[s])==null?void 0:h.appointmentDate,bookedOn:(g=y[s])==null?void 0:g.bookedOn,amount:W((n=y[s])==null?void 0:n.currency,(b=y[s])==null?void 0:b.amount),status:(j=y[s])==null?void 0:j.status}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(w,{data:x,mainHeading:"",searchBar:!1,headings:["ID #","Pet Parents","Appointment Date","BookedOn","Amount","Status"],cells:["id","petParent","appointmentDate","bookedOn","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:R},{action:"edit",icon:I},{action:"delete",icon:S}],actionHandler:c,currentPage:u,setCurrentPage:a,pages:r})})})}function oe(){const[u,a]=m.useState(1),[r,o]=m.useState(3),c=[{id:1,name:"Sofi's Clinic",image:F,appointmentFee:"$350",address:"2286 Sundown Lane, Old Trafford 24541, UK",openingHours:[{day:"Monday",openingTime:"7:00 AM",closingTime:"9:00 PM"},{day:"Tuesday",openingTime:"7:00 AM",closingTime:"9:00 PM"}]},{id:2,name:"Sofi's Clinic",image:F,appointmentFee:"$350",address:"2286 Sundown Lane, Old Trafford 24541, UK",openingHours:[{day:"Monday",openingTime:"7:00 AM",closingTime:"9:00 PM"},{day:"Tuesday",openingTime:"7:00 AM",closingTime:"9:00 PM"}]}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"flex flex-col gap-5",children:c==null?void 0:c.map((i,x)=>{var p;return e.jsxs("div",{className:"bg-white border border-gray-300 rounded-[12px] p-5 flex max-[1025px]:flex-col gap-3 justify-between",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex roudned-[6px] w-[50px] h-[50px]",children:e.jsx("img",{className:"inline-flex w-full h-full rounded-[6px]",src:i==null?void 0:i.image,alt:"clinic image"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-[500] text-[18px]",children:i==null?void 0:i.name}),e.jsxs("p",{className:"text-[#4C63BD] flex items-center gap-1",children:[e.jsx("span",{children:i==null?void 0:i.appointmentFee}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Appointment"})]}),e.jsx("p",{children:i==null?void 0:i.address})]})]}),e.jsx("div",{className:"flex max-[1025px]:flex-col max-[1025px]:items-start items-center gap-5",children:(p=i==null?void 0:i.openingHours)==null?void 0:p.map((s,l)=>e.jsxs("div",{className:"border border-gray-300 rounded-[12px] p-5 flex flex-col gap-3 justify-center items-center",children:[e.jsx("p",{className:"font-[600] text-[18px]",children:s==null?void 0:s.day}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx("span",{children:s==null?void 0:s.openingTime}),e.jsx("span",{children:"-"}),e.jsx("span",{children:s==null?void 0:s.closingTime})]})]},l))})]})}),e.jsx("div",{className:"flex rounded-[12px] w-[250px] max-[1025px]:w-full h-[200px]",children:e.jsx("img",{src:Z,alt:"location image",className:"w-full h-full inline-flex rounded-[12px] object-cover"})})]},x)})}),e.jsx("div",{className:"flex justify-center mt-5",children:e.jsx(J,{totalPages:r,currentPage:u,setCurrentPage:a})})]})})}function De(){var T,D;const{id:u}=M(),[a,r]=m.useState({}),[o,c]=m.useState(!1),[i,x]=m.useState(!1),p=G(),s=p==null?void 0:p.roles,l=m.useMemo(()=>s,[]),[t,f]=m.useState(1),h=["fetch-approved-lab-profile-data",{id:u}],{data:g,error:n}=_({queryKey:h,queryFn:()=>E.get(`/lab/${u}`)});m.useEffect(()=>{if(g){const{data:{data:{doc:d}}}=g;r(d)}n&&A.error(L(n))},[g,n]),m.useEffect(()=>{const d=H.find(C=>O(C.requiredRoles,l));d?f(d.id):(A.error("User has no access to any tabs"),f(null))},[l]);const b={profileName:(a==null?void 0:a.title)||(a==null?void 0:a.fullName)||((T=a==null?void 0:a.user)==null?void 0:T.username)||e.jsxs("span",{children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]})||"N/A",profileImage:(a==null?void 0:a.image)||((D=a==null?void 0:a.user)==null?void 0:D.image),phone:Y(a==null?void 0:a.phone)||"N/A",email:(a==null?void 0:a.email)||"N/A",country:(a==null?void 0:a.countryName)||"N/A",state:(a==null?void 0:a.province)||"N/A",city:(a==null?void 0:a.city)||"N/A",address:(a==null?void 0:a.address)||"",status:(a==null?void 0:a.status)||""},j=async()=>{c(!0);try{await new Promise(d=>setTimeout(d,1e3))}catch(d){A.error(L(d))}finally{c(!1)}},v=async()=>{x(!0);try{await new Promise(d=>setTimeout(d,1e3))}catch(d){A.error(L(d))}finally{x(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Lab Profile"}),e.jsx("div",{children:e.jsx("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:e.jsx("span",{children:"Edit Lab"})})})]}),t!==null&&e.jsx(Q,{activeTab:t,setActiveTab:f,roles:l,hasRequiredRole:O,tabs:H,profileData:b,button1Label:"Send Message",button1Handler:j,submitting1:o,button2Label:"Block",button2Handler:v,submitting2:i}),e.jsxs("div",{className:"",children:[t===1?e.jsx(ae,{}):"",t===2?e.jsx(se,{}):"",t===3?e.jsx(te,{}):"",t===4?e.jsx(ne,{}):"",t===5?e.jsx(ie,{}):"",t===6?e.jsx(re,{}):"",t===7?e.jsx(oe,{}):""]})]})})}export{De as default};
