import{r as o,I as L,k as T,u as S,z as w,V as P,h as R,j as e,m as _,J as $,K as k,N as B,A as M}from"./index-CtF5NqjV.js";import{R as q}from"./ResponsiveTable-BVHihXma.js";import{I as z,a as F,N as H}from"./NoData-CRNyNY9D.js";import"./Status-CFvwze7x.js";import"./index-CP8FX3G0.js";/* empty css                */import"./index-R1RIAz4U.js";function W(){const[t,f]=o.useState([]),[l,j]=o.useState(1),[b,y]=o.useState(1),[N,D]=o.useState(0),{docDeleted:g}=L(a=>a==null?void 0:a.deleteModal),p=10,I=["fetch-lab-test-categories",{currentPage:l,limit:p,docDeleted:g}],{isLoading:v,data:n,isError:E,error:c}=T({queryKey:I,queryFn:()=>M.get(`/lab-test-category?page=${l}&pageSize=${p}`)}),x=S(),d=w();o.useEffect(()=>{var a,s,i,r;n&&(f((s=(a=n==null?void 0:n.data)==null?void 0:a.data)==null?void 0:s.docs),y((r=(i=n==null?void 0:n.data)==null?void 0:i.data)==null?void 0:r.pages),D(t==null?void 0:t.length)),c&&P.error(R(c))},[n,t==null?void 0:t.length,c,g]);const A=Array.from({length:N},(a,s)=>{var i,r,u,h,m;return{_id:(i=t[s])==null?void 0:i._id,id:((r=t[s])==null?void 0:r.longAutoIncrementId)||((u=t[s])==null?void 0:u.autoIncrementId)||"N/A",labTest:e.jsxs("span",{className:"inline-flex max-[351px]:flex-col max-[350px]:items-end items-center gap-[18px]",children:[e.jsx("span",{className:"w-[50px] h-[50px] rounded-full",children:e.jsx("img",{src:`${_}/${(h=t[s])==null?void 0:h.image}`,alt:"test type image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"50%"}})}),e.jsx("span",{children:(m=t[s])==null?void 0:m.title})]})}}),C=(a,s,i)=>{if(a.stopPropagation(),i==="edit"&&x(`/lab-tests-categories/edit/${s==null?void 0:s._id}`),i==="delete"){const r="/lab-test-category";d($(!0)),d(k(r)),d(B(s==null?void 0:s._id))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Lab Tests Categories"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{x("/lab-tests-categories/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),v?e.jsx(z,{}):E?e.jsx(F,{}):(t==null?void 0:t.length)===0?e.jsx(H,{goBackButton:!1}):e.jsx("div",{className:"",children:e.jsx(q,{data:A,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","labTest"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:C,currentPage:l,setCurrentPage:j,pages:b})})]})})}export{W as default};
