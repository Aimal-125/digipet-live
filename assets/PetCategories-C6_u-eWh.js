import{r as l,I as b,k,u as w,z as L,V as M,h as R,j as s,J as $,K as q,N as z,A as B}from"./index-BxhrTQri.js";import{R as F}from"./ResponsiveTable-BOmT_VBO.js";import{E as H}from"./edit-icon-CSd65PgS.js";import{D as K}from"./delete-icon-FU5lMFq3.js";import{n as T}from"./nameWithImage-CcLb93bv.js";/* empty css                */import"./Status-BBB0qoK2.js";import"./index-DFUMWaLX.js";import"./NoData-D5nSU70a.js";import"./index-C9TsHVx2.js";function ee(){var x,j;const[p,y]=l.useState(1),[D,E]=l.useState(1),m=10,{docDeleted:f}=b(a=>a==null?void 0:a.deleteModal),I=["fetch-pet-categories",{currentPage:p,limit:m,docDeleted:f}],{isLoading:N,isError:A,data:t,error:g}=k({queryKey:I,queryFn:()=>B.get(`/pet-category?page=${p}&pageSize=${m}`)}),[n,v]=l.useState((j=(x=t==null?void 0:t.data)==null?void 0:x.data)==null?void 0:j.docs),[P,C]=l.useState(0),h=w(),u=L();l.useEffect(()=>{var a,e,o,r,i,c,d;t&&(v((e=(a=t==null?void 0:t.data)==null?void 0:a.data)==null?void 0:e.docs),E((r=(o=t==null?void 0:t.data)==null?void 0:o.data)==null?void 0:r.pages),C((d=(c=(i=t==null?void 0:t.data)==null?void 0:i.data)==null?void 0:c.docs)==null?void 0:d.length)),g&&M.error(R(g))},[t,g,f]);const S=(a,e,o)=>{if(a.stopPropagation(),o==="edit"&&h(`/pet-categories/edit/${e==null?void 0:e._id}`),o==="delete"){const r="/pet-category";u($(!0)),u(q(r)),u(z(e==null?void 0:e._id))}},_=Array.from({length:P},(a,e)=>{var o,r,i,c,d;return{_id:(o=n[e])==null?void 0:o._id,id:((r=n[e])==null?void 0:r.longAutoIncrementId)||((i=n[e])==null?void 0:i.autoIncrementId)||"N/A",category:T((c=n[e])==null?void 0:c.image,(d=n[e])==null?void 0:d.title)}});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[s.jsx("h1",{className:"main-heading",children:"Pet Categories"}),s.jsx("div",{children:s.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{h("/pet-categories/add")},children:[s.jsx("span",{children:"+"}),s.jsx("span",{children:"Add New"})]})})]}),s.jsx("div",{className:"",children:s.jsx(F,{isLoading:N,isError:A,fetchedData:n,data:_,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","category"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:H},{action:"delete",icon:K}],actionHandler:S,currentPage:p,setCurrentPage:y,pages:D})})]})})}export{ee as default};
