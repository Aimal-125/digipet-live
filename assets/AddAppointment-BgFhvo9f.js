import{j as e,r as o}from"./index-CKvnEMZY.js";/* empty css                           */import{c as D,a as i,F as T,b as F}from"./index.esm-HmjyjoH8.js";import{H as J,I as K}from"./HeadingPlusBackBtn-C0kVFab9.js";import{C as O}from"./CountrySelect-C0FEqkHY.js";import{I as N,S as A}from"./Input-MhhqaxBj.js";import{S as Q,C as W}from"./CitySelect-ThPactxt.js";import{L as h}from"./LayoutDiv-EesrR7xi.js";import{S as g,T as X,A as Y,c as V}from"./converToBase64-CdkCHkjg.js";import{V as Z}from"./index-NOkcjhol.js";import{r as _}from"./returnErrorMessage-BWBZa02J.js";import{c as k,d as ee}from"./index-H6eh1cUe.js";import{c as b,i as le,a as te,P as se}from"./PhoneInput-CypzZehF.js";const ne="/digipet-live/images/doctors-categories/doctor-1.svg";function ae(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5 max-[400px]:flex-col",children:[e.jsx("div",{className:"flex w-[100px] h-[100px] ",children:e.jsx("img",{src:ne,alt:"profile image",className:"inline-flex w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Doctor Name"}),e.jsx("p",{children:"BDS, MDS - oral"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"flex gap-1",children:[e.jsx("span",{children:"Experience:"}),e.jsx("span",{children:"10 years +"})]}),e.jsxs("p",{className:"flex gap-1",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{children:"-----"})]})]})]})]})})}function ie({formik:s,setClinicsLoading:a=()=>{},setAppointmentDate:r=()=>{}}){const m=async d=>{if(s.setFieldValue("clinic",""),s.setFieldValue("appointmentDate",""),r(""),s.setFieldValue("appointmentTime",""),s.resetForm(),s.setFieldValue("appointmentType",d),s.setFieldTouched("appointmentType",!0,!1),d!=="clinic"&&(s.setFieldValue("clinic",""),s.setFieldValue("appointmentDate",""),r(""),s.setFieldValue("appointmentTime","")),d==="clinic")try{a(!0),await new Promise(x=>setTimeout(x,1e3))}catch(x){console.log(x)}finally{a(!1)}else a(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-[600px]:flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsxs("button",{type:"button",className:`${s.values.appointmentType==="clinic"?"bg-[#4C63BD] text-white":""} max-[600px]:w-full cursor-pointer rounded-[6px] px-4 py-2 border border-[#4C63BD] text-[#4C63BD] inline-flex flex-col items-center justify-center gap-1`,onClick:()=>m("clinic"),children:[e.jsx("span",{children:e.jsx(k,{})}),e.jsx("span",{children:"Clinic"})]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:`${s.values.appointmentType==="videoConsultation"?"bg-[#4C63BD] text-white":""} max-[600px]:w-full cursor-pointer rounded-[6px] px-4 py-2 border border-[#4C63BD] text-[#4C63BD] inline-flex flex-col items-center justify-center gap-1`,onClick:()=>m("videoConsultation"),children:[e.jsx("span",{children:e.jsx(ee,{})}),e.jsx("span",{children:"Video Consultation"})]})})]})})}function P({formik:s,getAppointmentDate:a=()=>{}}){const r=o.useMemo(()=>{const t=new Date,n=[],c=new Intl.DateTimeFormat("en-US",{month:"long"});for(let j=0;j<7;j++){const u=new Date(t);u.setDate(t.getDate()+j),n.push({date:u.getDate().toString(),month:c.format(u),fullDate:u.toISOString().split("T")[0]})}return n},[]),[m,d]=o.useState(null);o.useEffect(()=>{const t=s.values.appointmentDate;if(t){const n=r.findIndex(c=>c.fullDate===t);d(n!==-1?n:null)}else d(null)},[s.values.appointmentDate,r]);const x=(t,n)=>{d(n),a(t.fullDate),s.setFieldValue("appointmentDate",t.fullDate)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-[#252C62] text-[18px] font-[600]",children:"Select Date"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.map((t,n)=>{const c=m===n;return e.jsxs("button",{type:"button",className:`${c?"bg-[#4C63BD] text-white":"text-[#4C63BD]"} border border-[#4C63BD] px-4 py-2 inline-flex flex-col gap-1 justify-center items-center rounded-[10px] cursor-pointer`,onClick:()=>x(t,n),children:[e.jsx("span",{children:t.date}),e.jsx("span",{children:t.month})]},t.fullDate)})})]})})}function I({formik:s,shiftsData:a={}}){var m,d,x;const r=(t,n)=>{s.setFieldValue("appointmentTime",`${t}${n}`)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5 overflow-auto",children:[e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start gap-5 items-center",children:[e.jsx("p",{children:"Morning Slot"}),e.jsx("div",{className:"flex flex-wrap items-center gap-5",children:(m=a==null?void 0:a.morningShift)==null?void 0:m.map((t,n)=>{const c=s.values.appointmentTime===`${t}AM`;return e.jsx("button",{type:"button",className:b("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":c,"border-gray-300 hover:bg-gray-100":!c},{"opacity-50 cursor-not-allowed":!t}),onClick:()=>t&&r(t,"AM"),disabled:!t,children:t||"-:--"},n)})})]}),e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start flex-wrap gap-5 items-center",children:[" ",e.jsx("p",{children:"Afternoon Slots"}),e.jsx("div",{className:"flex items-center gap-5",children:(d=a==null?void 0:a.afternoonShift)==null?void 0:d.map((t,n)=>{const c=s.values.appointmentTime===`${t}PM`;return e.jsx("button",{type:"button",className:b("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":c,"border-gray-300 hover:bg-gray-100":!c},{"opacity-50 cursor-not-allowed":!t}),onClick:()=>t&&r(t,"PM"),disabled:!t,children:t||"-:--"},n)})})]}),e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start flex-wrap gap-5 items-center",children:[" ",e.jsx("p",{children:"Evening Slots"}),e.jsx("div",{className:"flex items-center gap-5",children:(x=a==null?void 0:a.eveningShift)==null?void 0:x.map((t,n)=>{const c=s.values.appointmentTime===`${t}PM`;return e.jsx("button",{type:"button",className:b("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":c,"border-gray-300 hover:bg-gray-100":!c},{"opacity-50 cursor-not-allowed":!t}),onClick:()=>t&&r(t,"PM"),disabled:!t,children:t||"-:--"},n)})})]})]})})}function ye(){const[s,a]=o.useState(""),[r,m]=o.useState(""),[d,x]=o.useState(""),[t,n]=o.useState(!1),[c,j]=o.useState(!1),[u,f]=o.useState(""),[y,S]=o.useState(!1),[C,B]=o.useState({}),[v,q]=o.useState(null);o.useEffect(()=>{(async()=>{if(u){S(!0);try{await new Promise(p=>setTimeout(()=>{p()},1e3)),B({morningShift:["9:00","10:00",""],afternoonShift:["1:00","2:00",""],eveningShift:["6:00","","7:00"]})}catch(p){console.log(p)}finally{S(!1)}}})()},[u]),o.useEffect(()=>{if(s){const l=new Intl.DisplayNames(["en"],{type:"region"});m(l.of(s))}},[s]);const M={countryCode:"",state:"",city:"",clinic:"",speciality:"",doctor:""},R=D().shape({countryCode:i().required("Country is required"),state:i(),city:i(),clinic:i(),speciality:i().required("Required"),doctor:i().required("Required")}),$=async l=>{try{await new Promise(p=>setTimeout(()=>{p()},1e3)),n(!0)}catch(p){Z.error(_(p))}console.log({...l,country:r})},w=[{label:"Clinic 1",value:"clinic1"}],E=[{label:"Speciality 1",value:"speciality"}],L=[{label:"Doctor 1",value:"doctor1"}],H=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"}],z={appointmentType:"",clinic:"",appointmentDate:"",appointmentTime:"",fullName:"",phone:"",email:"",petSpecie:"",symptoms:"",address:"",visitReason:""},U=D().shape({appointmentType:i(),clinic:i(),appointmentDate:i(),appointmentTime:i(),fullName:i().required("Full Name is required"),phone:i().test("is-possible-phone","Please enter valid phone number",l=>le(l)).test("is-valid-phone","Please enter valid phone number",l=>te(l)).required("Phone Number is required"),email:i().email(),petSpecie:i().required("Required"),symptoms:i(),address:i(),visitReason:i()}),G=async l=>{let p=null;if((l==null?void 0:l.appointmentType)==="clinic")v?(p=await V(v),console.log({...l,attachment:p})):console.log(l);else{const{clinic:ce,...oe}=l;v?(p=await V(v),console.log({...l,attachment:p})):console.log(l)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(J,{label:"Add Appointment"})}),t?e.jsxs("div",{className:"flex flex-col gap-5 rounded-[20px]",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex",children:e.jsxs("button",{className:"inline-flex items-center gap-1 cursor-pointer",type:"button",onClick:()=>{n(!1)},children:[e.jsx("span",{children:e.jsx(K,{})}),e.jsx("span",{children:"Cancel"})]})})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3 rounded-[20px] bg-white p-5",children:[e.jsx("p",{className:"text-[#252C62] text-[18px] font-[600]",children:"Doctor"}),e.jsx(ae,{})]}),e.jsx("div",{className:"flex flex-col gap-3 rounded-[20px]",children:e.jsx("div",{className:"",children:e.jsx(T,{initialValues:z,validationSchema:U,onSubmit:G,enableReinitialize:!0,children:l=>e.jsxs(F,{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"bg-white rounded-[20px] p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"text-[#252C62] text-[20px] font-[600]",children:"Appointment Info"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-[#252C62] text-[18px] font-[600] mb-3",children:"Select Appointment Type"}),e.jsx(ie,{formik:l,setClinicsLoading:j,setAppointmentDate:f})]}),l.values.appointmentType==="clinic"?e.jsx("div",{className:"",children:c?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(g,{formik:l,name:"clinic",id:"clinic",label:"Clinic",options:w}),l.values.clinic&&e.jsx("div",{className:"",children:e.jsx(P,{formik:l,getAppointmentDate:f})}),u?e.jsx("div",{className:"",children:y?e.jsx("div",{children:"Loading..."}):e.jsx("div",{className:"",children:e.jsx(I,{formik:l,shiftsData:C})})}):""]})}):""]}),l.values.appointmentType==="videoConsultation"?e.jsxs("div",{className:"p-5 bg-white rounded-[20px] flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(P,{formik:l,getAppointmentDate:f})}),u?e.jsx("div",{className:"",children:y?e.jsx("div",{children:"Loading..."}):e.jsx("div",{className:"",children:e.jsx(I,{formik:l,shiftsData:C})})}):""]}):"",l.values.appointmentTime&&e.jsx("div",{className:"rounded-[20px] p-5 bg-white",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-[#252C62] text-[20px] font-[600]",children:"Information"}),e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{formik:l,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(se,{name:"phone",id:"phone",label:"Phone"})})]}),e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{name:"email",id:"email",label:"Email (optional)",formik:l})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:l,name:"petSpecie",id:"petSpecie",label:"Pet Specie",options:H})})]}),e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{name:"symptoms",id:"symptoms",label:"Symptoms (optional)",formik:l})}),e.jsx("div",{className:"w-full",children:e.jsx(N,{name:"address",id:"address",label:"Address (optional)",formik:l})})]}),e.jsx("div",{className:"w-full",children:e.jsx(X,{formik:l,name:"visitReason",id:"visitReason",label:"Reason For Visit (optional)"})}),e.jsx("div",{className:"w-full",children:e.jsx(Y,{formik:l,name:"attachment",id:"attachment",label:"Attachment (optional)",getAttachment:q})}),e.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[e.jsx(A,{formik:l}),e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"rounded-[6px] bg-gray-200 hover:bg-gray-300 transition-colors cursor-pointer px-4 py-2",onClick:()=>{l.setFieldValue("appointmentType",""),l.setFieldValue("clinic",""),l.setFieldValue("appointmentDate",""),f(""),l.setFieldValue("appointmentTime",""),l.resetForm()},children:"Cancel"})})]})]})})]})})})})]})]}):e.jsxs("div",{className:"bg-white rounded-[20px] p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"text-[#252C62]",children:"Add Appointment"}),e.jsx("div",{className:"",children:e.jsx(T,{initialValues:M,validationSchema:R,onSubmit:$,enableReinitialize:!0,children:l=>e.jsxs(F,{className:"flex flex-col gap-3",children:[e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(O,{formik:l,getCountryCode:a})}),e.jsx("div",{className:"w-full",children:e.jsx(Q,{formik:l,countryCode:s,getStateCode:x})})]}),e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(W,{formik:l,countryCode:s,stateCode:d})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:l,name:"clinic",id:"clinic",label:"Hospital/Clinic (optional)",options:w})})]}),e.jsxs(h,{children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:l,name:"speciality",id:"speciality",label:"Speciality",options:E})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:l,name:"doctor",id:"doctor",label:"Doctor",options:L})})]}),e.jsx("div",{className:"mt-2",children:e.jsx(A,{formik:l,label:"Next"})})]})})})]})]})})}export{ye as default};
