import{r as n,u as b,z as L,I as V,k as C,V as K,h as M,j as t,J as q,K as z,N as B,A as F}from"./index-BxhrTQri.js";import{n as J}from"./nameWithImage-CcLb93bv.js";/* empty css                */import{R as O}from"./ResponsiveTable-BOmT_VBO.js";import{V as Q}from"./view-icon-DsPpK1Wz.js";import{E as T}from"./edit-icon-CSd65PgS.js";import{D as W}from"./delete-icon-FU5lMFq3.js";import"./Status-BBB0qoK2.js";import"./index-DFUMWaLX.js";import"./NoData-D5nSU70a.js";import"./index-C9TsHVx2.js";function ne(){var f,x;const[c,w]=n.useState(1),[y,A]=n.useState(1),[l,g]=n.useState(""),m=10,d=b(),p=L(),[E,S]=n.useState(0),{docDeleted:u}=V(s=>s==null?void 0:s.deleteModal),H=["fetch-all-hospitals-in-review",{currentPage:c,limit:m,keyword:l,docDeleted:u}],{isLoading:_,data:o,isError:k,error:h}=C({queryKey:H,queryFn:()=>F.get(`/clinic?status=In Review&page=${c}&pageSize=${m}&keyword=${l}`)}),[a,P]=n.useState((x=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:x.docs);n.useEffect(()=>{if(o){const{data:{data:{docs:s}}}=o,{data:{data:{pages:e}}}=o;P(s),A(e),S(s==null?void 0:s.length)}u&&g(""),h&&K.error(M(h))},[o,h,u,l]);const R=(s,e,i)=>{if(s.stopPropagation(),i==="view"&&d(`/all-hospitals/details/${e==null?void 0:e._id}`),i==="edit"&&d(`/all-hospitals/edit/${e==null?void 0:e._id}`),i==="delete"){const r="/clinic";p(q(!0)),p(z(r)),p(B(e==null?void 0:e._id))}},$=Array.from({length:E},(s,e)=>{var i,r,D,j,I,N,v;return{_id:(i=a[e])==null?void 0:i._id,id:((r=a[e])==null?void 0:r.longAutoIncrementId)||((D=a[e])==null?void 0:D.autoIncrementId)||"N/A",hospitalName:J((j=a[e])==null?void 0:j.image,(I=a[e])==null?void 0:I.title),location:((N=a[e])==null?void 0:N.address)||"N/A",status:(v=a[e])==null?void 0:v.status}});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[t.jsx("h1",{className:"main-heading",children:"All Hospitals"}),t.jsx("div",{children:t.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{d("/all-hospitals/add")},children:[t.jsx("span",{children:"+"}),t.jsx("span",{children:"Add New"})]})})]}),t.jsx("div",{className:"",children:t.jsx(O,{isLoading:_,isError:k,fetchedData:a,data:$,mainHeading:"All Hospitals",searchBar:!0,headings:["ID #","Hospital Name","Location","Status","Action"],cells:["id","hospitalName","location"],status:!0,actions:!0,actionTypes:[{action:"view",icon:Q},{action:"edit",icon:T},{action:"delete",icon:W}],actionHandler:R,currentPage:c,setCurrentPage:w,setKeyword:g,pages:y})})]})})}export{ne as default};
