import{r,z as M,k as S,V as F,h as R,j as a,B as _,M as $,C as j,D as H,A as U}from"./index-MSo7KKZK.js";import{D as q}from"./DashboardContainer1-B5IYBDB6.js";import{R as z}from"./ResponsiveTable-C3HdMedD.js";import{P as O,D as Y,A as J,a as K}from"./admin-profit-icon-YhiRSQEj.js";import{V as Q}from"./view-icon-DsPpK1Wz.js";import{E as T}from"./edit-icon-CSd65PgS.js";import{I as W,a as G}from"./IsError-HaUby00B.js";import{N as X}from"./NoData-BL4tCc14.js";import{f as Z}from"./index-_LaXt9Uz.js";import{h as aa}from"./moment-C5S46NFB.js";import"./Status-DnxBEsO-.js";import"./index-DG2D3s3o.js";/* empty css                */import"./index-C8bEB6O7.js";import"./index-BZZEHeqx.js";function fa(){var p,m;const[i,D]=r.useState(1),[N,y]=r.useState(1),d=10,[I,L]=r.useState(0),c=M(),v=["fetch-labs",{currentPage:i,limit:d}],{isLoading:P,data:n,isError:k,error:l}=S({queryKey:v,queryFn:()=>U.get(`lab?status=Approved&isLabBranch=no&page=${i}&pageSize=${d}`)}),[e,w]=r.useState((m=(p=n==null?void 0:n.data)==null?void 0:p.data)==null?void 0:m.docs);r.useEffect(()=>{if(n){const{data:{data:{docs:s}}}=n,{data:{data:{pages:t}}}=n;w(s),y(t),L(s==null?void 0:s.length)}l&&F.error(R(l))},[n,l]);const B=Array.from({length:I},(s,t)=>{var o,u,g,h,f,b,x,A;return{_id:(o=e[t])==null?void 0:o._id,id:((u=e[t])==null?void 0:u.longAutoIncrementId)||((g=e[t])==null?void 0:g.autoIncrementId)||"N/A",labName:((h=e[t])==null?void 0:h.title)||"N/A",email:((f=e[t])==null?void 0:f.email)||"N/A",phone:Z((b=e[t])==null?void 0:b.phone)||"N/A",joinedDate:aa(((x=e[t])==null?void 0:x.createdAt)||"2025-01-01").format("DD/MM/YY"),status:((A=e[t])==null?void 0:A.status)||"N/A"}}),E=[{label:"All Labs",totalValue:40689,icon:O,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:Y,status:"Up",value:1.3,duration:"past week"},{label:"Verified Labs",totalValue:89e3,icon:J,status:"Down",value:4.3,duration:"yesterday"},{label:"Blocked Labs",totalValue:2040,icon:K,status:"Up",value:1.8,duration:"yesterday"}],V=(s,t,o)=>{s.stopPropagation(),console.log(t,`${o} btn clicked`)},C=(s,t,o)=>{s.stopPropagation(),o==="change-password"&&(c(j(!0)),c(H({type:"change-password",data:{userId:t._id}}))),o==="block"&&c(j(!0)),console.log(t,`${o} btn clicked`)};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[a.jsx("h1",{className:"main-heading",children:"Labs"}),a.jsx("div",{children:a.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Add New Lab"})]})})]}),a.jsx("div",{className:"",children:a.jsx(q,{data:E})}),P?a.jsx(W,{}):k?a.jsx(G,{}):!e||(e==null?void 0:e.length)===0?a.jsx(X,{goBackButton:!1}):a.jsx("div",{className:"",children:a.jsx(z,{data:B,mainHeading:"All Labs",searchBar:!0,headings:["ID #","Lab Name","Email","Phone","Joined Date","Status","Action"],cells:["id","labName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:Q},{action:"edit",icon:T}],actionHandler:V,currentPage:i,setCurrentPage:D,pages:N,navigation:!0,navigationLink:"/labs/approved/profile",headingNameForNavigationOnMobile:"Lab Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:a.jsx(_,{})},{label:"Block",action:"block",icon:a.jsx($,{})}],moreActionsHandler:C})})]})})}export{fa as default};
