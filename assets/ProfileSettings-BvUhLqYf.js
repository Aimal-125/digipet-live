import{r as c,j as e}from"./index-CaUlzWuS.js";import{c as g,a as m,e as j,F as b,b as f,E as i}from"./index.esm-Dz87sCNe.js";import{V as N}from"./index-DlOgXXTq.js";import{r as v}from"./returnErrorMessage-BWBZa02J.js";import{N as C}from"./no-image-icon-CabPHXKl.js";import{b as d}from"./index-D2latsLr.js";function P(){const x={image:null,username:"admin",email:"admin@email.com",phone:"admin"},[t,r]=c.useState(""),p=g().shape({image:j().nullable().test("fileSize","Image size must be less than 4MB",s=>s===null||s instanceof File&&s.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",s=>s===null||s instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(s.type)).required("Image is required"),username:m().required("Username is required"),email:m().email().required("Email is required"),phone:m().required("Phone is required")}),o=c.useCallback(s=>new Promise((l,n)=>{const a=new FileReader;a.onloadend=()=>l(a.result),a.onerror=n,a.readAsDataURL(s)}),[]),u=c.useCallback(async(s,l)=>{l.setFieldValue("image",s.currentTarget.files[0]);const n=s.currentTarget.files[0];if(n){const a=await o(n);r(a)}else r("")},[o]),h=async(s,{setSubmitting:l,resetForm:n})=>{l(!0);try{await new Promise(a=>setTimeout(()=>a(),1e3))}catch(a){N.error(v(a))}finally{l(!1),n(),r(""),console.log("Form submitted with values:",{...s,image:t})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("h1",{className:"main-heading",children:"Profile Settings"}),e.jsxs("div",{className:"border border-[#AEC8E2] bg-white rounded-[20px] p-[20px] flex flex-col gap-5",children:[e.jsx("h2",{className:"font-[500] text-[#252C62] text-[20px] pb-[20px] border-b border-b-[#aec8e2]",children:"Profile Information"}),e.jsx(b,{initialValues:x,validationSchema:p,onSubmit:h,enableReinitialize:!0,children:s=>e.jsxs(f,{children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-5 border border-[#AEC8E2] p-5 rounded-[14px]",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"image",className:"block text-[18px] font-[500] text-[#252C62]",children:"Profile Image"}),e.jsxs("div",{className:"mt-1 flex max-[601px]:flex-col max-[601px]:items-start items-center gap-5",children:[e.jsx("div",{className:"relative w-[110px] h-[110px] rounded-[15px] border border-[#AEC8E2] bg-[#F1F5F9] flex items-center justify-center",children:t?e.jsx("img",{src:t,alt:"File Preview",className:"w-full h-full object-cover rounded-[15px]"}):e.jsx("img",{src:C,alt:"no image"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"image",name:"image",onChange:l=>u(l,s),className:"hidden",form:s}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"image",className:"cursor-pointer font-[500] text-[#202224] text-[16px]",children:"Upload New"}),t&&e.jsx("button",{type:"button",onClick:()=>{s.setFieldValue("image",null),r("")},className:"text-red-500 text-[16px] cursor-pointer",form:s,children:"Remove"})]}),e.jsx("p",{className:"text-[#202224] text-[14px] font-[400]",children:"Your Image should Below 4 MB, Accepted format jpg,png,svg"})]})]})]})]}),e.jsx(i,{name:"image",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{htmlFor:"username",className:"flex items-center gap-2 text-sm font-medium text-[#252C62] text-[18px]",children:["Username"," ",e.jsxs("span",{className:"info-span",children:[e.jsx(d,{}),e.jsxs("span",{className:"info-hover",children:[e.jsx("span",{children:"Username can't be changed"}),e.jsx("span",{className:"triangle"})]})]})]}),e.jsx("input",{type:"text",id:"username",name:"username",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.username,className:"mt-1 block w-full rounded-[6px] px-4 py-2 border border-[#AEC8E2]",form:s,disabled:!0}),e.jsx(i,{name:"username",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 text-sm font-medium text-[#252C62] text-[18px]",children:["Email"," ",e.jsxs("span",{className:"info-span",children:[e.jsx(d,{}),e.jsxs("span",{className:"info-hover",children:[e.jsx("span",{children:"Email can't be changed"}),e.jsx("span",{className:"triangle"})]})]})]}),e.jsx("input",{type:"email",name:"email",id:"email",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email,className:"mt-1 block w-full rounded-[6px] px-4 py-2 border border-[#AEC8E2]",form:s,disabled:!0}),e.jsx(i,{name:"email",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-sm font-medium text-[#252C62] text-[18px]",children:["Phone"," ",e.jsxs("span",{className:"info-span",children:[e.jsx(d,{}),e.jsxs("span",{className:"info-hover",children:[e.jsx("span",{children:"Phone can't be changed"}),e.jsx("span",{className:"triangle"})]})]})]}),e.jsx("input",{type:"tel",name:"phone",id:"phone",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.phone,className:"mt-1 block w-full rounded-[6px] px-4 py-2 border border-[#AEC8E2]",form:s,disabled:!0}),e.jsx(i,{name:"phone",component:"div",className:"text-sm text-red-500"})]})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-5",children:e.jsx("button",{type:"submit",className:`${s!=null&&s.isSubmitting?"cursor-not-allowed":"cursor-pointer"} bg-[#4C63BD] inline-flex justify-center rounded-[20px] border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-500`,disabled:s==null?void 0:s.isSubmitting,children:"Save"})})]})})]})]})})}export{P as default};
