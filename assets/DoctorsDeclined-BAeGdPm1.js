import{r,u as R,z as Y,k as H,V as U,h as $,j as t,B as q,M as z,C as y,D as v,A as O}from"./index-BxhrTQri.js";import{D as T}from"./DashboardContainer1-DR1SaXty.js";import{R as J}from"./ResponsiveTable-BOmT_VBO.js";import{P as K,D as Q,A as W,a as G}from"./admin-profit-icon-YhiRSQEj.js";import{V as X}from"./view-icon-DsPpK1Wz.js";import{E as Z}from"./edit-icon-CSd65PgS.js";/* empty css                */import{h as aa}from"./moment-C5S46NFB.js";import{f as ta}from"./index-ek4iHqdz.js";import"./Status-BBB0qoK2.js";import"./index-DFUMWaLX.js";import"./NoData-D5nSU70a.js";import"./index-C9TsHVx2.js";import"./index-DygF_gE-.js";function ga(){const[e,b]=r.useState([]),[c,I]=r.useState(1),[P,w]=r.useState(1),d=10,[k,V]=r.useState(0),E=R(),n=Y(),B=["fetch-doctors-declined",{currentPage:c,limit:d}],{isLoading:C,data:i,isError:M,error:l}=H({queryKey:B,queryFn:()=>O.get(`/doctor/?page=${c}&pageSize=${d}&status=Declined`)});r.useEffect(()=>{if(i){const{data:{data:{docs:o}}}=i,{data:{data:{pages:a}}}=i;b(o),w(a),V(o==null?void 0:o.length)}l&&U.error($(l))},[i,l]);const L=Array.from({length:k},(o,a)=>{var s,p,u,m,h,f,g,D,x,N,j,A;return{_id:(s=e[a])==null?void 0:s._id,id:((p=e[a])==null?void 0:p.longAutoIncrementId)||((u=e[a])==null?void 0:u.autoIncrementId)||"N/A",doctorName:((m=e[a])==null?void 0:m.fullName)||t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{children:(h=e[a])==null?void 0:h.firstName}),t.jsx("span",{children:(f=e[a])==null?void 0:f.lastName})]})||((D=(g=e[a])==null?void 0:g.user)==null?void 0:D.username)||"N/A",email:((x=e[a])==null?void 0:x.email)||"N/A",phone:ta((N=e[a])==null?void 0:N.phone)||"N/A",joinedDate:t.jsx("span",{children:aa(((j=e[a])==null?void 0:j.createdAt)||"2025-01-01").format("DD/MM/YYYY")}),status:((A=e[a])==null?void 0:A.status)||"N/A"}}),S=[{label:"All Doctors",totalValue:40689,icon:K,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:Q,status:"Up",value:1.3,duration:"past week"},{label:"Verified Doctors",totalValue:89e3,icon:W,status:"Down",value:4.3,duration:"yesterday"},{label:"Doctors Blocked",totalValue:2040,icon:G,status:"Up",value:1.8,duration:"yesterday"}],_=(o,a,s)=>{o.stopPropagation(),s==="view"&&E(`/doctors/declined/profile/${a==null?void 0:a._id}`)},F=(o,a,s)=>{o.stopPropagation(),s==="change-password"&&(n(y(!0)),n(v({type:"change-password",data:{userId:a._id}}))),s==="block"&&(n(y(!0)),n(v({type:"block",data:{userId:a._id}})))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex max-[360px]:flex-col gap-3 items-center justify-between",children:[t.jsx("h1",{className:"main-heading",children:"Doctors"}),t.jsx("div",{children:t.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[t.jsx("span",{children:"+"}),t.jsx("span",{children:"Add New Doctor"})]})})]}),t.jsx("div",{className:"",children:t.jsx(T,{data:S})}),t.jsx("div",{className:"",children:t.jsx(J,{isLoading:C,isError:M,fetchedData:e,data:L,mainHeading:"All Doctors",searchBar:!0,headings:["ID #","Doctor Name","Email","Phone","Joined Date","Status","Action"],cells:["id","doctorName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:X},{action:"edit",icon:Z}],actionHandler:_,currentPage:c,setCurrentPage:I,pages:P,navigation:!0,navigationLink:"/doctors/declined/profile",headingNameForNavigationOnMobile:"Doctor Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:t.jsx(q,{})},{label:"Block",action:"block",icon:t.jsx(z,{})}],moreActionsHandler:F})})]})})}export{ga as default};
