import{r as g,u,c as p,a as x,l as f,j as e,F as j,b as h,S as I,A as b,V as l,h as N}from"./index-Bpiqhjgz.js";import{H as S}from"./HeadingPlusBackBtn-C8OAfrzG.js";import{S as v}from"./SingleImageUpload-DaAwTnT2.js";import{I as D}from"./Input-kJjHXrnY.js";import"./BackButton-B-9d8BOC.js";import"./index-DC3BKKND.js";import"./no-image-icon-CabPHXKl.js";function z(){const[t,n]=g.useState(""),c=u(),o={imageDataURI:null,title:""},m=p().shape({imageDataURI:f().nullable().test("fileSize","Image size must be less than 4MB",s=>s===null||s instanceof File&&s.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png",s=>s===null||s instanceof File&&["image/jpeg","image/png"].includes(s.type)).required("Image is required"),title:x().required("Title is required")}),d=async(s,{setSubmitting:i})=>{var r;i(!0);try{const{data:a}=await b.post("/speciality",{...s,imageDataURI:t,status:"Approved"});a!=null&&a.success&&(l.success((a==null?void 0:a.message)||((r=a==null?void 0:a.data)==null?void 0:r.message)),c("/doctors-categories"))}catch(a){l.error(N(a))}finally{i(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(S,{label:"Add Doctor Category"})}),e.jsx("div",{className:"bg-white p-5 rounded-[20px]",children:e.jsx(j,{initialValues:o,validationSchema:m,onSubmit:d,enableReinitialize:!0,children:s=>e.jsxs(h,{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(v,{formik:s,base64Image:t,setBase64Image:n,name:"imageDataURI",id:"imageDataURI"})}),e.jsx("div",{className:"",children:e.jsx(D,{formik:s,name:"title",id:"title",label:"Title"})}),e.jsx("div",{className:"mt-2",children:e.jsx(I,{formik:s})})]})})})]})})}export{z as default};
