import{r as l,j as e,V as w}from"./index-BzKEkVSX.js";import{c as N,g as y,a as r,f as P,F as b,b as v,y as q}from"./index.esm-MKOa5JfX.js";import{Y as C}from"./index-Cm0ffNsL.js";import{i as g,a as S,P as E}from"./PhoneInput-DMaQR9bR.js";import{H as F}from"./HeadingPlusBackBtn-C8IJ6y7-.js";import{S as I}from"./SubmitButton-Dqfvwzr_.js";import{I as n}from"./Input-CeuYmisC.js";import{L as o}from"./LayoutDiv-k4AYyxmR.js";import{P as d}from"./PasswordInput-CpUYIhHp.js";import{M as A}from"./MultSelectBox-KLcXs4Oo.js";import{r as V}from"./returnErrorMessage-BWBZa02J.js";import{C as B}from"./CountrySearchInput-G4U6VIrd.js";import"./index-DCMbE20o.js";import"./index-OskLXrAb.js";C(q);function W(){const[a,m]=l.useState(""),[u,c]=l.useState(""),p=["user","doctor","admin"];l.useEffect(()=>{if(a){const s=new Intl.DisplayNames(["en"],{type:"region"});c(s.of(a))}},[a]);const x={fullName:"",username:"",email:"",password:"",confirmPassword:"",phone:"",country:"",role:[]},f=N().shape({fullName:r().required("Full Name is required"),username:r().required("Username is required"),email:r().email().required("Email is required"),password:r().password().required("Password is required"),confirmPassword:r().oneOf([P("password"),null],"Passwords do not match").required("Confirm password is required"),phone:r().test("is-possible-phone","Please enter valid phone number",s=>g(s)).test("is-valid-phone","Please enter valid phone number",s=>S(s)).required("Phone Number is required"),country:r().required("Country is required"),role:y().min(1,"At least one role is required").required("Role is required")}),h=async(s,{setSubmitting:t})=>{t(!0);const{countryCode:R,...j}=s;try{await new Promise(i=>setTimeout(()=>{i()},1e3))}catch(i){w.error(V(i))}finally{t(!1),console.log({...j,country:u})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(F,{label:"Add Admin User"})}),e.jsx("div",{className:"rounded-[20px] bg-white p-5",children:e.jsx(b,{initialValues:x,validationSchema:f,onSubmit:h,enableReinitialize:!0,children:s=>e.jsxs(v,{className:"flex flex-col gap-3",children:[e.jsxs(o,{children:[e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"username",id:"username",label:"Username"})})]}),e.jsxs(o,{children:[e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"email",id:"email",label:"Email"})}),e.jsx("div",{className:"w-full",children:e.jsx(A,{formik:s,name:"role",id:"role",label:"Role",options:p})})]}),e.jsxs(o,{children:[e.jsx("div",{className:"w-full",children:e.jsx(d,{formik:s,name:"password",id:"password",label:"Password"})}),e.jsx("div",{className:"w-full",children:e.jsx(d,{formik:s,name:"confirmPassword",id:"confirmPassword",label:"Confirm Password"})})]}),e.jsxs(o,{children:[e.jsx("div",{className:"w-full",children:e.jsx(B,{formik:s,name:"country",id:"country",label:"Country",getCountryCode:m})}),e.jsx("div",{className:"w-full",children:e.jsx(E,{name:"phone",id:"phone",label:"Phone",country:a})})]}),e.jsx("div",{className:"mt-2",children:e.jsx(I,{formik:s})})]})})})]})})}export{W as default};
