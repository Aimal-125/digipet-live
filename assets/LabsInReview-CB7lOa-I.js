import{r as n,z as B,k as C,V as M,h as R,j as a,B as S,M as F,C as x,D as _,A as $}from"./index-BlNJeTnI.js";import{D as H}from"./DashboardContainer1-CNU2Pzse.js";import{R as U}from"./ResponsiveTable-DiwuAV0F.js";import{P as q,D as z,A as O,a as Y}from"./admin-profit-icon-YhiRSQEj.js";import{V as J}from"./view-icon-DsPpK1Wz.js";import{E as K}from"./edit-icon-CSd65PgS.js";import{I as Q,a as T}from"./IsLoading-D95Gb4F-.js";import{N as W}from"./NoData-B3aR2nQK.js";import{f as G}from"./index-BxOy02jV.js";import{h as X}from"./moment-C5S46NFB.js";import"./Status-Di69wyNS.js";import"./index-oJTn2rPy.js";/* empty css                  */import"./index-CMglQiNc.js";import"./index-3O3QBvKC.js";function ga(){const[t,j]=n.useState([]),[i,A]=n.useState(1),[D,N]=n.useState(1),d=10,[I,v]=n.useState(0),c=B(),y=["fetch-labs-in-review",{currentPage:i,limit:d}],{isLoading:L,data:r,isError:w,error:l}=C({queryKey:y,queryFn:()=>$.get(`lab?status=In Review&page=${i}&pageSize=${d}`)});n.useEffect(()=>{if(r){const{data:{data:{docs:s}}}=r,{data:{data:{pages:e}}}=r;j(s),N(e),v(s==null?void 0:s.length)}l&&M.error(R(l))},[r,l]);const P=Array.from({length:I},(s,e)=>{var o,p,m,u,g,h,f,b;return{_id:(o=t[e])==null?void 0:o._id,id:((p=t[e])==null?void 0:p.longAutoIncrementId)||((m=t[e])==null?void 0:m.autoIncrementId)||"N/A",labName:((u=t[e])==null?void 0:u.title)||"N/A",email:((g=t[e])==null?void 0:g.email)||"N/A",phone:G((h=t[e])==null?void 0:h.phone)||"N/A",joinedDate:X(((f=t[e])==null?void 0:f.createdAt)||"2025-01-01").format("DD/MM/YY"),status:((b=t[e])==null?void 0:b.status)||"N/A"}}),k=[{label:"All Labs",totalValue:40689,icon:q,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:z,status:"Up",value:1.3,duration:"past week"},{label:"Verified Labs",totalValue:89e3,icon:O,status:"Down",value:4.3,duration:"yesterday"},{label:"Blocked Labs",totalValue:2040,icon:Y,status:"Up",value:1.8,duration:"yesterday"}],E=(s,e,o)=>{s.stopPropagation(),console.log(e,`${o} btn clicked`)},V=(s,e,o)=>{s.stopPropagation(),o==="change-password"&&(c(x(!0)),c(_({type:"change-password",data:{userId:e._id}}))),o==="block"&&c(x(!0)),console.log(e,`${o} btn clicked`)};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[a.jsx("h1",{className:"main-heading",children:"Labs"}),a.jsx("div",{children:a.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Add New Lab"})]})})]}),a.jsx("div",{className:"",children:a.jsx(H,{data:k})}),L?a.jsx(Q,{}):w?a.jsx(T,{}):(t==null?void 0:t.length)===0?a.jsx(W,{}):a.jsx("div",{className:"",children:a.jsx(U,{data:P,mainHeading:"All Labs",searchBar:!0,headings:["ID #","Lab Name","Email","Phone","Joined Date","Status","Action"],cells:["id","labName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:J},{action:"edit",icon:K}],actionHandler:E,currentPage:i,setCurrentPage:A,pages:D,navigation:!0,navigationLink:"/labs/approved/profile",headingNameForNavigationOnMobile:"Lab Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:a.jsx(S,{})},{label:"Block",action:"block",icon:a.jsx(F,{})}],moreActionsHandler:V})})]})})}export{ga as default};
