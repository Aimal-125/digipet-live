import{r,u as F,z as H,k as U,V as q,h as z,j as t,B as K,M as O,C as A,D as B,A as Q}from"./index-BxhrTQri.js";import{D as G}from"./DashboardContainer1-DR1SaXty.js";import{R as J}from"./ResponsiveTable-BOmT_VBO.js";import{f as W}from"./index-ek4iHqdz.js";/* empty css                */import"./Status-BBB0qoK2.js";import"./index-DFUMWaLX.js";import"./NoData-D5nSU70a.js";import"./index-C9TsHVx2.js";import"./index-DygF_gE-.js";function ia(){var u,m;const[c,w]=r.useState(1),[j,x]=r.useState(1),[d,D]=r.useState(""),[C,I]=r.useState(0),l=10,T=F(),i=H(),L=["fetch-pet-parents",{currentPage:c,limit:l,keyword:d}],{isLoading:S,data:o,isError:V,error:p}=U({queryKey:L,queryFn:()=>Q.get(`/pet-parent/?page=${c}&pageSize=${l}&keyword=${d}`)}),[e,_]=r.useState((m=(u=o==null?void 0:o.data)==null?void 0:u.data)==null?void 0:m.docs);r.useEffect(()=>{if(o){const{data:{data:{docs:s}}}=o,{data:{data:{pages:a}}}=o;_(s),x(a),I(s==null?void 0:s.length)}p&&q.error(z(p))},[o,p,d]);const E=(s,a,n)=>{s.stopPropagation(),n==="view"&&T(`/pet-parents/profile/${a==null?void 0:a._id}`)},M=[{label:"Total Pet Parents",totalValue:40689,icon:"./images/dashboard/patients-icon.svg",status:"Up",value:8.5,duration:"yesterday"},{label:"Active Pet Parents",totalValue:10293,icon:"./images/dashboard/doctors-icon.svg",status:"Up",value:1.3,duration:"past week"},{label:"Today Registered",totalValue:89e3,icon:"./images/dashboard/appointments-icon.svg",status:"Down",value:4.3,duration:"yesterday"},{label:"Blocked",totalValue:2040,icon:"./images/dashboard/admin-profit-icon.svg",status:"Up",value:1.8,duration:"yesterday"}],R=Array.from({length:C},(s,a)=>{var n,g,h,f,y,P,v,b,k,N;return{_id:(n=e[a])==null?void 0:n._id,id:((g=e[a])==null?void 0:g.longAutoIncrementId)||((h=e[a])==null?void 0:h.autoIncrementId)||"N/A",parentsName:((f=e[a])==null?void 0:f.fullName)||"N/A",appointmentBook:(y=e[a])==null?void 0:y.appointmentsBookedCount,labTestsBooked:(P=e[a])==null?void 0:P.labTestsBookedCount,country:((v=e[a])==null?void 0:v.countryName)||"N/A",phone:W((b=e[a])==null?void 0:b.phone)||"N/A",status:(N=(k=e[a])==null?void 0:k.user)==null?void 0:N.status}}),$=(s,a,n)=>{s.stopPropagation(),n==="change-password"&&(i(A(!0)),i(B({type:"change-password",data:{userId:a._id}}))),n==="block"&&(i(A(!0)),i(B({type:"block",data:{userId:a._id}})))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:t.jsx("h1",{className:"main-heading",children:"Pet Parents"})}),t.jsx("div",{className:"",children:t.jsx(G,{data:M})}),t.jsx("div",{className:"",children:t.jsx(J,{data:R,mainHeading:"Pet Parents",searchBar:!0,isLoading:S,isError:V,fetchedData:e,headings:["ID #","Parent Name","Appointment Booked","Lab Tests Booked","Country","Phone","Status","Action"],cells:["id","parentsName","appointmentBook","labTestsBooked","country","phone"],status:!0,actions:!0,actionTypes:[{action:"view",icon:"./images/view-icon.svg"},{action:"edit",icon:"./images/edit-icon.svg"}],actionHandler:E,currentPage:c,setCurrentPage:w,pages:j,navigation:!0,navigationLink:"/pet-parents/profile",headingNameForNavigationOnMobile:"Parents Name",setKeyword:D,moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:t.jsx(K,{})},{label:"Block",action:"block",icon:t.jsx(O,{})}],moreActionsHandler:$})})]})})}export{ia as default};
