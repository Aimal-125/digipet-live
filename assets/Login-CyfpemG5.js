import{r as t,u as h,n as f,j as e,a as j}from"./index-IPEpSqwp.js";import{c as N,a as n,F as b,b as w,d as c,E as d}from"./index.esm-BDkO8B-k.js";import{F as v,a as y}from"./index-BsTboT5F.js";function P(){const[l,m]=t.useState(!1),i=h(),r=t.useCallback(s=>{f(i,j,s)},[i]);t.useEffect(()=>{const s=JSON.parse(localStorage.getItem("loggedIn")),a=localStorage.getItem("roles");if(s&&a){const o=JSON.parse(a);r(o)}},[r]);const x={email:"",password:""},g=N().shape({email:n().email().required("Required"),password:n().required("Required")}),u=async(s,{setSubmitting:a})=>{a(!0);try{localStorage.setItem("loggedIn",JSON.stringify(!0)),localStorage.setItem("roles",JSON.stringify(["admin","doctor","user"])),await new Promise(p=>setTimeout(()=>p(),1e3)),r(["admin","doctor","user"])}catch(o){console.log(o)}finally{a(!1),console.log(s)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"login-page-container",children:e.jsxs("div",{className:"login-container",children:[e.jsx("div",{className:"login-box-1",children:e.jsxs("p",{className:"login-logo-text",children:[e.jsx("span",{className:"text-[#fff]",children:"Digi"}),e.jsx("span",{className:"text-[#83B830]",children:"Pet"})]})}),e.jsxs("div",{className:"login-box-2",children:[e.jsx("p",{className:"font-medium text-2xl",children:"Login"}),e.jsx("p",{children:"Login to access your account"}),e.jsx(b,{initialValues:x,validationSchema:g,onSubmit:u,children:s=>e.jsxs(w,{className:"login-form",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(c,{className:"border border-gray-300 w-full px-4 py-2 rounded",name:"email",id:"email",placeholder:"Email",form:s}),e.jsx(d,{name:"email",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"border border-gray-300 flex rounded",children:[e.jsx(c,{className:"w-full px-4 py-2",type:l?"text":"password",name:"password",id:"password",placeholder:"Password",form:s}),e.jsx("button",{type:"button",className:"w-[40px] inline-flex justify-center items-center cursor-pointer",onClick:()=>m(!l),children:l?e.jsx(v,{}):e.jsx(y,{})})]}),e.jsx(d,{name:"password",component:"div",className:"text-red-500 text-sm"})]}),e.jsx("div",{children:e.jsx("button",{className:`${s.isSubmitting?"cursor-not-allowed":"cursor-pointer"} bg-[#19C1DC] w-full p-2 rounded text-white font-bold`,type:"submit",disabled:s.isSubmitting,children:"Login"})})]})})]})]})})})}export{P as default};
