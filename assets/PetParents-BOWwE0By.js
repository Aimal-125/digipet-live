import{r,u as F,z as H,k as U,V as q,h as z,j as t,B as K,M as O,C as x,D as A,A as Q}from"./index-tsnG6h9L.js";import{D as G}from"./DashboardContainer1-fhlMHwf9.js";import{R as J}from"./ResponsiveTable-DctUoT6T.js";import{f as W}from"./index-DlwCTamr.js";import{I as X,a as Y}from"./IsError-DV2WID3W.js";import{N as Z}from"./NoData-Dj1fto64.js";import"./Status-3NrfEcIJ.js";import"./index-BsuniN_Y.js";import"./index-DYFNBYaU.js";/* empty css                */import"./index-xUwMLnuw.js";function la(){var m,g;const[c,B]=r.useState(1),[w,D]=r.useState(1),[d,l]=r.useState(""),[I,C]=r.useState(0),u=10,L=F(),i=H(),T=["fetch-pet-parents",{currentPage:c,limit:u,keyword:d}],{isLoading:S,data:o,isError:E,error:p}=U({queryKey:T,queryFn:()=>Q.get(`/pet-parent/?page=${c}&pageSize=${u}&keyword=${d}`)}),[e,V]=r.useState((g=(m=o==null?void 0:o.data)==null?void 0:m.data)==null?void 0:g.docs);r.useEffect(()=>{if(o){const{data:{data:{docs:s}}}=o,{data:{data:{pages:a}}}=o;V(s),D(a),C(s==null?void 0:s.length)}p&&q.error(z(p))},[o,p,d]);const _=(s,a,n)=>{s.stopPropagation(),n==="view"&&L(`/pet-parents/profile/${a==null?void 0:a._id}`)},M=[{label:"Total Pet Parents",totalValue:40689,icon:"./images/dashboard/patients-icon.svg",status:"Up",value:8.5,duration:"yesterday"},{label:"Active Pet Parents",totalValue:10293,icon:"./images/dashboard/doctors-icon.svg",status:"Up",value:1.3,duration:"past week"},{label:"Today Registered",totalValue:89e3,icon:"./images/dashboard/appointments-icon.svg",status:"Down",value:4.3,duration:"yesterday"},{label:"Blocked",totalValue:2040,icon:"./images/dashboard/admin-profit-icon.svg",status:"Up",value:1.8,duration:"yesterday"}],R=Array.from({length:I},(s,a)=>{var n,h,f,y,P,v,b,k,N,j;return{_id:(n=e[a])==null?void 0:n._id,id:((h=e[a])==null?void 0:h.longAutoIncrementId)||((f=e[a])==null?void 0:f.autoIncrementId)||"N/A",parentsName:((y=e[a])==null?void 0:y.fullName)||"N/A",appointmentBook:(P=e[a])==null?void 0:P.appointmentsBookedCount,labTestsBooked:(v=e[a])==null?void 0:v.labTestsBookedCount,country:((b=e[a])==null?void 0:b.countryName)||"N/A",phone:W((k=e[a])==null?void 0:k.phone)||"N/A",status:(j=(N=e[a])==null?void 0:N.user)==null?void 0:j.status}}),$=(s,a,n)=>{s.stopPropagation(),n==="change-password"&&(i(x(!0)),i(A({type:"change-password",data:{userId:a._id}}))),n==="block"&&(i(x(!0)),i(A({type:"block",data:{userId:a._id}})))};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:t.jsx("h1",{className:"main-heading",children:"Pet Parents"})}),t.jsx("div",{className:"",children:t.jsx(G,{data:M})}),S?t.jsx(X,{}):E?t.jsx(Y,{}):!e||(e==null?void 0:e.length)===0?t.jsx(Z,{setKeyword:l}):t.jsx("div",{className:"",children:t.jsx(J,{data:R,mainHeading:"Pet Parents",searchBar:!0,headings:["ID #","Parent Name","Appointment Booked","Lab Tests Booked","Country","Phone","Status","Action"],cells:["id","parentsName","appointmentBook","labTestsBooked","country","phone"],status:!0,actions:!0,actionTypes:[{action:"view",icon:"./images/view-icon.svg"},{action:"edit",icon:"./images/edit-icon.svg"}],actionHandler:_,currentPage:c,setCurrentPage:B,pages:w,navigation:!0,navigationLink:"/pet-parents/profile",headingNameForNavigationOnMobile:"Parents Name",setKeyword:l,moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:t.jsx(K,{})},{label:"Block",action:"block",icon:t.jsx(O,{})}],moreActionsHandler:$})})]})})}export{la as default};
