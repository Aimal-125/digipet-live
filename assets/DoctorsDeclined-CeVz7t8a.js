import{r as s,u as z,w as K,k as O,V as T,h as J,j as e,x as Q,M as W,z as b,B as P,A as G}from"./index-BVnHBMax.js";import{D as X}from"./DashboardContainer1-CJf0tBqv.js";import{R as Z}from"./ResponsiveTable-Dz6OqjXd.js";import{P as tt,D as et,A as at,a as ot}from"./admin-profit-icon-YhiRSQEj.js";import{V as st}from"./view-icon-DsPpK1Wz.js";import{E as rt}from"./edit-icon-CSd65PgS.js";/* empty css                */import{h as nt}from"./moment-C5S46NFB.js";import{f as it}from"./index-BkDY1D0s.js";import"./Status-DL4gGmYT.js";import"./index-B2rzNFQk.js";import"./NoData-a3a5sVEF.js";import"./index-Cd8EsU9E.js";import"./index-CKQgg-Gn.js";import"./index-Ck4mNa1e.js";import"./index-B3rUPYNv.js";function wt(){const[o,k]=s.useState([]),[c,I]=s.useState(1),[E,S]=s.useState(1),[l,V]=s.useState(null),[d,B]=s.useState(null),[p,M]=s.useState(""),m=10,[C,L]=s.useState(0),_=z(),n=K(),$=["fetch-doctors-declined",{currentPage:c,limit:m,startDate:l,endDate:d,keyword:p}],{isLoading:F,data:i,isError:R,error:u}=O({queryKey:$,queryFn:()=>{let a=`/doctor/?page=${c}&pageSize=${m}&status=Declined`;return l&&(a+=`&from=${l}`),d&&(a+=`&to=${d}`),p&&(a+=`&keyword=${p}`),G.get(a)}});s.useEffect(()=>{if(i){const{data:{data:{docs:a}}}=i,{data:{data:{pages:t}}}=i;k(a),S(t),L(a==null?void 0:a.length)}u&&T.error(J(u))},[i,u]);const Y=Array.from({length:C},(a,t)=>{var r,f,h,g,D,x,N,j,y,A,v,w;return{_id:(r=o[t])==null?void 0:r._id,id:((f=o[t])==null?void 0:f.longAutoIncrementId)||((h=o[t])==null?void 0:h.autoIncrementId)||"N/A",doctorName:((g=o[t])==null?void 0:g.fullName)||e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{children:(D=o[t])==null?void 0:D.firstName}),e.jsx("span",{children:(x=o[t])==null?void 0:x.lastName})]})||((j=(N=o[t])==null?void 0:N.user)==null?void 0:j.username)||"N/A",email:((y=o[t])==null?void 0:y.email)||"N/A",phone:it((A=o[t])==null?void 0:A.phone)||"N/A",joinedDate:e.jsx("span",{children:nt(((v=o[t])==null?void 0:v.createdAt)||"2025-01-01").format("DD/MM/YYYY")}),status:((w=o[t])==null?void 0:w.status)||"N/A"}}),H=[{label:"All Doctors",totalValue:40689,icon:tt,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:et,status:"Up",value:1.3,duration:"past week"},{label:"Verified Doctors",totalValue:89e3,icon:at,status:"Down",value:4.3,duration:"yesterday"},{label:"Doctors Blocked",totalValue:2040,icon:ot,status:"Up",value:1.8,duration:"yesterday"}],U=(a,t,r)=>{a.stopPropagation(),r==="view"&&_(`/doctors/declined/profile/${t==null?void 0:t._id}`)},q=(a,t,r)=>{a.stopPropagation(),r==="change-password"&&(n(b(!0)),n(P({type:"change-password",data:{userId:t._id}}))),r==="block"&&(n(b(!0)),n(P({type:"block",data:{userId:t._id}})))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[360px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctors"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New Doctor"})]})})]}),e.jsx("div",{className:"",children:e.jsx(X,{data:H})}),e.jsx("div",{className:"",children:e.jsx(Z,{datePicker:!0,setStartDate:V,setEndDate:B,setKeyword:M,isLoading:F,isError:R,fetchedData:o,data:Y,mainHeading:"All Doctors",searchBar:!0,headings:["ID #","Doctor Name","Email","Phone","Joined Date","Status","Action"],cells:["id","doctorName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:st},{action:"edit",icon:rt}],actionHandler:U,currentPage:c,setCurrentPage:I,pages:E,navigation:!0,navigationLink:"/doctors/declined/profile",headingNameForNavigationOnMobile:"Doctor Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:e.jsx(Q,{})},{label:"Block",action:"block",icon:e.jsx(W,{})}],moreActionsHandler:q})})]})})}export{wt as default};
