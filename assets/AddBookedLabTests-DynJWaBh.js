import{r as t,j as e,V as P}from"./index-BzKEkVSX.js";import{I,H as A}from"./HeadingPlusBackBtn-C8IJ6y7-.js";import{g as F}from"./index-DtOSbkVm.js";import{c as C,a as o,F as y,b as w,g as B}from"./index.esm-MKOa5JfX.js";import{r as q}from"./returnErrorMessage-BWBZa02J.js";import{L as b}from"./LayoutDiv-k4AYyxmR.js";import{S as L}from"./SubmitButton-Dqfvwzr_.js";import{C as E}from"./CountrySearchInput-G4U6VIrd.js";import{S as V,C as T,A as R}from"./CitySearchInput-3fQuuiiA.js";import{S as D}from"./SearchInput-BO2_5UVB.js";import{C as H}from"./index-3_hCbTIW.js";import{P as M}from"./lab-profile-image-D3gY1w6b.js";import{i as O}from"./default-avatar-HaqfDLKf.js";import{c as _}from"./index-DCMbE20o.js";import{I as g}from"./Input-CeuYmisC.js";import{P as $,i as z,a as W}from"./PhoneInput-DMaQR9bR.js";import{S}from"./SelectComponent-DtxQ1kOe.js";import{M as G}from"./MultSelectBox-KLcXs4Oo.js";import{A as X,c as J}from"./converToBase64-myYWe5ay.js";import"./index-DXBR5oRH.js";import"./index-C70so7gG.js";import"./index-OskLXrAb.js";function K({setNextPage:i=()=>{}}){const[s,m]=t.useState(""),[d,x]=t.useState(""),[u,a]=t.useState(""),[r,p]=t.useState("");t.useEffect(()=>{if(s){const n=new Intl.DisplayNames(["en"],{type:"region"});x(n.of(s)),a(F(s))}},[s]);const h={country:"",state:"",city:"",lab:""},l=C().shape({country:o().required("Country is required"),state:o(),city:o(),lab:o().required("Lab is required")}),j=async n=>{try{await new Promise(c=>setTimeout(()=>{c()},1e3)),i(!0)}catch(c){P.error(q(c))}console.log({...n,countryCode:u})},N=[{id:1,name:"Lab 1"},{id:2,name:"Lab 2"},{id:3,name:"Lab 3"},{id:4,name:"Lab 4"},{id:5,name:"Lab 5"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("p",{className:"px-5 py-4 text-[20px] border-b border-[#AEC8E2]",children:"Lab Selection"}),e.jsx(y,{initialValues:h,validationSchema:l,onSubmit:j,enableReinitialize:!0,children:n=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(E,{formik:n,name:"country",id:"country",label:"Country",getCountryCode:m})}),e.jsx("div",{className:"w-full",children:e.jsx(V,{formik:n,name:"state",id:"state",label:"State/Province",countryName:d,getStateName:p})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(T,{formik:n,name:"city",id:"city",label:"City",countryName:d,stateName:r})}),e.jsx("div",{className:"w-full",children:e.jsx(D,{formik:n,name:"lab",id:"lab",label:"Lab",data:N,placeHolder:"Search Labs..."})})]}),e.jsx("div",{className:"mt-2 ml-auto",children:e.jsx(L,{formik:n,label:"Next"})})]})})]})})}function Q(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5 items-center max-[768px]:flex-col max-[768px]:items-start bg-white p-5 rounded-[20px]",children:[e.jsx("div",{className:"flex w-[164px] h-[164px] ",children:e.jsx("img",{src:M,alt:"profile image",className:"inline-flex w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Dr. Essa Lab"}),e.jsx("p",{children:"Veterinary care"}),e.jsx("p",{className:"mt-2",children:"License# : DR-0001"})]}),e.jsx("div",{className:"flex flex-col",children:e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx("span",{children:e.jsx(H,{})}),e.jsx("span",{children:"5th Street - 1011 W 5th St, Suite 120, Austin, TX 78703"})]})})]})]})})}const U="/digipet-live/images/booked-lab-tests/lab-branch-1.svg",Y="/digipet-live/images/booked-lab-tests/lab-branch-2.svg",Z="/digipet-live/images/booked-lab-tests/lab-branch-3.svg",f=[{_id:1,branchImage:U,name:"AllCare Family Medicine",address:"3343 Private Lane, Valdosta"},{_id:2,branchImage:Y,name:"Vitalplus Clinic",address:"4223 Pleasant Hill Road, Miami, FL 33169"},{_id:3,branchImage:Z,name:"Wellness Path Chiropractic",address:"418 Patton Lane, Garner, NC 27529, FL 33169"}];function k({setSelectedBranch:i=()=>{},removeSelectedBranch:s=!1,setRemoveSelectedBranch:m=()=>{}}){const[d,x]=t.useState(null);t.useEffect(()=>{s&&(x(null),i(null),m(!1))},[s,m,i]);const u=a=>{x(a),i(f[a])};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Select Branch"}),e.jsx("div",{className:"flex flex-col gap-5 p-5",children:f==null?void 0:f.map((a,r)=>{const p=d===r,h=_("p-5","w-full","rounded-[14px]","border","border-[#B9DCFF]","cursor-pointer","inline-flex","items-center","gap-3","transition-colors","duration-150","ease-in-out","max-[500px]:flex-col","max-[500px]:items-start",{"bg-blue-100":p,"bg-white hover:bg-gray-50":!p});return e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>u(r),className:h,children:[e.jsx("span",{className:"w-[65px] h-[65px] inline-flex",children:e.jsx("img",{src:(a==null?void 0:a.branchImage)||O,alt:"lab branch image",className:"w-full h-full rounded-full inline-flex object-cover"})}),e.jsxs("span",{className:"inline-flex flex-col gap-1 text-left",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.name}),e.jsx("span",{children:a==null?void 0:a.address})]})]})},r)})})]})})}function ee({initValues:i={},validations:s={},onSubmit:m=()=>{},setAttachment:d=()=>{},setRemoveSelectedBranch:x=()=>{}}){const u=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"}],a=["Test1","Test2","Test3"],r=[{label:"Lab visit",value:"labVisit"},{label:"Home visit",value:"homeVisit"}],[p,h]=t.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Information"}),e.jsx("div",{className:"",children:e.jsx(y,{initialValues:i,validationSchema:s,onSubmit:m,enableReinitialize:!0,children:l=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:l,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx($,{name:"phone",id:"phone",label:"Phone",country:""})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(g,{name:"email",id:"email",label:"Email (optional)",formik:l})}),e.jsx("div",{className:"w-full",children:e.jsx(R,{formik:l,label:"Address (optional)"})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{formik:l,name:"petSpecie",id:"petSpecie",label:"Pet Specie",options:u})}),e.jsx("div",{className:"w-full",children:e.jsx(G,{formik:l,name:"testName",id:"testName",label:"Test Name",options:a})})]}),e.jsxs(b,{children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{formik:l,name:"sampleCollection",id:"sampleCollection",label:"Sample Collection",options:r})}),e.jsx("div",{className:"w-full"})]}),e.jsx("div",{className:"",children:e.jsx(X,{formik:l,name:"attachment",id:"attachment",label:"Attachment (optional)",getAttachment:d,removePreview:p,setRemovePreview:h})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-2",children:[e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"cursor-pointer bg-gray-300 hover:bg-gray-200 transition-colors rounded-[6px] px-4 py-2",onClick:()=>{x(!0),h(!0),l.resetForm()},children:"Cancel"})}),e.jsx("div",{className:"",children:e.jsx(L,{formik:l})})]})]})})})]})})}function se({setNextPage:i=()=>{}}){const[s,m]=t.useState(""),[d,x]=t.useState(""),[u,a]=t.useState(""),[r,p]=t.useState(""),[h,l]=t.useState(!1);t.useEffect(()=>{s&&(a(s==null?void 0:s.name),p(s==null?void 0:s.address))},[s]);const j={fullName:"",phone:"",email:"",address:"",petSpecie:"",testName:[],sampleCollection:""},N=C().shape({fullName:o().required("Full Name is required"),phone:o().test("is-possible-phone","Please enter valid phone number",c=>z(c)).test("is-valid-phone","Please enter valid phone number",c=>W(c)).required("Phone Number is required"),email:o().email(),address:o(),petSpecie:o().required("Required"),testName:B().min(1,"At least one test is required").required("Test Name is required"),sampleCollection:o().required("Required")}),n=async c=>{let v=null;d?(v=await J(d),console.log({...c,labBranchName:u,labBranchAddress:r,attachment:v})):console.log({...c,labBranchName:u,labBranchAddress:r})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex",children:e.jsxs("button",{className:"inline-flex items-center gap-1 cursor-pointer",type:"button",onClick:()=>{i(!1)},children:[e.jsx("span",{children:e.jsx(I,{})}),e.jsx("span",{children:"Cancel"})]})}),e.jsx("div",{className:"",children:e.jsx(Q,{})}),e.jsx("div",{className:"",children:e.jsx(k,{removeSelectedBranch:h,setRemoveSelectedBranch:l,setSelectedBranch:m})}),s?e.jsx("div",{className:"",children:e.jsx(ee,{initValues:j,validations:N,onSubmit:n,setAttachment:x,setRemoveSelectedBranch:l})}):""]})})}function ye(){const[i,s]=t.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(A,{label:"Add Lab Test"})}),e.jsx("div",{className:"",children:i?e.jsx(se,{setNextPage:s}):e.jsx(K,{setNextPage:s})})]})})}export{ye as default};
