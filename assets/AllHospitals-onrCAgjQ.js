import{r as n,u as b,z as C,X as M,k as R,V as q,h as z,j as e,I as B,Z as F,J as K,A as V}from"./index-CKZINqwN.js";import{R as J}from"./ResponsiveTable-kOiRVqLQ.js";import{n as O}from"./nameWithImage-CmqY1kc6.js";import{I as Q,a as T}from"./IsError-D7nYLhx5.js";import{N as W}from"./NoData-CTHyLIoH.js";import"./Status-BiG97xPr.js";import"./index-B-PEQ9Bu.js";/* empty css                */import"./index-BmsdS2U_.js";function os(){var x,f;const[l,D]=n.useState(1),[I,w]=n.useState(1),[c,d]=n.useState(""),m=10,p=b(),g=C(),[E,S]=n.useState(0),{docDeleted:u}=M(t=>t==null?void 0:t.deleteModal),H=["fetch-all-hospitals",{currentPage:l,limit:m,keyword:c,docDeleted:u}],{isLoading:_,data:o,isError:k,error:h}=R({queryKey:H,queryFn:()=>V.get(`/clinic?status=Approved&page=${l}&pageSize=${m}&keyword=${c}`)}),[a,L]=n.useState((f=(x=o==null?void 0:o.data)==null?void 0:x.data)==null?void 0:f.docs);n.useEffect(()=>{if(o){const{data:{data:{docs:t}}}=o,{data:{data:{pages:s}}}=o;L(t),w(s),S(t==null?void 0:t.length)}u&&d(""),h&&q.error(z(h))},[o,h,u,c]);const P=(t,s,i)=>{if(t.stopPropagation(),i==="view"&&p(`/all-hospitals/details/${s==null?void 0:s._id}`),i==="edit"&&p(`/all-hospitals/edit/${s==null?void 0:s._id}`),i==="delete"){const r="/clinic";g(B(!0)),g(F(r)),g(K(s==null?void 0:s._id))}},$=Array.from({length:E},(t,s)=>{var i,r,j,v,N,A,y;return{_id:(i=a[s])==null?void 0:i._id,id:((r=a[s])==null?void 0:r.longAutoIncrementId)||((j=a[s])==null?void 0:j.autoIncrementId)||"N/A",hospitalName:O((v=a[s])==null?void 0:v.image,(N=a[s])==null?void 0:N.title),location:((A=a[s])==null?void 0:A.address)||"N/A",status:(y=a[s])==null?void 0:y.status}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"All Hospitals"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{p("/all-hospitals/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),_?e.jsx(Q,{}):k?e.jsx(T,{}):!a||(a==null?void 0:a.length)===0?e.jsx(W,{setKeyword:d}):e.jsx("div",{className:"",children:e.jsx(J,{data:$,mainHeading:"All Hospitals",searchBar:!0,headings:["ID #","Hospital Name","Location","Status","Action"],cells:["id","hospitalName","location"],status:!0,actions:!0,actionTypes:[{action:"view",icon:"./images/view-icon.svg"},{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:P,currentPage:l,setCurrentPage:D,setKeyword:d,pages:I})})]})})}export{os as default};
