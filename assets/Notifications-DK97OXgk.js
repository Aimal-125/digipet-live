import{r as l,j as e}from"./index-mZ5Nc0ii.js";import{c as b,a as x,e as y,F as N,b as v,E as c}from"./index.esm-lM2Qzs3t.js";import{r as w}from"./returnErrorMessage-BWBZa02J.js";import{V as F}from"./index-BgoVvtdp.js";import{N as k}from"./no-image-icon-CabPHXKl.js";import{R as T}from"./ResponsiveTable-Bbqv0tWq.js";import{E as a}from"./ExpandableText-8JE4gryZ.js";import"./Status-1wHq5RzI.js";function $(){const[E,p]=l.useState(1),[m,R]=l.useState(3),h=(t,i)=>{console.log(t,`${i} btn clicked`)},g={image:null,title:"",body:""},[o,r]=l.useState(""),u=b().shape({image:y().nullable().test("fileSize","Image size must be less than 4MB",t=>t===null||t instanceof File&&t.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",t=>t===null||t instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(t.type)).required("Image is required"),title:x().required("Title is required"),body:x().required("Body is required")}),d=l.useCallback(t=>new Promise((i,n)=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.onerror=n,s.readAsDataURL(t)}),[]),C=l.useCallback(async(t,i)=>{i.setFieldValue("image",t.currentTarget.files[0]);const n=t.currentTarget.files[0];if(n){const s=await d(n);r(s)}else r("")},[d]),j=async(t,{setSubmitting:i,resetForm:n})=>{i(!0);try{await new Promise(s=>setTimeout(()=>s(),1e3))}catch(s){F.error(w(s))}finally{i(!1),n(),r(""),console.log("Form submitted with values:",{...t,image:o})}},f=[{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-1.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"},{id:"#20462",title:"Champions Trophy 2017",description:e.jsx(a,{text:"Cricket Champion Cricket Champion Cricket Champion"}),attachment:e.jsx("span",{className:"w-[50px] h-[50px] rounded-[6px]",children:e.jsx("img",{src:"./images/notifications/img-2.svg",alt:"image",style:{borderRadius:"6px",width:"50px",height:"50px",display:"inline-flex"}})}),date:"13/05/2022"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:e.jsx("h1",{className:"main-heading",children:"Notifications"})}),e.jsxs("div",{className:"border border-[#AEC8E2] bg-white rounded-[20px] p-[20px] flex flex-col gap-5",children:[e.jsx("h2",{className:"font-[500] text-[#252C62] text-[20px] pb-[20px] border-b border-b-[#aec8e2]",children:"Add Notification"}),e.jsx(N,{initialValues:g,validationSchema:u,onSubmit:j,enableReinitialize:!0,children:t=>e.jsxs(v,{children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-5 border border-[#AEC8E2] p-5 rounded-[14px]",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"image",className:"block text-[18px] font-[500] text-[#252C62]",children:"Attach File"}),e.jsxs("div",{className:"mt-1 flex max-[601px]:flex-col max-[601px]:items-start items-center gap-5",children:[e.jsx("div",{className:"relative w-[110px] h-[110px] rounded-[15px] border border-[#AEC8E2] bg-[#F1F5F9] flex items-center justify-center",children:o?e.jsx("img",{src:o,alt:"File Preview",className:"w-full h-full object-cover rounded-[15px]"}):e.jsx("img",{src:k,alt:"no image"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"image",name:"image",onChange:i=>C(i,t),className:"hidden",form:t}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"image",className:"cursor-pointer font-[500] text-[#202224] text-[16px]",children:"Upload New"}),o&&e.jsx("button",{type:"button",onClick:()=>{t.setFieldValue("image",null),r("")},className:"text-red-500 text-[16px] cursor-pointer",form:t,children:"Remove"})]}),e.jsx("p",{className:"text-[#202224] text-[14px] font-[400]",children:"Your Image should Below 4 MB, Accepted format jpg,png,svg"})]})]})]})]}),e.jsx(c,{name:"image",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-[#252C62] text-[18px]",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"title",name:"title",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.title,className:"mt-1 block w-full rounded-[6px] px-4 py-2 border border-[#AEC8E2]",form:t}),e.jsx(c,{name:"title",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{htmlFor:"body",className:"block text-sm font-medium text-[#252C62] text-[18px]",children:["Body ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"body",name:"body",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.body,className:"mt-1 block w-full rounded-[6px] px-4 py-2 border border-[#AEC8E2]",form:t,rows:"3"}),e.jsx(c,{name:"body",component:"div",className:"text-sm text-red-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-5",children:[e.jsx("button",{type:"button",className:"rounded-[20px] cursor-pointer border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:()=>{t.resetForm(),r("")},children:"Cancel"}),e.jsx("button",{type:"submit",className:`${t!=null&&t.isSubmitting?"cursor-not-allowed":"cursor-pointer"} bg-[#4C63BD] inline-flex justify-center rounded-[20px] border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-blue-500`,disabled:t==null?void 0:t.isSubmitting,children:"Send"})]})]})})]}),e.jsx("div",{className:"",children:e.jsx(T,{data:f,mainHeading:"",searchBar:!1,headings:["ID #","Title","Description","Attachment","Date","Action"],cells:["id","title","description","attachment","date"],status:!1,actions:!0,actionTypes:[{action:"view",icon:"./images/view-icon.svg"},{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:h,setCurrentPage:p,pages:m})})]})})}export{$ as default};
