import{r as t,j as e}from"./index-CaUlzWuS.js";import{c as N,a as i,e as I,F as b,b as v}from"./index.esm-Dz87sCNe.js";import{H as w,S as q,I as A,a as F}from"./SubmitButton-CfEwzKg1.js";import{V as E}from"./index-DlOgXXTq.js";import{r as B}from"./returnErrorMessage-BWBZa02J.js";import{g as H,C as z,S as M,a as V,A as D,M as O}from"./MultiImagesSelect-BaGznmEK.js";import{L as m}from"./LayoutDiv-D74wVs5F.js";import"./no-image-icon-CabPHXKl.js";import"./swiper-DbOg-HH-.js";function Q(){const[l,u]=t.useState(""),[a,g]=t.useState(""),[o,x]=t.useState(""),[c,p]=t.useState(""),[j,y]=t.useState(""),[r,f]=t.useState("");t.useEffect(()=>{if(a){const s=new Intl.DisplayNames(["en"],{type:"region"});x(s.of(a)),p(H(a))}},[a]);const S={image:null,title:"",countryCode:"",state:"",city:"",address:""},h=N().shape({image:I().nullable().test("fileSize","Image size must be less than 4MB",s=>s===null||s instanceof File&&s.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",s=>s===null||s instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(s.type)).required("Image is required"),title:i().required("Title is required"),countryCode:i().required("Country is required"),state:i(),city:i(),address:i().required("Address is required")}),C=async(s,{setSubmitting:d})=>{d(!0);try{await new Promise(n=>setTimeout(()=>{n()},1e3))}catch(n){E.error(B(n))}finally{d(!1),r&&(r==null?void 0:r.length)>0?console.log({...s,image:l,country:o,countryCode:c,galleryDataURIs:r}):console.log({...s,image:l,country:o,countryCode:c})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(w,{label:"Add New Hospital"})}),e.jsx("div",{className:"border border-[#AEC8E2] p-5 rounded-[20px] bg-white",children:e.jsx(b,{initialValues:S,validationSchema:h,onSubmit:C,enableReinitialize:!0,children:s=>e.jsxs(v,{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(q,{formik:s,base64Image:l,setBase64Image:u})}),e.jsx("div",{className:"",children:e.jsx(A,{formik:s,name:"title",id:"title",label:"Title"})}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(z,{formik:s,getCountryCode:g})}),e.jsx("div",{className:"w-full",children:e.jsx(M,{formik:s,countryCode:a,getStateCode:y})})]}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(V,{formik:s,countryCode:a,stateCode:j})}),e.jsx("div",{className:"w-full",children:e.jsx(D,{formik:s})})]}),e.jsx("div",{className:"",children:e.jsx(O,{getGalleryImages:f})}),e.jsx("div",{className:"mt-2",children:e.jsx(F,{formik:s})})]})})})]})})}export{Q as default};
