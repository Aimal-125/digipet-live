import{r as c,I as w,k as P,u as R,z as _,V as $,h as L,j as t,m as k,J as M,K as q,N as z,A as B}from"./index-BxhrTQri.js";import{R as F}from"./ResponsiveTable-BOmT_VBO.js";/* empty css                */import"./Status-BBB0qoK2.js";import"./index-DFUMWaLX.js";import"./NoData-D5nSU70a.js";import"./index-C9TsHVx2.js";function U(){const[s,j]=c.useState([]),[i,y]=c.useState(1),[D,N]=c.useState(1),[v,E]=c.useState(0),{docDeleted:g}=w(a=>a==null?void 0:a.deleteModal),p=10,A=["fetch-doctor-categories",{currentPage:i,limit:p,docDeleted:g}],{isLoading:I,data:o,isError:C,error:l}=P({queryKey:A,queryFn:()=>B.get(`/doctor-category?page=${i}&pageSize=${p}`)}),x=R(),d=_();c.useEffect(()=>{var a,e,r,n;o&&(j((e=(a=o==null?void 0:o.data)==null?void 0:a.data)==null?void 0:e.docs),N((n=(r=o==null?void 0:o.data)==null?void 0:r.data)==null?void 0:n.pages),E(s==null?void 0:s.length)),l&&$.error(L(l))},[o,s==null?void 0:s.length,l,g]);const b=Array.from({length:v},(a,e)=>{var r,n,h,u,m;return{_id:(r=s[e])==null?void 0:r._id,id:((n=s[e])==null?void 0:n.longAutoIncrementId)||((h=s[e])==null?void 0:h.autoIncrementId)||"N/A",doctors:t.jsxs("span",{className:"inline-flex max-[351px]:flex-col max-[350px]:items-end items-center gap-[18px]",children:[t.jsx("span",{className:"w-[50px] h-[50px] rounded-full",children:t.jsx("img",{src:`${k}/${(u=s[e])==null?void 0:u.image}`,alt:"test type image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"50%"},onError:f=>{f.target.onerror=null,f.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}),t.jsx("span",{children:(m=s[e])==null?void 0:m.title})]})}}),S=(a,e,r)=>{if(a.stopPropagation(),r==="edit"&&x(`/doctors-categories/edit/${e==null?void 0:e._id}`),r==="delete"){const n="/doctor-category";d(M(!0)),d(q(n)),d(z(e==null?void 0:e._id))}};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[t.jsx("h1",{className:"main-heading",children:"Doctors Categories"}),t.jsx("div",{children:t.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{x("/doctors-categories/add")},children:[t.jsx("span",{children:"+"}),t.jsx("span",{children:"Add New"})]})})]}),t.jsx("div",{className:"",children:t.jsx(F,{isLoading:I,isError:C,fetchedData:s,data:b,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","doctors"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:S,currentPage:i,setCurrentPage:y,pages:D})})]})})}export{U as default};
