import{r as o,j as e}from"./index-CKvnEMZY.js";import{c as w,g as N,a as r,f as P,F as y,b,y as v}from"./index.esm-HmjyjoH8.js";import{H as q}from"./HeadingPlusBackBtn-C0kVFab9.js";import{L as i}from"./LayoutDiv-EesrR7xi.js";import{I as n,S as C}from"./Input-MhhqaxBj.js";import{M as g,P as t}from"./MultSelectBox-CMWWB1qS.js";import{C as E}from"./CountrySelect-C0FEqkHY.js";import{i as S,a as F,P as I}from"./PhoneInput-CypzZehF.js";import{V}from"./index-NOkcjhol.js";import{r as B}from"./returnErrorMessage-BWBZa02J.js";import{Y as R}from"./index-CrvFDtt-.js";import"./index-H6eh1cUe.js";R(v);function J(){const[a,m]=o.useState("PK"),[u,c]=o.useState(""),p=["user","doctor","admin"];o.useEffect(()=>{if(a){const s=new Intl.DisplayNames(["en"],{type:"region"});c(s.of(a))}},[a]);const f={fullName:"asdf",username:"asdf",email:"asdf@email.com",password:"",confirmPassword:"",phone:"+923001234567",countryCode:"PK",role:["admin"]},x=w().shape({fullName:r().required("Full Name is required"),username:r().required("Username is required"),email:r().email().required("Email is required"),password:r().password().required("Password is required"),confirmPassword:r().oneOf([P("password"),null],"Passwords do not match").required("Confirm password is required"),phone:r().test("is-possible-phone","Please enter valid phone number",s=>S(s)).test("is-valid-phone","Please enter valid phone number",s=>F(s)).required("Phone Number is required"),countryCode:r().required("Country is required"),role:N().min(1,"At least one role is required").required("Role is required")}),h=async(s,{setSubmitting:d})=>{d(!0);const{countryCode:U,...j}=s;try{await new Promise(l=>setTimeout(()=>{l()},1e3))}catch(l){V.error(B(l))}finally{d(!1),console.log({...j,country:u})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(q,{label:"Edit Admin User"})}),e.jsx("div",{className:"rounded-[20px] bg-white p-5",children:e.jsx(y,{initialValues:f,validationSchema:x,onSubmit:h,enableReinitialize:!0,children:s=>e.jsxs(b,{className:"flex flex-col gap-3",children:[e.jsxs(i,{children:[e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"username",id:"username",label:"Username"})})]}),e.jsxs(i,{children:[e.jsx("div",{className:"w-full",children:e.jsx(n,{formik:s,name:"email",id:"email",label:"Email"})}),e.jsx("div",{className:"w-full",children:e.jsx(g,{formik:s,name:"role",id:"role",label:"Role",options:p})})]}),e.jsxs(i,{children:[e.jsx("div",{className:"w-full",children:e.jsx(t,{formik:s,name:"password",id:"password",label:"Password"})}),e.jsx("div",{className:"w-full",children:e.jsx(t,{formik:s,name:"confirmPassword",id:"confirmPassword",label:"Confirm Password"})})]}),e.jsxs(i,{children:[e.jsx("div",{className:"w-full",children:e.jsx(E,{formik:s,getCountryCode:m})}),e.jsx("div",{className:"w-full",children:e.jsx(I,{name:"phone",id:"phone",label:"Phone",country:a})})]}),e.jsx("div",{className:"mt-2",children:e.jsx(C,{formik:s})})]})})})]})})}export{J as default};
