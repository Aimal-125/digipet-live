import{r as l,j as t,V as j}from"./index-HgslAn7s.js";import{A as b,c as S}from"./converToBase64-SAh8LsIY.js";import{H as A}from"./HeadingPlusBackBtn-NVaCFPE_.js";import{c as v,a as i,e as o,F as y,b as F}from"./index.esm-B5q2hKQH.js";import{S as I}from"./SubmitButton-DUu0vEh8.js";import{S as q}from"./SingleImageUpload-PAdGCbzG.js";import{I as N}from"./Input-D9E1TacN.js";import{T as E}from"./TextArea-izdabO9C.js";import{S as P}from"./SelectComponent-CIVcvVlW.js";import{r as w}from"./returnErrorMessage-BWBZa02J.js";import"./index-D5hEm9BB.js";import"./no-image-icon-CabPHXKl.js";function Q(){const[s,m]=l.useState(""),[c,d]=l.useState(""),r=4*1024*1024,g=["image/jpeg","image/jpg","image/png","image/svg+xml","video/mp4","application/pdf"],p=[{label:"Getting Started",value:"getting started"},{label:"How to trade",value:"how to trade"}],u={image:null,attachment:null,title:"",description:"",category:""},x=v().shape({image:o().nullable().test("fileSize","Image size must be less than 4MB",e=>e===null||e instanceof File&&e.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",e=>e===null||e instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(e.type)).required("Image is required"),attachment:o().nullable().test("fileFormat","Unsupported file format. Allowed formats: JPG, PNG, SVG, MP4, PDF.",e=>e&&g.includes(e.type)).test("fileSize",`File too large. Maximum size is ${r/(1024*1024)}MB.`,e=>e&&e.size<=r).required("Attachment is required"),title:i().required("Title is required"),description:i().required("Description is required"),category:i().required("Question Category is required")}),h=async(e,{setSubmitting:n})=>{n(!0);const f=await S(c);try{await new Promise(a=>setTimeout(()=>{a()},1e3))}catch(a){j.error(w(a))}finally{n(!1)}console.log({...e,image:s,attachment:f})};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx("div",{className:"",children:t.jsx(A,{label:"Add Information"})}),t.jsx("div",{className:"p-5 bg-white rounded-[20px]",children:t.jsx(y,{initialValues:u,validationSchema:x,onSubmit:h,enableReinitialize:!0,children:e=>t.jsxs(F,{className:"flex flex-col gap-3",children:[t.jsx("div",{className:"",children:t.jsx(q,{formik:e,base64Image:s,setBase64Image:m})}),t.jsx("div",{className:"",children:t.jsx(N,{formik:e,name:"title",id:"title",label:"Title"})}),t.jsx("div",{className:"",children:t.jsx(E,{formik:e,name:"description",id:"description",label:"Description"})}),t.jsx("div",{className:"",children:t.jsx(P,{formik:e,name:"category",id:"category",label:"Question Category",options:p})}),t.jsx("div",{className:"",children:t.jsx(b,{formik:e,name:"attachment",id:"attachment",label:"Attachment",getAttachment:d})}),t.jsx("div",{className:"mt-2",children:t.jsx(I,{formik:e})})]})})})]})})}export{Q as default};
