import{j as e,m as R,G as D,k as P,r as g,V as b,h as v,A as I,u as xe,g as ue}from"./index-CtF5NqjV.js";import{h as Q,T as he}from"./hasRequiredRole-osJ5szYF.js";import{A as fe,d as $,r as T,a as k}from"./doctorReportsData-DpG3T3-n.js";import{I as X,a as ee,N as se}from"./NoData-CRNyNY9D.js";import{h as C}from"./moment-C5S46NFB.js";import{G as re,a as ae}from"./index-CE07Fm7v.js";import{S as ne,a as te}from"./swiper-B-OHCxfZ.js";import{N as ce}from"./no-image-icon-Dam8WiVQ.js";import{A as ge,M as pe,a as je}from"./index.modern-Bj7X4AbY.js";import{S as L}from"./Status-CFvwze7x.js";import{R as F}from"./ResponsiveTable-BVHihXma.js";import{V as O}from"./view-icon-DsPpK1Wz.js";import{A as me}from"./apiEndpoints-D7ff-bgI.js";import{a as le,W as oe,R as Ne}from"./ReviewsComponent-DR0pEwHm.js";import{E as V}from"./edit-icon-CSd65PgS.js";import{D as M}from"./delete-icon-FU5lMFq3.js";import{n as ie}from"./nameWithImage-oYAI2e-8.js";import{f as ye}from"./index-CTnICA7r.js";import"./ButtonClipLoader-CrkQjnCO.js";/* empty css                */import"./index-R1RIAz4U.js";import"./index-TAcTVJ-C.js";import"./index-CP8FX3G0.js";import"./index-BygXZwzy.js";const J=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"All Appointments",requiredRoles:["admin","doctors"]},{id:3,name:"Withdraws",requiredRoles:["admin","doctors"]},{id:4,name:"Payouts",requiredRoles:["admin","doctors"]},{id:5,name:"Reviews",requiredRoles:["admin","doctors"]},{id:6,name:"Reports",requiredRoles:["admin","doctors"]}],be=({color:o})=>e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${o}`,children:e.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v7a1 1 0 01-1 1h-3a1 1 0 00-1 1v1a2 2 0 11-4 0v-1a1 1 0 00-1-1H7a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})})}),ve=({iconColor:o,title:s,description:d,image:i})=>e.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 last:border-b-0",children:[o?e.jsx(be,{color:o}):"",i?e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",children:e.jsx("img",{src:i,alt:"speciality icon",className:"object-cover inline-flex w-full h-full rounded-lg",onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}):"",e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s}),e.jsx("p",{className:"text-gray-500",children:d})]})]}),Ae=({data:o})=>e.jsxs("div",{className:"bg-white rounded-[20px] overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-[20px] font-[600]",children:(o==null?void 0:o.length)>1?"Specialities":"Speciality"})}),e.jsx("div",{children:o==null?void 0:o.map(s=>e.jsx(ve,{iconColor:s==null?void 0:s.iconColor,title:s==null?void 0:s.title,description:s==null?void 0:s.description,image:`${R}/${s==null?void 0:s.image}`},s==null?void 0:s._id))})]});function we(){var a,n;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-education",{id:o}],queryFn:()=>I.get(`/degree?doctorObjectId=${o}`)}),i=(n=(a=s==null?void 0:s.data)==null?void 0:a.data)==null?void 0:n.docs;return g.useEffect(()=>{d&&b.error(v(d))},[d]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-education-container",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Education"}),i==null?void 0:i.map((r,l)=>e.jsxs("div",{className:"doctor-education-div",children:[e.jsx("p",{className:"institution-name",children:r==null?void 0:r.institutionTitle}),e.jsx("p",{className:"doctor-degree-name",children:r==null?void 0:r.degreeTitle}),e.jsxs("p",{className:"doctor-degree-year",children:[e.jsx("span",{children:C(r==null?void 0:r.startDate).format("YYYY")}),e.jsx("span",{children:"-"}),e.jsx("span",{children:C(r==null?void 0:r.endDate).format("YYYY")})]}),e.jsx("span",{className:"flow-border"})]},l))]})})}const Se=(o,s)=>{const d=C(o),i=C(s),a=i.diff(d,"years");d.add(a,"years");const n=i.diff(d,"months");let r="";return a>0&&(r+=`${a} year${a>1?"s":""}`),n>0&&(r+=`${a>0?" ":""}${n} month${n>1?"s":""}`),a===0&&n===0?!s||i.isAfter(C())?"Current":"Less than a month":r.trim()};function Ce(){var a,n;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-work-experience",{id:o}],queryFn:()=>I.get(`/work-experience?doctorObjectId=${o}`)}),i=(n=(a=s==null?void 0:s.data)==null?void 0:a.data)==null?void 0:n.docs;return g.useEffect(()=>{d&&b.error(v(d))},[d]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-experience-container text-[14px]",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Practice Experience"}),e.jsx("div",{className:"flex flex-col gap-5",children:i==null?void 0:i.map((r,l)=>e.jsxs("div",{className:"flex max-[1500px]:flex-col gap-5 p-5 border border-gray-300 rounded-[12px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] rounded-[6px] border border-gray-300",children:e.jsx("img",{src:`${R}/${r==null?void 0:r.image}`,alt:"experience image",style:{width:"100%",height:"100%",borderRadius:"6px",display:"inline-flex"},onError:h=>{h.target.onerror=null,h.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{children:r==null?void 0:r.organizationTitle}),e.jsxs("p",{className:"flex items-center gap-2 text-[#969696]",children:[e.jsx("span",{className:"inline-block w-[5px] h-[5px] bg-[#969696] rounded-full"}),e.jsx("span",{children:r==null?void 0:r.jobTitle})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"flex max-[400px]:text-[11px] items-center gap-2 text-nowrap",children:[e.jsx("span",{children:C(r==null?void 0:r.startDate).format("YYYY")}),e.jsx("span",{children:"-"}),e.jsx("span",{children:C(r==null?void 0:r.endDate).format("YYYY")}),e.jsx("span",{className:"inline-block w-[5px] h-[5px] bg-[#969696] rounded-full"}),e.jsx("span",{children:Se(r==null?void 0:r.startDate,r==null?void 0:r.endDate)})]}),e.jsx("p",{className:"text-[#4C63BD]",children:r==null?void 0:r.jobDescription})]})]})]},l))})]})})}const De="/digipet-live/images/doctor-profile/award-icon.svg";function Pe(){var x,p;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-awards",{id:o}],queryFn:()=>I.get(`/award?doctorObjectId=${o}`)});g.useEffect(()=>{d&&b.error(v(d))},[d]);const i=(p=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:p.docs,[a,n]=g.useState(null),[r,l]=g.useState(!0),[h,u]=g.useState(!1);return g.useEffect(()=>(a&&(l(a.isBeginning),u(a.isEnd),a.on("slideChange",t=>{l(t.isBeginning),u(t.isEnd)})),()=>{a&&a.off("slideChange")}),[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-awards-container",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Awards"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button","aria-label":"previous button",className:`rounded-md px-2 py-2 ${r?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slidePrev(),disabled:r,children:e.jsx("span",{children:e.jsx(re,{})})}),e.jsx("button",{type:"button","aria-label":"next button",className:`rounded-md px-2 py-2 ${h?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slideNext(),disabled:h,children:e.jsx("span",{children:e.jsx(ae,{})})})]})]}),e.jsx("div",{className:"swiper-width-adjustment-div",children:e.jsx(ne,{className:"",spaceBetween:10,slidesPerView:1,onSwiper:t=>n(t),onSlideChange:t=>{l(t.isBeginning),u(t.isEnd)},breakpoints:{450:{slidesPerView:2},1920:{slidesPerView:3}},children:i==null?void 0:i.map((t,j)=>e.jsx(te,{className:"py-1 px-1",children:e.jsxs("div",{className:"border border-gray-300 rounded-[6px] p-5 h-[180px] flex flex-col gap-2 overflow-auto",children:[e.jsx("div",{children:e.jsx("img",{src:t!=null&&t.image?`${R}/${t==null?void 0:t.image}`:De,alt:"award icon",style:{width:"30px",height:"30px",display:"inline-flex"}})}),e.jsxs("p",{className:"font-[500] text-[14px] flex items-center gap-1",children:[e.jsx("span",{children:(t==null?void 0:t.title)||"N/A"}),e.jsx("span",{children:e.jsxs("span",{children:["(",t==null?void 0:t.year,")"]})||"N/A"})]}),e.jsx("p",{className:"font-[300] text-[14px] ",children:(t==null?void 0:t.description)||"N/A"})]})},j))})})]})})}function Ie(){var x,p;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-insurance",{id:o}],queryFn:()=>I.get(`/insurance?doctorObjectId=${o}`)});g.useEffect(()=>{d&&b.error(v(d))},[d]);const i=(p=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:p.docs,[a,n]=g.useState(null),[r,l]=g.useState(!0),[h,u]=g.useState(!1);return g.useEffect(()=>(a&&(l(a.isBeginning),u(a.isEnd),a.on("slideChange",t=>{l(t.isBeginning),u(t.isEnd)})),()=>{a&&a.off("slideChange")}),[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-insurance-accepted-container",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:e.jsx("span",{children:"Insurance Accepted"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button","aria-label":"previous button",className:`rounded-md px-2 py-2 ${r?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slidePrev(),disabled:r,children:e.jsx("span",{children:e.jsx(re,{})})}),e.jsx("button",{type:"button","aria-label":"next button",className:`rounded-md px-2 py-2 ${h?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slideNext(),disabled:h,children:e.jsx("span",{children:e.jsx(ae,{})})})]})]}),e.jsx("div",{className:"swiper-width-adjustment-div",children:e.jsx(ne,{className:"",spaceBetween:20,slidesPerView:1,onSwiper:t=>n(t),onSlideChange:t=>{l(t.isBeginning),u(t.isEnd)},breakpoints:{450:{slidesPerView:2},1200:{slidesPerView:4}},children:i==null?void 0:i.map((t,j)=>e.jsx(te,{className:"py-1",children:e.jsx("div",{className:"border border-gray-300 rounded-[6px] h-[100px] flex flex-col gap-2 overflow-auto",children:e.jsx("div",{className:"flex h-full",children:e.jsx("img",{src:t!=null&&t.image?`${R}/${t==null?void 0:t.image}`:ce,alt:"image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"6px"},onError:f=>{f.target.onerror=null,f.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})})})},j))})})]})})}function Te(){var n,r;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-clinics",{id:o}],queryFn:()=>I.get(`/clinic?doctorObjectId=${o}`)});g.useEffect(()=>{d&&b.error(v(d))},[d]);const i=(r=(n=s==null?void 0:s.data)==null?void 0:n.data)==null?void 0:r.docs,a="AIzaSyDIBfIEiwZqaEBV1N2DbCogGhHLfsyhR6c";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Clinics & Locations"}),e.jsx("div",{className:"flex flex-col gap-5",children:i==null?void 0:i.map((l,h)=>{const u=parseFloat(l==null?void 0:l.latitude),x=parseFloat(l==null?void 0:l.longitude),p=u&&x?{lat:u,lng:x}:null;return e.jsxs("div",{className:"border border-gray-300 rounded-[12px] p-5 flex max-[1500px]:flex-col gap-3 justify-between",children:[e.jsx("div",{className:"",children:e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex roudned-[6px] w-[50px] h-[50px]",children:e.jsx("img",{className:"inline-flex w-full h-full rounded-[6px]",src:l!=null&&l.image?`${R}/${l==null?void 0:l.image}`:ce,alt:"clinic image"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-[500] text-[18px]",children:l==null?void 0:l.title}),e.jsx("p",{children:l==null?void 0:l.address})]})]})})}),e.jsx("div",{className:"flex rounded-[12px] w-[250px] max-[1500px]:w-full h-[200px]",children:p?e.jsx(ge,{apiKey:a,children:e.jsx(pe,{mapId:`clinic-map-${l._id}`,defaultCenter:p,defaultZoom:16,gestureHandling:"greedy",disableDefaultUI:!1,children:e.jsx(je,{position:p})})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-500",children:"No map data available"})})]},h)})})]})})}function ke(){var l,h,u;const{id:o}=D(),{data:s,error:d}=P({queryKey:["fetch-approved-doctor-business-hours",{id:o}],queryFn:()=>I.get(`/business-hour?doctorObjectId=${o}`)});g.useEffect(()=>{d&&b.error(v(d))},[d]);const i=(h=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:h.docs[0],a=x=>x?C(x,"HH:mm").format("h:mm A"):null,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={todayDate:C().format("D MMM YYYY"),todayAvailability:"",todayOpeningTime:null,todayClosingTime:null,weeklyTimings:[]};if(i&&i.daysAndTimes){r.weeklyTimings=i.daysAndTimes.sort((t,j)=>t.dayOfWeek-j.dayOfWeek).map(t=>{const j=n[t.dayOfWeek],f=t.isClosed?"Closed":a(t.openTime),N=t.isClosed?"Closed":a(t.closeTime);return{day:j,opening:f,closing:N}});const x=C().day(),p=i.daysAndTimes.find(t=>t.dayOfWeek===x);p&&(r.todayAvailability=p.isClosed?"Closed":"Available",r.todayOpeningTime=a(p.openTime),r.todayClosingTime=a(p.closeTime))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Business Hours"}),e.jsxs("div",{className:"border border-gray-300 rounded-[12px] p-5 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5",children:[e.jsx("p",{children:"Today"}),e.jsx("p",{children:e.jsx(L,{status:r==null?void 0:r.todayAvailability})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-5 pt-5",children:[e.jsx("p",{children:r==null?void 0:r.todayDate}),e.jsx("p",{children:(r==null?void 0:r.todayAvailability)==="Closed"?e.jsx("span",{children:"Closed"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:r==null?void 0:r.todayOpeningTime}),e.jsx("span",{children:"-"}),e.jsx("span",{children:r==null?void 0:r.todayClosingTime})]})})]}),e.jsx("div",{className:"",children:(u=r==null?void 0:r.weeklyTimings)==null?void 0:u.map((x,p)=>e.jsxs("div",{className:"flex justify-between gap-5 border-t border-gray-300 py-2",children:[e.jsx("p",{children:x==null?void 0:x.day}),e.jsx("p",{children:(x==null?void 0:x.opening)==="Closed"?e.jsx("span",{children:"Closed"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:x==null?void 0:x.opening}),e.jsx("span",{children:"-"}),e.jsx("span",{children:x==null?void 0:x.closing})]})})]},p))})]})]})})}function Ee(){var r,l,h,u;const{id:o}=D(),{isLoading:s,isError:d,error:i,data:a}=P({queryKey:["fetch-approved-doc-profile-data",{id:o}],queryFn:()=>I.get(`/doctor/${o}`)}),n=(l=(r=a==null?void 0:a.data)==null?void 0:r.data)==null?void 0:l.doc;return g.useEffect(()=>{i&&b.error(v(i))},[i]),e.jsx(e.Fragment,{children:s?e.jsx(X,{}):d?e.jsx(ee,{}):!n||((h=Object.keys(n))==null?void 0:h.length)===0?e.jsx(se,{goBackButton:!1}):e.jsxs("div",{className:"doctor-boxes-main-container",children:[e.jsxs("div",{className:"doctor-profile-box-1 flex flex-col gap-5",children:[e.jsxs("div",{className:"doctor-about-me-container rounded-[20px] bg-white p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsx("p",{className:"text-[#969696]",children:n==null?void 0:n.bio}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"font-[400] text-[18px]",children:[e.jsx("p",{children:"Gender"}),e.jsx("p",{children:"Appointment Completed"}),e.jsx("p",{children:"Designation"})]}),e.jsxs("div",{className:"font-[400] text-[#969696] text-[18px]",children:[e.jsx("p",{children:(n==null?void 0:n.gender)||"N/A"}),e.jsx("p",{children:(n==null?void 0:n.appointmentsCompleted)||"0"}),e.jsx("p",{children:(n==null?void 0:n.designation)||"N/A"})]})]})]}),e.jsx("div",{className:"doctor-speciality-container",children:n!=null&&n.specialities&&((u=n==null?void 0:n.specialities)==null?void 0:u.length)>0?e.jsx(Ae,{data:n==null?void 0:n.specialities}):""})]}),e.jsxs("div",{className:"doctor-profile-box-2 bg-white p-5 rounded-[20px] flex flex-col gap-5",children:[e.jsxs("div",{className:"doctor-detailed-about-me-container flex flex-col gap-5",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex w-[40px] h-[40px] bg-[#F1F5F9] rounded-[6px] p-2",children:e.jsx("img",{className:"inline-flex w-full h-full",src:fe,alt:"about me icon"})}),e.jsx("span",{className:"text-[#4C63BD] font-[600] text-[20px]",children:"About me"})]}),n!=null&&n.description?e.jsx("div",{className:"doctor-description-text-div",children:e.jsx("p",{className:"text-[#969696]",children:n==null?void 0:n.description})}):""]}),e.jsx("div",{className:"",children:e.jsx(we,{})}),e.jsx("div",{className:"",children:e.jsx(Ce,{})}),e.jsx("div",{className:"",children:e.jsx(Pe,{})}),e.jsx("div",{className:"",children:e.jsx(Ie,{})}),e.jsx("div",{className:"",children:e.jsx(Te,{})}),e.jsx("div",{className:"",children:e.jsx(ke,{})})]})]})})}function $e(){var S,A,w,m,E,B;const{id:o}=D(),s=xe(),[d,i]=g.useState(1),[a,n]=g.useState(""),r=10,l=["doctorAppointments",{doctorId:o,page:d,limit:r,keyword:a}],{isLoading:h,data:u,isError:x,error:p,isSuccess:t}=P({queryKey:l,queryFn:()=>I.get(me,{params:{doctor:o,page:d,pageSize:r}}),enabled:!!o,keepPreviousData:!0,onError:c=>{b.error(v(c))}}),j=((A=(S=u==null?void 0:u.data)==null?void 0:S.data)==null?void 0:A.docs)||[],f=((m=(w=u==null?void 0:u.data)==null?void 0:w.data)==null?void 0:m.pages)||1;(B=(E=u==null?void 0:u.data)==null?void 0:E.data)!=null&&B.docsCount;const N=(c,q,Y)=>{c.stopPropagation(),Y==="view"&&s(`/appointments/view/${q==null?void 0:q._id}`)},y=j.map(c=>{var W,K,_,H,U,G,z,Z;const q=c!=null&&c.createdAt?new Date(c.createdAt).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",Y=c!=null&&c.slot?new Date(c.slot).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",de=c!=null&&c.slot?new Date(c.slot).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A";return{_id:c==null?void 0:c._id,id:(c==null?void 0:c.longAutoIncrementId)||"N/A",doctorName:((W=c==null?void 0:c.doctor)==null?void 0:W.fullName)||`${((K=c==null?void 0:c.doctor)==null?void 0:K.firstName)||""} ${((_=c==null?void 0:c.doctor)==null?void 0:_.lastName)||""}`.trim()||"N/A",petParents:((H=c==null?void 0:c.petParent)==null?void 0:H.fullName)||`${((U=c==null?void 0:c.petParent)==null?void 0:U.firstName)||""} ${((G=c==null?void 0:c.petParent)==null?void 0:G.lastName)||""}`.trim()||"N/A",bookedDate:q,appointmentDate:`${Y} (${de})`,type:(c==null?void 0:c.type)||"N/A",fee:`${parseInt((z=c==null?void 0:c.order)==null?void 0:z.amount).toFixed(2)||"N/A"} ${((Z=c==null?void 0:c.order)==null?void 0:Z.currencyCode)||""}`,appointmentStatus:e.jsx(L,{status:c==null?void 0:c.status}),paymentStatus:e.jsx(L,{status:c==null?void 0:c.paymentStatus})}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:h&&!t?e.jsx(X,{}):x?e.jsx(ee,{message:v(p)}):j.length===0&&t?e.jsx(se,{setKeyword:n}):e.jsx("div",{className:"",children:e.jsx(F,{data:y,mainHeading:"Appointments",searchBar:!1,keyword:a,setKeyword:n,headings:["Order #","Doctor Name","Pet Parents","Booked Date","Appointment Date","Type","Fee","Appointment Status","Payment Status"],cells:["id","doctorName","petParents","bookedDate","appointmentDate","type","fee","appointmentStatus","paymentStatus"],status:!1,actions:!1,actionTypes:[{action:"view",icon:O}],actionHandler:N,setCurrentPage:i,pages:f,currentPage:d})})})})}function Be(){const[o,s]=g.useState(!0),[d,i]=g.useState(!1),[a,n]=g.useState(1),[r,l]=g.useState(3),h=(j,f,N)=>{j.stopPropagation(),console.log(f,`${N} btn clicked`)},x=Array.from({length:10},(j,f)=>{var N,y,S,A,w,m;return{id:(N=$[f])==null?void 0:N.id,accountNumber:(y=$[f])==null?void 0:y.accountNumber,creditedOn:(S=$[f])==null?void 0:S.creditedOn,requestedDate:(A=$[f])==null?void 0:A.requestedDate,amount:(w=$[f])==null?void 0:w.amount,status:(m=$[f])==null?void 0:m.status}}),t=Array.from({length:10},(j,f)=>{var N,y,S,A,w,m,E,B;return{id:(N=T[f])==null?void 0:N.id,patient:ie((y=T[f])==null?void 0:y.patientImage,(S=T[f])==null?void 0:S.patient),appointmentDate:(A=T[f])==null?void 0:A.appointmentDate,amount:le((w=T[f])==null?void 0:w.currency,(m=T[f])==null?void 0:m.amount),status:(E=T[f])==null?void 0:E.status,cancelledDate:(B=T[f])==null?void 0:B.cancelledDate}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(oe,{statistics:!0,bankDetails:!0}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{children:e.jsx("button",{type:"button",className:`${o?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{s(!0),i(!1)},children:"Withdraw History"})}),e.jsx("div",{children:e.jsx("button",{type:"button",className:`${d?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{i(!0),s(!1)},children:"Refund Requests"})})]}),e.jsxs("div",{className:"",children:[o?e.jsx(F,{data:x,mainHeading:"",searchBar:!0,headings:["ID #","Account #","Created On","Transferred Date","Amount","Status"],cells:["id","accountNumber","creditedOn","requestedDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:M}],actionHandler:h,setCurrentPage:n,pages:r}):"",d?e.jsx(F,{data:t,mainHeading:"",searchBar:!0,headings:["ID #","Pet Parent","Appointment Date","Cancelled Date","Amount","Status"],cells:["id","patient","appointmentDate","cancelledDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:M}],actionHandler:h,setCurrentPage:n,pages:r}):""]})]})})}function qe(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(oe,{settings:!0})})})}function Re(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(Ne,{})})})}function Fe(){const[o,s]=g.useState(1),[d,i]=g.useState(3),a=(l,h,u)=>{l.stopPropagation(),console.log(h,`${u} btn clicked`)},r=Array.from({length:10},(l,h)=>{var u,x,p,t,j,f,N,y;return{id:(u=k[h])==null?void 0:u.id,petParent:ie((x=k[h])==null?void 0:x.parentImage,(p=k[h])==null?void 0:p.parentName),appointmentDate:(t=k[h])==null?void 0:t.appointmentDate,bookedOn:(j=k[h])==null?void 0:j.bookedOn,amount:le((f=k[h])==null?void 0:f.currency,(N=k[h])==null?void 0:N.amount),status:(y=k[h])==null?void 0:y.status}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(F,{data:r,mainHeading:"",searchBar:!1,headings:["ID #","Pet Parents","Appointment Date","BookedOn","Amount","Status"],cells:["id","petParent","appointmentDate","bookedOn","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:M}],actionHandler:a,setCurrentPage:s,pages:d})})})}function os(){var A,w;const{id:o}=D(),[s,d]=g.useState({}),[i,a]=g.useState(!1),[n,r]=g.useState(!1),l=ue(),h=l==null?void 0:l.roles,u=g.useMemo(()=>h,[]),[x,p]=g.useState(1),t=["fetch-approved-doc-profile-data",{id:o}],{data:j,error:f}=P({queryKey:t,queryFn:()=>I.get(`/doctor/${o}`)});g.useEffect(()=>{if(j){const{data:{data:{doc:m}}}=j;d(m)}f&&b.error(v(f))},[j,f]),g.useEffect(()=>{const m=J.find(E=>Q(E.requiredRoles,u));m?p(m.id):(b.error("User has no access to any tabs"),p(null))},[u]);const N={profileName:(s==null?void 0:s.fullName)||((A=s==null?void 0:s.user)==null?void 0:A.username)||e.jsxs("span",{children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]})||"N/A",profession:(s==null?void 0:s.designation)||"N/A",profileImage:(w=s==null?void 0:s.user)==null?void 0:w.image,phone:ye(s==null?void 0:s.phone)||"N/A",email:(s==null?void 0:s.email)||"N/A",country:(s==null?void 0:s.countryName)||"N/A",state:(s==null?void 0:s.province)||"N/A",city:(s==null?void 0:s.city)||"N/A",status:(s==null?void 0:s.status)||""},y=async()=>{a(!0);try{await new Promise(m=>setTimeout(m,1e3))}catch(m){b.error(v(m))}finally{a(!1)}},S=async()=>{r(!0);try{await new Promise(m=>setTimeout(m,1e3))}catch(m){b.error(v(m))}finally{r(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctor Profile"}),e.jsx("div",{children:e.jsx("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:e.jsx("span",{children:"Edit Profile"})})})]}),x!==null&&e.jsx(he,{activeTab:x,setActiveTab:p,roles:u,hasRequiredRole:Q,tabs:J,profileData:N,button1Label:"Send Message",button1Handler:y,submitting1:i,button2Label:"Block",button2Handler:S,submitting2:n,button1Required:!0,button2Required:!0}),e.jsxs("div",{className:"",children:[x===1?e.jsx(Ee,{}):"",x===2?e.jsx($e,{}):"",x===3?e.jsx(Be,{}):"",x===4?e.jsx(qe,{}):"",x===5?e.jsx(Re,{}):"",x===6?e.jsx(Fe,{}):""]})]})})}export{os as default};
