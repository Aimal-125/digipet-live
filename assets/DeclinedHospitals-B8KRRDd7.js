import{r as o,u as R,w as q,N as B,k as F,V as K,h as O,j as s,O as Q,Q as T,T as z,A as W}from"./index-BsC4CiLt.js";import{V as G}from"./view-icon-DsPpK1Wz.js";import{E as J}from"./edit-icon-CSd65PgS.js";import{D as U}from"./delete-icon-FU5lMFq3.js";import{n as X}from"./nameWithImage-CklDYeUr.js";/* empty css                */import{R as Y}from"./ResponsiveTable-CwHPkwiT.js";import"./Status-BCEaVBkQ.js";import"./index-NiuxfhvR.js";import"./IsError-DysmRO1f.js";import"./NoData-CEn6Zv-n.js";import"./index-DInAQVjv.js";import"./index-CvgDGYcH.js";import"./index-QFobRxCo.js";import"./index-C4oxCGHh.js";function ht(){var D,j;const[l,w]=o.useState(1),[I,v]=o.useState(1),[r,g]=o.useState(""),[d,$]=o.useState(null),[p,k]=o.useState(null),x=10,u=R(),m=q(),[H,P]=o.useState(0),{docDeleted:h}=B(e=>e==null?void 0:e.deleteModal),_=["fetch-all-hospitals-declined",{currentPage:l,limit:x,keyword:r,docDeleted:h,startDate:d,endDate:p}],{isLoading:b,data:i,isError:L,error:f}=F({queryKey:_,queryFn:async()=>{let e=`/clinic?status=Declined&page=${l}&pageSize=${x}`;return d&&(e+=`&from=${d}`),p&&(e+=`&to=${p}`),r&&(e+=`&keyword=${r}`),W.get(e)}}),[a,V]=o.useState((j=(D=i==null?void 0:i.data)==null?void 0:D.data)==null?void 0:j.docs);o.useEffect(()=>{if(i){const{data:{data:{docs:e}}}=i,{data:{data:{pages:t}}}=i;V(e),v(t),P(e==null?void 0:e.length)}h&&g(""),f&&K.error(O(f))},[i,f,h,r]);const C=(e,t,n)=>{if(e.stopPropagation(),n==="view"&&u(`/all-hospitals/details/${t==null?void 0:t._id}`),n==="edit"&&u(`/all-hospitals/edit/${t==null?void 0:t._id}`),n==="delete"){const c="/clinic";m(Q(!0)),m(T(c)),m(z(t==null?void 0:t._id))}},M=Array.from({length:H},(e,t)=>{var n,c,y,N,A,E,S;return{_id:(n=a[t])==null?void 0:n._id,id:((c=a[t])==null?void 0:c.longAutoIncrementId)||((y=a[t])==null?void 0:y.autoIncrementId)||"N/A",hospitalName:X((N=a[t])==null?void 0:N.image,(A=a[t])==null?void 0:A.title),location:((E=a[t])==null?void 0:E.address)||"N/A",status:(S=a[t])==null?void 0:S.status}});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[s.jsx("h1",{className:"main-heading",children:"All Hospitals"}),s.jsx("div",{children:s.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{u("/all-hospitals/add")},children:[s.jsx("span",{children:"+"}),s.jsx("span",{children:"Add New"})]})})]}),s.jsx("div",{className:"",children:s.jsx(Y,{datePicker:!0,setStartDate:$,setEndDate:k,isLoading:b,isError:L,fetchedData:a,data:M,mainHeading:"All Hospitals",searchBar:!0,headings:["ID #","Hospital Name","Location","Status","Action"],cells:["id","hospitalName","location"],status:!0,actions:!0,actionTypes:[{action:"view",icon:G},{action:"edit",icon:J},{action:"delete",icon:U}],actionHandler:C,currentPage:l,setCurrentPage:w,setKeyword:g,pages:I})})]})})}export{ht as default};
