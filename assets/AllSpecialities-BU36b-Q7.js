import{r,X as R,k as _,u as $,z as k,V as B,h as C,j as e,m as M,I as q,Z as z,J as F,A as H}from"./index-C6zP7Xlc.js";import{R as T}from"./ResponsiveTable-DF7QZidW.js";import{I as V,a as J}from"./IsError-D2utNv6K.js";import{N as K}from"./NoData-D7NndnWb.js";import"./Status-C_6ssE0l.js";import"./index-D5xYpp5a.js";/* empty css                */import"./index-BMfzAUlP.js";function ee(){var m,u;const[c,N]=r.useState(1),[D,I]=r.useState(1),[A,E]=r.useState(0),{docDeleted:d}=R(i=>i==null?void 0:i.deleteModal),g=10,S=["fetch-all-specialities",{currentPage:c,limit:g,docDeleted:d}],{isLoading:v,data:a,isError:b,error:o}=_({queryKey:S,queryFn:()=>H.get(`/speciality?page=${c}&pageSize=${g}`)}),[s,w]=r.useState((u=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:u.docs),x=$(),p=k();r.useEffect(()=>{var i,t,n,l;a&&(w((t=(i=a==null?void 0:a.data)==null?void 0:i.data)==null?void 0:t.docs),I((l=(n=a==null?void 0:a.data)==null?void 0:n.data)==null?void 0:l.pages),E(s==null?void 0:s.length)),o&&B.error(C(o))},[a,s==null?void 0:s.length,o,d]);const L=Array.from({length:A},(i,t)=>{var n,l,h,f,j;return{_id:(n=s[t])==null?void 0:n._id,id:((l=s[t])==null?void 0:l.longAutoIncrementId)||((h=s[t])==null?void 0:h.autoIncrementId)||"N/A",specialities:e.jsxs("span",{className:"inline-flex max-[351px]:flex-col max-[350px]:items-end items-center gap-[18px]",children:[e.jsx("span",{className:"w-[50px] h-[50px] rounded-full",children:e.jsx("img",{src:`${M}/${(f=s[t])==null?void 0:f.image}`,alt:"test type image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"50%"},onError:y=>{y.target.onerror=null,y.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}),e.jsx("span",{children:(j=s[t])==null?void 0:j.title})]})}}),P=(i,t,n)=>{if(i.stopPropagation(),n==="edit"&&x(`/all-specialities/edit/${t==null?void 0:t._id}`),n==="delete"){const l="/speciality";p(q(!0)),p(z(l)),p(F(t==null?void 0:t._id))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"All Specialities"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{x("/all-specialities/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),v?e.jsx(V,{}):b?e.jsx(J,{}):!s||(s==null?void 0:s.length)===0?e.jsx(K,{goBackButton:!1}):e.jsx("div",{className:"",children:e.jsx(T,{data:L,mainHeading:"",searchBar:!1,headings:["ID #","Specialities","Action"],cells:["id","specialities"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:P,currentPage:c,setCurrentPage:N,pages:D})})]})})}export{ee as default};
