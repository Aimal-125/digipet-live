import{j as e,m as R,D as P,k as C,r as g,V as b,h as w,A as I,u as oe,g as ie}from"./index--oTFs3gJ.js";import{h as Q,T as de}from"./hasRequiredRole-QqIoiNYg.js";import{A as xe,d as $,r as T,a as k}from"./doctorReportsData-Biuh15j3.js";import{I as ue,a as he}from"./IsError-BE29_yi0.js";import{N as fe}from"./NoData-DidAnw_R.js";import{h as S}from"./moment-C5S46NFB.js";import{G as X,a as ee}from"./index-DZs_aAsn.js";import{S as se,a as re}from"./swiper-CehFfofE.js";import{N as ae}from"./no-image-icon-Dam8WiVQ.js";import{A as ge,M as pe,a as je}from"./index.modern-BDAvcjIR.js";import{S as L}from"./Status-BqlRFT0W.js";import{R as F}from"./ResponsiveTable-8dZMXdQy.js";import{V as O}from"./view-icon-DsPpK1Wz.js";/* empty css                */import{A as me}from"./apiEndpoints-DA67aB0N.js";import{a as ne,W as te,R as ye}from"./ReviewsComponent-DLT-02FF.js";import{E as V}from"./edit-icon-CSd65PgS.js";import{D as W}from"./delete-icon-FU5lMFq3.js";import{n as ce}from"./nameWithImage-DyST1X9A.js";import{f as Ne}from"./index-tNe2wjfG.js";import"./ButtonClipLoader-CDOEsIG1.js";import"./index-CvwiJHFK.js";import"./index-oiI3A1nS.js";import"./index-CIdIKWNU.js";import"./index-DbHKKiG3.js";import"./index-BVp46ldf.js";const J=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"All Appointments",requiredRoles:["admin","doctors"]},{id:3,name:"Withdraws",requiredRoles:["admin","doctors"]},{id:4,name:"Payouts",requiredRoles:["admin","doctors"]},{id:5,name:"Reviews",requiredRoles:["admin","doctors"]},{id:6,name:"Reports",requiredRoles:["admin","doctors"]}],be=({color:o})=>e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${o}`,children:e.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v7a1 1 0 01-1 1h-3a1 1 0 00-1 1v1a2 2 0 11-4 0v-1a1 1 0 00-1-1H7a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})})}),ve=({iconColor:o,title:r,description:x,image:i})=>e.jsxs("div",{className:"flex items-center p-4 border-b border-gray-200 last:border-b-0",children:[o?e.jsx(be,{color:o}):"",i?e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",children:e.jsx("img",{src:i,alt:"speciality icon",className:"object-cover inline-flex w-full h-full rounded-lg",onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}):"",e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:r}),e.jsx("p",{className:"text-gray-500",children:x})]})]}),Ae=({data:o})=>e.jsxs("div",{className:"bg-white rounded-[20px] overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-[20px] font-[600]",children:(o==null?void 0:o.length)>1?"Specialities":"Speciality"})}),e.jsx("div",{children:o==null?void 0:o.map(r=>e.jsx(ve,{iconColor:r==null?void 0:r.iconColor,title:r==null?void 0:r.title,description:r==null?void 0:r.description,image:`${R}/${r==null?void 0:r.image}`},r==null?void 0:r._id))})]});function we(){var a,n;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-education",{id:o}],queryFn:()=>I.get(`/degree?doctorObjectId=${o}`)}),i=(n=(a=r==null?void 0:r.data)==null?void 0:a.data)==null?void 0:n.docs;return g.useEffect(()=>{x&&b.error(w(x))},[x]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-education-container",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Education"}),i==null?void 0:i.map((s,l)=>e.jsxs("div",{className:"doctor-education-div",children:[e.jsx("p",{className:"institution-name",children:s==null?void 0:s.institutionTitle}),e.jsx("p",{className:"doctor-degree-name",children:s==null?void 0:s.degreeTitle}),e.jsxs("p",{className:"doctor-degree-year",children:[e.jsx("span",{children:S(s==null?void 0:s.startDate).format("YYYY")}),e.jsx("span",{children:"-"}),e.jsx("span",{children:S(s==null?void 0:s.endDate).format("YYYY")})]}),e.jsx("span",{className:"flow-border"})]},l))]})})}const De=(o,r)=>{const x=S(o),i=S(r),a=i.diff(x,"years");x.add(a,"years");const n=i.diff(x,"months");let s="";return a>0&&(s+=`${a} year${a>1?"s":""}`),n>0&&(s+=`${a>0?" ":""}${n} month${n>1?"s":""}`),a===0&&n===0?!r||i.isAfter(S())?"Current":"Less than a month":s.trim()};function Se(){var a,n;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-work-experience",{id:o}],queryFn:()=>I.get(`/work-experience?doctorObjectId=${o}`)}),i=(n=(a=r==null?void 0:r.data)==null?void 0:a.data)==null?void 0:n.docs;return g.useEffect(()=>{x&&b.error(w(x))},[x]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-experience-container text-[14px]",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Practice Experience"}),e.jsx("div",{className:"flex flex-col gap-5",children:i==null?void 0:i.map((s,l)=>{const h=s!=null&&s.endDate?S(s.endDate).format("YYYY"):s!=null&&s.currentlyWorkingHere?"Present":"N/A";return e.jsxs("div",{className:"flex max-[1500px]:flex-col gap-5 p-5 border border-gray-300 rounded-[12px]",children:[e.jsx("div",{className:"w-[100px] h-[100px] rounded-[6px] border border-gray-300",children:e.jsx("img",{src:`${R}/${s==null?void 0:s.image}`,alt:"experience image",style:{width:"100%",height:"100%",borderRadius:"6px",display:"inline-flex"},onError:u=>{u.target.onerror=null,u.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{children:s==null?void 0:s.organizationTitle}),e.jsxs("p",{className:"flex items-center gap-2 text-[#969696]",children:[e.jsx("span",{className:"inline-block w-[5px] h-[5px] bg-[#969696] rounded-full"}),e.jsx("span",{children:s==null?void 0:s.jobTitle})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"flex max-[400px]:text-[11px] items-center gap-2 text-nowrap",children:[e.jsx("span",{children:S(s==null?void 0:s.startDate).format("YYYY")}),e.jsx("span",{children:"-"}),e.jsx("span",{children:h}),e.jsx("span",{className:"inline-block w-[5px] h-[5px] bg-[#969696] rounded-full"}),e.jsx("span",{children:De(s==null?void 0:s.startDate,s==null?void 0:s.endDate)})]}),e.jsx("p",{className:"text-[#4C63BD]",children:s==null?void 0:s.jobDescription})]})]})]},l)})})]})})}const Pe="/digipet-live/images/doctor-profile/award-icon.svg";function Ce(){var d,p;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-awards",{id:o}],queryFn:()=>I.get(`/award?doctorObjectId=${o}`)});g.useEffect(()=>{x&&b.error(w(x))},[x]);const i=(p=(d=r==null?void 0:r.data)==null?void 0:d.data)==null?void 0:p.docs,[a,n]=g.useState(null),[s,l]=g.useState(!0),[h,u]=g.useState(!1);return g.useEffect(()=>(a&&(l(a.isBeginning),u(a.isEnd),a.on("slideChange",t=>{l(t.isBeginning),u(t.isEnd)})),()=>{a&&a.off("slideChange")}),[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-awards-container",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Awards"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button","aria-label":"previous button",className:`rounded-md px-2 py-2 ${s?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slidePrev(),disabled:s,children:e.jsx("span",{children:e.jsx(X,{})})}),e.jsx("button",{type:"button","aria-label":"next button",className:`rounded-md px-2 py-2 ${h?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slideNext(),disabled:h,children:e.jsx("span",{children:e.jsx(ee,{})})})]})]}),e.jsx("div",{className:"swiper-width-adjustment-div",children:e.jsx(se,{className:"",spaceBetween:10,slidesPerView:1,onSwiper:t=>n(t),onSlideChange:t=>{l(t.isBeginning),u(t.isEnd)},breakpoints:{450:{slidesPerView:2},1920:{slidesPerView:3}},children:i==null?void 0:i.map((t,j)=>e.jsx(re,{className:"py-1 px-1",children:e.jsxs("div",{className:"border border-gray-300 rounded-[6px] p-5 h-[180px] flex flex-col gap-2 overflow-auto",children:[e.jsx("div",{children:e.jsx("img",{src:t!=null&&t.image?`${R}/${t==null?void 0:t.image}`:Pe,alt:"award icon",style:{width:"30px",height:"30px",display:"inline-flex"}})}),e.jsxs("p",{className:"font-[500] text-[14px] flex items-center gap-1",children:[e.jsx("span",{children:(t==null?void 0:t.title)||"N/A"}),e.jsx("span",{children:e.jsxs("span",{children:["(",t==null?void 0:t.year,")"]})||"N/A"})]}),e.jsx("p",{className:"font-[300] text-[14px] ",children:(t==null?void 0:t.description)||"N/A"})]})},j))})})]})})}function Ie(){var d,p;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-insurance",{id:o}],queryFn:()=>I.get(`/insurance?doctorObjectId=${o}`)});g.useEffect(()=>{x&&b.error(w(x))},[x]);const i=(p=(d=r==null?void 0:r.data)==null?void 0:d.data)==null?void 0:p.docs,[a,n]=g.useState(null),[s,l]=g.useState(!0),[h,u]=g.useState(!1);return g.useEffect(()=>(a&&(l(a.isBeginning),u(a.isEnd),a.on("slideChange",t=>{l(t.isBeginning),u(t.isEnd)})),()=>{a&&a.off("slideChange")}),[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"doctor-insurance-accepted-container",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:e.jsx("span",{children:"Insurance Accepted"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button","aria-label":"previous button",className:`rounded-md px-2 py-2 ${s?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slidePrev(),disabled:s,children:e.jsx("span",{children:e.jsx(X,{})})}),e.jsx("button",{type:"button","aria-label":"next button",className:`rounded-md px-2 py-2 ${h?"bg-blue-100 cursor-not-allowed":"bg-blue-300 cursor-pointer"}`,onClick:()=>a==null?void 0:a.slideNext(),disabled:h,children:e.jsx("span",{children:e.jsx(ee,{})})})]})]}),e.jsx("div",{className:"swiper-width-adjustment-div",children:e.jsx(se,{className:"",spaceBetween:20,slidesPerView:1,onSwiper:t=>n(t),onSlideChange:t=>{l(t.isBeginning),u(t.isEnd)},breakpoints:{450:{slidesPerView:2},1200:{slidesPerView:4}},children:i==null?void 0:i.map((t,j)=>e.jsx(re,{className:"py-1",children:e.jsx("div",{className:"border border-gray-300 rounded-[6px] h-[100px] flex flex-col gap-2 overflow-auto",children:e.jsx("div",{className:"flex h-full",children:e.jsx("img",{src:t!=null&&t.image?`${R}/${t==null?void 0:t.image}`:ae,alt:"image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"6px"},onError:f=>{f.target.onerror=null,f.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})})})},j))})})]})})}function Te(){var n,s;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-clinics",{id:o}],queryFn:()=>I.get(`/clinic?doctorObjectId=${o}`)});g.useEffect(()=>{x&&b.error(w(x))},[x]);const i=(s=(n=r==null?void 0:r.data)==null?void 0:n.data)==null?void 0:s.docs,a="AIzaSyDIBfIEiwZqaEBV1N2DbCogGhHLfsyhR6c";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Clinics & Locations"}),e.jsx("div",{className:"flex flex-col gap-5",children:i==null?void 0:i.map((l,h)=>{const u=parseFloat(l==null?void 0:l.latitude),d=parseFloat(l==null?void 0:l.longitude),p=u&&d?{lat:u,lng:d}:null;return e.jsxs("div",{className:"border border-gray-300 rounded-[12px] p-5 flex max-[1500px]:flex-col gap-3 justify-between",children:[e.jsx("div",{className:"",children:e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex roudned-[6px] w-[50px] h-[50px]",children:e.jsx("img",{className:"inline-flex w-full h-full rounded-[6px]",src:l!=null&&l.image?`${R}/${l==null?void 0:l.image}`:ae,alt:"clinic image"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-[500] text-[18px]",children:l==null?void 0:l.title}),e.jsx("p",{children:l==null?void 0:l.address})]})]})})}),e.jsx("div",{className:"flex rounded-[12px] w-[250px] max-[1500px]:w-full h-[200px]",children:p?e.jsx(ge,{apiKey:a,children:e.jsx(pe,{mapId:`clinic-map-${l._id}`,defaultCenter:p,defaultZoom:16,gestureHandling:"greedy",disableDefaultUI:!1,children:e.jsx(je,{position:p})})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-500",children:"No map data available"})})]},h)})})]})})}function ke(){var l,h,u;const{id:o}=P(),{data:r,error:x}=C({queryKey:["fetch-approved-doctor-business-hours",{id:o}],queryFn:()=>I.get(`/business-hour?doctorObjectId=${o}`)});g.useEffect(()=>{x&&b.error(w(x))},[x]);const i=(h=(l=r==null?void 0:r.data)==null?void 0:l.data)==null?void 0:h.docs[0],a=d=>d?S(d,"HH:mm").format("h:mm A"):null,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={todayDate:S().format("D MMM YYYY"),todayAvailability:"",todayOpeningTime:null,todayClosingTime:null,weeklyTimings:[]};if(i&&i.daysAndTimes){s.weeklyTimings=i.daysAndTimes.sort((t,j)=>t.dayOfWeek-j.dayOfWeek).map(t=>{const j=n[t.dayOfWeek],f=t.isClosed?"Closed":a(t.openTime),y=t.isClosed?"Closed":a(t.closeTime);return{day:j,opening:f,closing:y}});const d=S().day(),p=i.daysAndTimes.find(t=>t.dayOfWeek===d);p&&(s.todayAvailability=p.isClosed?"Closed":"Available",s.todayOpeningTime=a(p.openTime),s.todayClosingTime=a(p.closeTime))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"doctor-bio-data-heading",children:"Business Hours"}),e.jsxs("div",{className:"border border-gray-300 rounded-[12px] p-5 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-5",children:[e.jsx("p",{children:"Today"}),e.jsx("p",{children:e.jsx(L,{status:s==null?void 0:s.todayAvailability})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-5 pt-5",children:[e.jsx("p",{children:s==null?void 0:s.todayDate}),e.jsx("p",{children:(s==null?void 0:s.todayAvailability)==="Closed"?e.jsx("span",{children:"Closed"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s==null?void 0:s.todayOpeningTime}),e.jsx("span",{children:"-"}),e.jsx("span",{children:s==null?void 0:s.todayClosingTime})]})})]}),e.jsx("div",{className:"",children:(u=s==null?void 0:s.weeklyTimings)==null?void 0:u.map((d,p)=>e.jsxs("div",{className:"flex justify-between gap-5 border-t border-gray-300 py-2",children:[e.jsx("p",{children:d==null?void 0:d.day}),e.jsx("p",{children:(d==null?void 0:d.opening)==="Closed"?e.jsx("span",{children:"Closed"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:d==null?void 0:d.opening}),e.jsx("span",{children:"-"}),e.jsx("span",{children:d==null?void 0:d.closing})]})})]},p))})]})]})})}function Ee(){var s,l,h,u;const{id:o}=P(),{isLoading:r,isError:x,error:i,data:a}=C({queryKey:["fetch-approved-doc-profile-data",{id:o}],queryFn:()=>I.get(`/doctor/${o}`)}),n=(l=(s=a==null?void 0:a.data)==null?void 0:s.data)==null?void 0:l.doc;return g.useEffect(()=>{i&&b.error(w(i))},[i]),e.jsx(e.Fragment,{children:r?e.jsx(ue,{}):x?e.jsx(he,{}):!n||((h=Object.keys(n))==null?void 0:h.length)===0?e.jsx(fe,{goBackButton:!1}):e.jsxs("div",{className:"doctor-boxes-main-container",children:[e.jsxs("div",{className:"doctor-profile-box-1 flex flex-col gap-5",children:[e.jsxs("div",{className:"doctor-about-me-container rounded-[20px] bg-white p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsx("p",{className:"text-[#969696]",children:n==null?void 0:n.bio}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"font-[400] text-[18px]",children:[e.jsx("p",{children:"Gender"}),e.jsx("p",{children:"Appointment Completed"}),e.jsx("p",{children:"Designation"})]}),e.jsxs("div",{className:"font-[400] text-[#969696] text-[18px]",children:[e.jsx("p",{children:(n==null?void 0:n.gender)||"N/A"}),e.jsx("p",{children:(n==null?void 0:n.appointmentsCompleted)||"0"}),e.jsx("p",{children:(n==null?void 0:n.designation)||"N/A"})]})]})]}),e.jsx("div",{className:"doctor-speciality-container",children:n!=null&&n.specialities&&((u=n==null?void 0:n.specialities)==null?void 0:u.length)>0?e.jsx(Ae,{data:n==null?void 0:n.specialities}):""})]}),e.jsxs("div",{className:"doctor-profile-box-2 bg-white p-5 rounded-[20px] flex flex-col gap-5",children:[e.jsxs("div",{className:"doctor-detailed-about-me-container flex flex-col gap-5",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex w-[40px] h-[40px] bg-[#F1F5F9] rounded-[6px] p-2",children:e.jsx("img",{className:"inline-flex w-full h-full",src:xe,alt:"about me icon"})}),e.jsx("span",{className:"text-[#4C63BD] font-[600] text-[20px]",children:"About me"})]}),n!=null&&n.description?e.jsx("div",{className:"doctor-description-text-div",children:e.jsx("p",{className:"text-[#969696]",children:n==null?void 0:n.description})}):""]}),e.jsx("div",{className:"",children:e.jsx(we,{})}),e.jsx("div",{className:"",children:e.jsx(Se,{})}),e.jsx("div",{className:"",children:e.jsx(Ce,{})}),e.jsx("div",{className:"",children:e.jsx(Ie,{})}),e.jsx("div",{className:"",children:e.jsx(Te,{})}),e.jsx("div",{className:"",children:e.jsx(ke,{})})]})]})})}function $e(){var D,v,A,m,E,B;const{id:o}=P(),r=oe(),[x,i]=g.useState(1),[a,n]=g.useState(""),s=10,l=["doctorAppointments",{doctorId:o,page:x,limit:s,keyword:a}],{isLoading:h,data:u,isError:d,error:p,isSuccess:t}=C({queryKey:l,queryFn:()=>I.get(me,{params:{doctor:o,page:x,pageSize:s}}),enabled:!!o,keepPreviousData:!0,onError:c=>{b.error(w(c))}}),j=((v=(D=u==null?void 0:u.data)==null?void 0:D.data)==null?void 0:v.docs)||[],f=((m=(A=u==null?void 0:u.data)==null?void 0:A.data)==null?void 0:m.pages)||1;(B=(E=u==null?void 0:u.data)==null?void 0:E.data)!=null&&B.docsCount;const y=(c,q,Y)=>{c.stopPropagation(),Y==="view"&&r(`/appointments/view/${q==null?void 0:q._id}`)},N=j.map(c=>{var M,K,H,_,U,G,z,Z;const q=c!=null&&c.createdAt?new Date(c.createdAt).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",Y=c!=null&&c.slot?new Date(c.slot).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",le=c!=null&&c.slot?new Date(c.slot).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A";return{_id:c==null?void 0:c._id,id:(c==null?void 0:c.longAutoIncrementId)||"N/A",doctorName:((M=c==null?void 0:c.doctor)==null?void 0:M.fullName)||`${((K=c==null?void 0:c.doctor)==null?void 0:K.firstName)||""} ${((H=c==null?void 0:c.doctor)==null?void 0:H.lastName)||""}`.trim()||"N/A",petParents:((_=c==null?void 0:c.petParent)==null?void 0:_.fullName)||`${((U=c==null?void 0:c.petParent)==null?void 0:U.firstName)||""} ${((G=c==null?void 0:c.petParent)==null?void 0:G.lastName)||""}`.trim()||"N/A",bookedDate:q,appointmentDate:`${Y} (${le})`,type:(c==null?void 0:c.type)||"N/A",fee:`${parseInt((z=c==null?void 0:c.order)==null?void 0:z.amount).toFixed(2)||"N/A"} ${((Z=c==null?void 0:c.order)==null?void 0:Z.currencyCode)||""}`,appointmentStatus:e.jsx(L,{status:c==null?void 0:c.status}),paymentStatus:e.jsx(L,{status:c==null?void 0:c.paymentStatus})}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(F,{isLoading:h,isError:d,fetchedData:j,data:N,mainHeading:"Appointments",searchBar:!1,keyword:a,setKeyword:n,headings:["Order #","Doctor Name","Pet Parents","Booked Date","Appointment Date","Type","Fee","Appointment Status","Payment Status"],cells:["id","doctorName","petParents","bookedDate","appointmentDate","type","fee","appointmentStatus","paymentStatus"],status:!1,actions:!1,actionTypes:[{action:"view",icon:O}],actionHandler:y,setCurrentPage:i,pages:f,currentPage:x})})})}function Be(){const[o,r]=g.useState(!0),[x,i]=g.useState(!1),[a,n]=g.useState(1),[s,l]=g.useState(3),h=(j,f,y)=>{j.stopPropagation(),console.log(f,`${y} btn clicked`)},d=Array.from({length:10},(j,f)=>{var y,N,D,v,A,m;return{id:(y=$[f])==null?void 0:y.id,accountNumber:(N=$[f])==null?void 0:N.accountNumber,creditedOn:(D=$[f])==null?void 0:D.creditedOn,requestedDate:(v=$[f])==null?void 0:v.requestedDate,amount:(A=$[f])==null?void 0:A.amount,status:(m=$[f])==null?void 0:m.status}}),t=Array.from({length:10},(j,f)=>{var y,N,D,v,A,m,E,B;return{id:(y=T[f])==null?void 0:y.id,patient:ce((N=T[f])==null?void 0:N.patientImage,(D=T[f])==null?void 0:D.patient),appointmentDate:(v=T[f])==null?void 0:v.appointmentDate,amount:ne((A=T[f])==null?void 0:A.currency,(m=T[f])==null?void 0:m.amount),status:(E=T[f])==null?void 0:E.status,cancelledDate:(B=T[f])==null?void 0:B.cancelledDate}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(te,{statistics:!0,bankDetails:!0}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{children:e.jsx("button",{type:"button",className:`${o?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{r(!0),i(!1)},children:"Withdraw History"})}),e.jsx("div",{children:e.jsx("button",{type:"button",className:`${x?"bg-[#4C63BD] text-white":""} rounded-[20px] py-2 px-4 text-[#4C63BD] border border-[#4C63BD] cursor-pointer`,onClick:()=>{i(!0),r(!1)},children:"Refund Requests"})})]}),e.jsxs("div",{className:"",children:[o?e.jsx(F,{isLoading:!1,isError:!1,fetchedData:d,data:d,mainHeading:"",searchBar:!0,headings:["ID #","Account #","Created On","Transferred Date","Amount","Status"],cells:["id","accountNumber","creditedOn","requestedDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:W}],actionHandler:h,setCurrentPage:n,pages:s}):"",x?e.jsx(F,{isLoading:!1,isError:!1,fetchedData:t,data:t,mainHeading:"",searchBar:!0,headings:["ID #","Pet Parent","Appointment Date","Cancelled Date","Amount","Status"],cells:["id","patient","appointmentDate","cancelledDate","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:W}],actionHandler:h,setCurrentPage:n,pages:s}):""]})]})})}function qe(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(te,{settings:!0})})})}function Re(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(ye,{})})})}function Fe(){const[o,r]=g.useState(1),[x,i]=g.useState(3),a=(l,h,u)=>{l.stopPropagation(),console.log(h,`${u} btn clicked`)},s=Array.from({length:10},(l,h)=>{var u,d,p,t,j,f,y,N;return{id:(u=k[h])==null?void 0:u.id,petParent:ce((d=k[h])==null?void 0:d.parentImage,(p=k[h])==null?void 0:p.parentName),appointmentDate:(t=k[h])==null?void 0:t.appointmentDate,bookedOn:(j=k[h])==null?void 0:j.bookedOn,amount:ne((f=k[h])==null?void 0:f.currency,(y=k[h])==null?void 0:y.amount),status:(N=k[h])==null?void 0:N.status}});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(F,{isLoading:!1,isError:!1,fetchedData:s,data:s,mainHeading:"",searchBar:!1,headings:["ID #","Pet Parents","Appointment Date","BookedOn","Amount","Status"],cells:["id","petParent","appointmentDate","bookedOn","amount"],status:!0,actions:!1,actionTypes:[{action:"view",icon:O},{action:"edit",icon:V},{action:"delete",icon:W}],actionHandler:a,setCurrentPage:r,pages:x})})})}function ds(){var v,A;const{id:o}=P(),[r,x]=g.useState({}),[i,a]=g.useState(!1),[n,s]=g.useState(!1),l=ie(),h=l==null?void 0:l.roles,u=g.useMemo(()=>h,[]),[d,p]=g.useState(1),t=["fetch-approved-doc-profile-data",{id:o}],{data:j,error:f}=C({queryKey:t,queryFn:()=>I.get(`/doctor/${o}`)});g.useEffect(()=>{if(j){const{data:{data:{doc:m}}}=j;x(m)}f&&b.error(w(f))},[j,f]),g.useEffect(()=>{const m=J.find(E=>Q(E.requiredRoles,u));m?p(m.id):(b.error("User has no access to any tabs"),p(null))},[u]);const y={profileName:(r==null?void 0:r.fullName)||((v=r==null?void 0:r.user)==null?void 0:v.username)||e.jsxs("span",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})||"N/A",profession:(r==null?void 0:r.designation)||"N/A",profileImage:(A=r==null?void 0:r.user)==null?void 0:A.image,phone:Ne(r==null?void 0:r.phone)||"N/A",email:(r==null?void 0:r.email)||"N/A",country:(r==null?void 0:r.countryName)||"N/A",state:(r==null?void 0:r.province)||"N/A",city:(r==null?void 0:r.city)||"N/A",status:(r==null?void 0:r.status)||""},N=async()=>{a(!0);try{await new Promise(m=>setTimeout(m,1e3))}catch(m){b.error(w(m))}finally{a(!1)}},D=async()=>{s(!0);try{await new Promise(m=>setTimeout(m,1e3))}catch(m){b.error(w(m))}finally{s(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctor Profile"}),e.jsx("div",{children:e.jsx("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:e.jsx("span",{children:"Edit Profile"})})})]}),d!==null&&e.jsx(de,{activeTab:d,setActiveTab:p,roles:u,hasRequiredRole:Q,tabs:J,profileData:y,button1Label:"Send Message",button1Handler:N,submitting1:i,button2Label:"Block",button2Handler:D,submitting2:n,button1Required:!0,button2Required:!0}),e.jsxs("div",{className:"",children:[d===1?e.jsx(Ee,{}):"",d===2?e.jsx($e,{}):"",d===3?e.jsx(Be,{}):"",d===4?e.jsx(qe,{}):"",d===5?e.jsx(Re,{}):"",d===6?e.jsx(Fe,{}):""]})]})})}export{ds as default};
