import{r as i,z as R,k as S,V as _,h as F,j as a,B as H,M as U,C as A,D,A as $}from"./index-D9Thu0Lz.js";import{D as q}from"./DashboardContainer1-CcIZMVos.js";import{R as z}from"./ResponsiveTable-D9t4B7zz.js";import{P as O,D as T,A as Y,a as J}from"./admin-profit-icon-YhiRSQEj.js";import{V as K}from"./view-icon-DsPpK1Wz.js";import{E as Q}from"./edit-icon-CSd65PgS.js";import{I as W,a as G,N as X}from"./NoData-B6yFQmfP.js";import{f as Z}from"./index-BQUJjQUV.js";import{h as aa}from"./moment-C5S46NFB.js";import"./Status-CROOxf9O.js";import"./index-BC1JkQHl.js";/* empty css                */import"./index-amKFu-wi.js";import"./index-_kq-BFvs.js";function ga(){var p,m;const[c,N]=i.useState(1),[I,y]=i.useState(1),d=10,[v,L]=i.useState(0),r=R(),w=["fetch-labs-in-review",{currentPage:c,limit:d}],{isLoading:P,data:o,isError:k,error:l}=S({queryKey:w,queryFn:()=>$.get(`lab?status=In Review&isLabBranch=no&page=${c}&pageSize=${d}`)}),[t,B]=i.useState((m=(p=o==null?void 0:o.data)==null?void 0:p.data)==null?void 0:m.docs);i.useEffect(()=>{if(o){const{data:{data:{docs:s}}}=o,{data:{data:{pages:e}}}=o;B(s),y(e),L(s==null?void 0:s.length)}l&&_.error(F(l))},[o,l]);const E=Array.from({length:v},(s,e)=>{var n,u,h,g,f,b,x,j;return{_id:(n=t[e])==null?void 0:n._id,id:((u=t[e])==null?void 0:u.longAutoIncrementId)||((h=t[e])==null?void 0:h.autoIncrementId)||"N/A",labName:((g=t[e])==null?void 0:g.title)||"N/A",email:((f=t[e])==null?void 0:f.email)||"N/A",phone:Z((b=t[e])==null?void 0:b.phone)||"N/A",joinedDate:aa(((x=t[e])==null?void 0:x.createdAt)||"2025-01-01").format("DD/MM/YY"),status:((j=t[e])==null?void 0:j.status)||"N/A"}}),V=[{label:"All Labs",totalValue:40689,icon:O,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:T,status:"Up",value:1.3,duration:"past week"},{label:"Verified Labs",totalValue:89e3,icon:Y,status:"Down",value:4.3,duration:"yesterday"},{label:"Blocked Labs",totalValue:2040,icon:J,status:"Up",value:1.8,duration:"yesterday"}],C=(s,e,n)=>{s.stopPropagation(),console.log(e,`${n} btn clicked`)},M=(s,e,n)=>{s.stopPropagation(),n==="change-password"&&(r(A(!0)),r(D({type:"change-password",data:{userId:e._id}}))),n==="block"&&(r(A(!0)),r(D({type:"block",data:{userId:e._id}})))};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[a.jsx("h1",{className:"main-heading",children:"Labs"}),a.jsx("div",{children:a.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Add New Lab"})]})})]}),a.jsx("div",{className:"",children:a.jsx(q,{data:V})}),P?a.jsx(W,{}):k?a.jsx(G,{}):!t||(t==null?void 0:t.length)===0?a.jsx(X,{goBackButton:!1}):a.jsx("div",{className:"",children:a.jsx(z,{data:E,mainHeading:"All Labs",searchBar:!0,headings:["ID #","Lab Name","Email","Phone","Joined Date","Status","Action"],cells:["id","labName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:K},{action:"edit",icon:Q}],actionHandler:C,currentPage:c,setCurrentPage:N,pages:I,navigation:!0,navigationLink:"/labs/in-review/profile",headingNameForNavigationOnMobile:"Lab Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:a.jsx(H,{})},{label:"Block",action:"block",icon:a.jsx(U,{})}],moreActionsHandler:M})})]})})}export{ga as default};
