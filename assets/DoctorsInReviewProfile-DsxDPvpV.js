import{H as $,r as d,k as R,V as o,h as g,j as e,m as B,A as b,g as _,u as L}from"./index-CKZINqwN.js";import{B as S}from"./ButtonClipLoader-BeExEsVH.js";import{I as E,a as P}from"./IsError-D7nYLhx5.js";import{N as T}from"./NoData-CTHyLIoH.js";import{S as F}from"./Status-BiG97xPr.js";import{h as I}from"./moment-C5S46NFB.js";import{h as q,T as M}from"./hasRequiredRole-Cc5ssQ2N.js";import{f as O}from"./index-BNtOQB4L.js";import{H as W}from"./HeadingPlusBackBtn-BOBZ_rS4.js";/* empty css                */import"./index-BmsdS2U_.js";import"./index-BQwADRsX.js";import"./BackButton-Dd_chuGT.js";function K(){var v,N;const{id:p}=$(),[l,y]=d.useState(!1),[u,f]=d.useState(!1),w=["fetch-in-review-doc-documents",{id:p,approving:l,declining:u}],{isLoading:i,isError:h,data:c,error:j}=R({queryKey:w,queryFn:()=>b.get(`/know-your-customer/?doctorObjectId=${p}`)}),[a,m]=d.useState((N=(v=c==null?void 0:c.data)==null?void 0:v.data)==null?void 0:N.docs);d.useEffect(()=>{var s,n;c&&m((n=(s=c==null?void 0:c.data)==null?void 0:s.data)==null?void 0:n.docs),j&&o.error(g(j))},[c,j,l,u]);const D=async s=>{var n;y(!0);try{const{data:r}=await b.patch(`/know-your-customer/approve/${s==null?void 0:s._id}`,{status:"Approved",statusChangeReason:"Verification Successful"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{y(!1)}},k=async s=>{var n;f(!0);try{const{data:r}=await b.patch(`/know-your-customer/approve/${s==null?void 0:s._id}`,{status:"Declined",statusChangeReason:"Verification Failed"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{f(!1)}};return e.jsx(e.Fragment,{children:i?e.jsx(E,{}):h?e.jsx(P,{}):!a||(a==null?void 0:a.length)===0?e.jsx(T,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:a==null?void 0:a.map((s,n)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"Document"}),(s==null?void 0:s.status)==="In Review"||(s==null?void 0:s.status)==="Pending"?e.jsxs("div",{className:"flex max-[370px]:flex-col max-[370px]:w-full max-[370px]:items-start items-center gap-4",children:[e.jsx("div",{className:"max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center gap-1 bg-fullGreen w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>D(s),disabled:l,children:l?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Approve"})}),e.jsx("div",{className:" max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"bg-fullRed w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>k(s),disabled:u,children:u?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Decline"})})]}):""]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Front"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${B}/${s==null?void 0:s.idFront}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${B}/${s==null?void 0:s.idFront}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Back"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${B}/${s==null?void 0:s.idBack}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${B}/${s==null?void 0:s.idBack}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4",children:[e.jsx("p",{children:"RVMP Proof"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${B}/${s==null?void 0:s.rvmp}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${B}/${s==null?void 0:s.rvmp}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Status"}),e.jsx("p",{children:e.jsx(F,{status:s==null?void 0:s.status})})]})]})]},n))})})}function V(){var v,N;const{id:p}=$(),[l,y]=d.useState(!1),[u,f]=d.useState(!1),w=["fetch-in-review-doc-education",{id:p,approving:l,declining:u}],{isLoading:i,isError:h,data:c,error:j}=R({queryKey:w,queryFn:()=>b.get(`/degree?doctorObjectId=${p}`)}),[a,m]=d.useState((N=(v=c==null?void 0:c.data)==null?void 0:v.data)==null?void 0:N.docs);d.useEffect(()=>{var s,n;c&&m((n=(s=c==null?void 0:c.data)==null?void 0:s.data)==null?void 0:n.docs),j&&o.error(g(j))},[c,j,l,u]);const D=async s=>{var n;y(!0);try{const{data:r}=await b.patch(`/degree/approve/${s==null?void 0:s._id}`,{status:"Approved",statusChangeReason:"Passed All Tests"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{y(!1)}},k=async s=>{var n;f(!0);try{const{data:r}=await b.patch(`/degree/approve/${s==null?void 0:s._id}`,{status:"Declined",statusChangeReason:"Failed All Tests"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{f(!1)}};return e.jsx(e.Fragment,{children:i?e.jsx(E,{}):h?e.jsx(P,{}):!a||(a==null?void 0:a.length)===0?e.jsx(T,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:a==null?void 0:a.map((s,n)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"Education"}),(s==null?void 0:s.status)==="In Review"||(s==null?void 0:s.status)==="Pending"?e.jsxs("div",{className:"flex max-[370px]:flex-col max-[370px]:w-full max-[370px]:items-start items-center gap-4",children:[e.jsx("div",{className:"max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center gap-1 bg-fullGreen w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>D(s),disabled:l,children:l?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Approve"})}),e.jsx("div",{className:" max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"bg-fullRed w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>k(s),disabled:u,children:u?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Decline"})})]}):""]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Education Logo"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${B}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${B}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Name Of Institution"}),e.jsx("p",{children:(s==null?void 0:s.institutionTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Degree"}),e.jsx("p",{children:(s==null?void 0:s.degreeTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:I((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:I((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Number Of Years"}),e.jsx("p",{children:(s==null?void 0:s.duration)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Description"}),e.jsx("p",{className:"text-gray-500",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Status"}),e.jsx("p",{children:e.jsx(F,{status:s==null?void 0:s.status})})]})]})]},n))})})}function G(){var v,N;const{id:p}=$(),[l,y]=d.useState(!1),[u,f]=d.useState(!1),w=["fetch-in-review-doc-experience",{id:p,approving:l,declining:u}],{isLoading:i,isError:h,data:c,error:j}=R({queryKey:w,queryFn:()=>b.get(`/work-experience?doctorObjectId=${p}`)}),[a,m]=d.useState((N=(v=c==null?void 0:c.data)==null?void 0:v.data)==null?void 0:N.docs);d.useEffect(()=>{var s,n;c&&m((n=(s=c==null?void 0:c.data)==null?void 0:s.data)==null?void 0:n.docs),j&&o.error(g(j))},[c,j,l,u]);const D=async s=>{var n;y(!0);try{const{data:r}=await b.patch(`/work-experience/approve/${s==null?void 0:s._id}`,{status:"Approved",statusChangeReason:"Passed All Tests"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{y(!1)}},k=async s=>{var n;f(!0);try{const{data:r}=await b.patch(`/work-experience/approve/${s==null?void 0:s._id}`,{status:"Declined",statusChangeReason:"Failed All Tests"});r!=null&&r.success&&o.success((r==null?void 0:r.message)||((n=r==null?void 0:r.data)==null?void 0:n.message))}catch(r){o.error(g(r))}finally{f(!1)}};return e.jsx(e.Fragment,{children:i?e.jsx(E,{}):h?e.jsx(P,{}):!a||(a==null?void 0:a.length)===0?e.jsx(T,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:a==null?void 0:a.map((s,n)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"Experience"}),(s==null?void 0:s.status)==="In Review"||(s==null?void 0:s.status)==="Pending"?e.jsxs("div",{className:"flex max-[370px]:flex-col max-[370px]:w-full max-[370px]:items-start items-center gap-4",children:[e.jsx("div",{className:"max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center gap-1 bg-fullGreen w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>D(s),disabled:l,children:l?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Approve"})}),e.jsx("div",{className:" max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"bg-fullRed w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>k(s),disabled:u,children:u?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Decline"})})]}):""]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Image"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${B}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${B}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Title"}),e.jsx("p",{children:(s==null?void 0:s.jobTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Organization"}),e.jsx("p",{children:(s==null?void 0:s.organizationTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsxs("p",{children:[(s==null?void 0:s.experience)>1?"Years":"Year"," of Experience"]}),e.jsx("p",{children:(s==null?void 0:s.yearsOfExperience)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Address"}),e.jsx("p",{children:(s==null?void 0:s.organizationAddress)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Employment Type"}),e.jsx("p",{children:(s==null?void 0:s.employmentType)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:I((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:I((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Job Description"}),e.jsx("p",{className:"text-gray-500",children:(s==null?void 0:s.description)||(s==null?void 0:s.jobDescription)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Status"}),e.jsx("p",{children:e.jsx(F,{status:s==null?void 0:s.status})})]})]})]},n))})})}function H(){var c,j,a;const{id:p}=$(),l=["fetch-in-review-doc-about-me",{id:p}],{isLoading:y,isError:u,data:f,error:w}=R({queryKey:l,queryFn:()=>b.get(`/doctor/${p}`)}),[i,h]=d.useState((j=(c=f==null?void 0:f.data)==null?void 0:c.data)==null?void 0:j.doc);return d.useEffect(()=>{if(f){const{data:{data:{doc:m}}}=f;h(m)}w&&o.error(g(w))},[f,w]),e.jsx(e.Fragment,{children:y?e.jsx(E,{}):u?e.jsx(P,{}):!i||((a=Object.keys(i))==null?void 0:a.length)===0?e.jsx(T,{goBackButton:!1}):e.jsx("div",{className:"bg-white p-5 flex flex-col gap-5 rounded-[20px]",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Gender"}),e.jsx("p",{children:(i==null?void 0:i.gender)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Designation"}),e.jsx("p",{children:(i==null?void 0:i.designation)||"N/A"})]}),i!=null&&i.bio?e.jsx("div",{className:"flex items-center gap-1 justify-between",children:e.jsx("p",{className:"text-gray-500",children:(i==null?void 0:i.bio)||"N/A"})}):""]})})})}function U(){var v,N,s;const{id:p}=$(),[l,y]=d.useState(!1),[u,f]=d.useState(!1),w=["fetch-in-review-doc-services",{id:p,approving:l,declining:u}],{isLoading:i,data:h,error:c,isError:j}=R({queryKey:w,queryFn:()=>b.get(`/doctor/${p}`)}),[a,m]=d.useState((s=(N=(v=h==null?void 0:h.data)==null?void 0:v.data)==null?void 0:N.doc)==null?void 0:s.services);d.useEffect(()=>{var n,r,t;h&&m((t=(r=(n=h==null?void 0:h.data)==null?void 0:n.data)==null?void 0:r.doc)==null?void 0:t.services),c&&o.error(g(c))},[h,c,l,u]);const D=async n=>{var r;y(!0);try{const{data:t}=await b.patch("/doctor/approve-service-of-doctor",{doctor:p,serviceSubDocumentObjectId:n==null?void 0:n._id,status:"Approved",statusChangeReason:"Passed All Tests"});t!=null&&t.success&&o.success((t==null?void 0:t.message)||((r=t==null?void 0:t.data)==null?void 0:r.message))}catch(t){o.error(g(t))}finally{y(!1)}},k=async n=>{var r;f(!0);try{const{data:t}=await b.patch("/doctor/approve-service-of-doctor",{doctor:p,serviceSubDocumentObjectId:n==null?void 0:n._id,status:"Declined",statusChangeReason:"Failed All Tests"});t!=null&&t.success&&o.success((t==null?void 0:t.message)||((r=t==null?void 0:t.data)==null?void 0:r.message))}catch(t){o.error(g(t))}finally{f(!1)}};return e.jsx(e.Fragment,{children:i?e.jsx(E,{}):j?e.jsx(P,{}):!a||!h||(a==null?void 0:a.length)===0?e.jsx(T,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:a==null?void 0:a.map((n,r)=>{var t,C,A;return e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsxs("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"Type & Service"}),(n==null?void 0:n.status)==="In Review"||(n==null?void 0:n.status)==="Pending"?e.jsxs("div",{className:"flex max-[370px]:flex-col max-[370px]:w-full max-[370px]:items-start items-center gap-4",children:[e.jsx("div",{className:"max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center gap-1 bg-fullGreen w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>D(n),disabled:l,children:l?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Approve"})}),e.jsx("div",{className:"max-[370px]:w-full",children:e.jsx("button",{type:"button",className:"bg-fullRed w-[140px] max-[370px]:w-full h-[40px] rounded-[8px] cursor-pointer text-white",onClick:()=>k(n),disabled:u,children:u?e.jsxs("span",{className:"inline-flex items-center gap-1 justify-center",children:[e.jsx(S,{}),"Please Wait"]}):"Decline"})})]}):""]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Speciality"}),e.jsx("p",{children:((C=(t=n==null?void 0:n.service)==null?void 0:t.speciality)==null?void 0:C.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Service"}),e.jsx("p",{children:((A=n==null?void 0:n.service)==null?void 0:A.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Price"}),e.jsxs("p",{children:[(n==null?void 0:n.currencyCode)==="USD"?"$":"",(n==null?void 0:n.price)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"About"}),e.jsx("p",{className:"text-gray-500",children:(n==null?void 0:n.aboutService)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Status"}),e.jsx("p",{children:e.jsx(F,{status:n==null?void 0:n.status})})]})]})]},r)})})})}const Y=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"Types & Services",requiredRoles:["admin","doctors"]},{id:3,name:"Education",requiredRoles:["admin","doctors"]},{id:4,name:"Experience",requiredRoles:["admin","doctors"]},{id:5,name:"Documents",requiredRoles:["admin","doctors"]}];function oe(){var t,C;const{id:p}=$(),[l,y]=d.useState({}),[u,f]=d.useState(!1),[w,i]=d.useState(!1),h=_(),c=h==null?void 0:h.roles,j=d.useMemo(()=>c,[]),[a,m]=d.useState(1),D=L(),k=["fetch-in-review-doc-profile-data",{id:p}],{data:v,error:N}=R({queryKey:k,queryFn:()=>b.get(`/doctor/${p}`)});d.useEffect(()=>{if(v){const{data:{data:{doc:A}}}=v;y(A)}N&&o.error(g(N))},[v,N]),d.useEffect(()=>{const A=Y.find(x=>q(x.requiredRoles,j));A?m(A.id):(o.error("User has no access to any tabs"),m(null))},[j]);const s={profileName:(l==null?void 0:l.fullName)||((t=l==null?void 0:l.user)==null?void 0:t.username)||e.jsxs("span",{children:[l==null?void 0:l.firstName," ",l==null?void 0:l.lastName]})||"N/A",profession:(l==null?void 0:l.designation)||"N/A",profileImage:(C=l==null?void 0:l.user)==null?void 0:C.image,phone:O(l==null?void 0:l.phone)||"N/A",email:(l==null?void 0:l.email)||"N/A",country:(l==null?void 0:l.countryName)||"N/A",state:(l==null?void 0:l.province)||"N/A",city:(l==null?void 0:l.city)||"N/A",status:(l==null?void 0:l.status)||""},n=async()=>{var A;f(!0);try{const{data:x}=await b.patch(`/doctor/approve/${p}`,{status:"Approved",statusChangeReason:"Passed all tests"});x!=null&&x.success&&(o.success((x==null?void 0:x.message)||((A=x==null?void 0:x.data)==null?void 0:A.message)),D(`/doctors/approved/doctors-profile/${p}`))}catch(x){o.error(g(x))}finally{f(!1)}},r=async()=>{var A;i(!0);try{const{data:x}=await b.patch(`/doctor/approve/${p}`,{status:"Declined",statusChangeReason:"Failed all tests"});x!=null&&x.success&&(o.success((x==null?void 0:x.message)||((A=x==null?void 0:x.data)==null?void 0:A.message)),D(`/doctors/declined/profile/${p}`))}catch(x){o.error(g(x))}finally{i(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(W,{label:"Doctor Profile"})}),a!==null&&e.jsx(M,{activeTab:a,setActiveTab:m,roles:j,hasRequiredRole:q,tabs:Y,profileData:s,button1Label:"Approve",button1Handler:n,submitting1:u,button2Label:"Decline",button2Handler:r,submitting2:w}),e.jsxs("div",{className:"",children:[a===1?e.jsx(H,{}):"",a===2?e.jsx(U,{}):"",a===3?e.jsx(V,{}):"",a===4?e.jsx(G,{}):"",a===5?e.jsx(K,{}):""]})]})})}export{oe as default};
