import{r as i,I as w,k as L,u as P,z as R,V as _,h as $,j as e,m as k,J as M,K as q,N as z,A as B}from"./index-CtF5NqjV.js";import{R as F}from"./ResponsiveTable-BVHihXma.js";import{I as H,a as K,N as T}from"./NoData-CRNyNY9D.js";import"./Status-CFvwze7x.js";import"./index-CP8FX3G0.js";/* empty css                */import"./index-R1RIAz4U.js";function X(){const[t,j]=i.useState([]),[c,y]=i.useState(1),[D,N]=i.useState(1),[I,E]=i.useState(0),{docDeleted:g}=w(a=>a==null?void 0:a.deleteModal),p=10,v=["fetch-doctor-categories",{currentPage:c,limit:p,docDeleted:g}],{isLoading:A,data:r,isError:C,error:l}=L({queryKey:v,queryFn:()=>B.get(`/doctor-category?page=${c}&pageSize=${p}`)}),x=P(),d=R();i.useEffect(()=>{var a,s,o,n;r&&(j((s=(a=r==null?void 0:r.data)==null?void 0:a.data)==null?void 0:s.docs),N((n=(o=r==null?void 0:r.data)==null?void 0:o.data)==null?void 0:n.pages),E(t==null?void 0:t.length)),l&&_.error($(l))},[r,t==null?void 0:t.length,l,g]);const b=Array.from({length:I},(a,s)=>{var o,n,h,u,m;return{_id:(o=t[s])==null?void 0:o._id,id:((n=t[s])==null?void 0:n.longAutoIncrementId)||((h=t[s])==null?void 0:h.autoIncrementId)||"N/A",doctors:e.jsxs("span",{className:"inline-flex max-[351px]:flex-col max-[350px]:items-end items-center gap-[18px]",children:[e.jsx("span",{className:"w-[50px] h-[50px] rounded-full",children:e.jsx("img",{src:`${k}/${(u=t[s])==null?void 0:u.image}`,alt:"test type image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"50%"},onError:f=>{f.target.onerror=null,f.target.src="https://placehold.co/40x40/cccccc/000000?text=No+Img"}})}),e.jsx("span",{children:(m=t[s])==null?void 0:m.title})]})}}),S=(a,s,o)=>{if(a.stopPropagation(),o==="edit"&&x(`/doctors-categories/edit/${s==null?void 0:s._id}`),o==="delete"){const n="/doctor-category";d(M(!0)),d(q(n)),d(z(s==null?void 0:s._id))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctors Categories"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{x("/doctors-categories/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),A?e.jsx(H,{}):C?e.jsx(K,{}):(t==null?void 0:t.length)===0?e.jsx(T,{}):e.jsx("div",{className:"",children:e.jsx(F,{data:b,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","doctors"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:S,currentPage:c,setCurrentPage:y,pages:D})})]})})}export{X as default};
