import{r as t,j as e}from"./index-BwED8_OB.js";import{c as N,a as i,e as I,F as b,b as v}from"./index.esm-LYPrLh3M.js";import{S as w}from"./SingleImageUpload-Cdb_QRV-.js";import{I as q,S as A}from"./Input-pgo6k8ei.js";import{V as F}from"./index-B298_fn-.js";import{r as E}from"./returnErrorMessage-BWBZa02J.js";import{S as B,C as H,A as z}from"./AddressInput-CuVaYeEp.js";import{C as M}from"./CountrySelect-C_uJXZF5.js";import{g as V,M as D}from"./MultiImagesSelect-Ch_lC4MN.js";import{L as m}from"./LayoutDiv-D-DW6ffs.js";import{H as O}from"./HeadingPlusBackBtn-DNIha_NH.js";import"./no-image-icon-CabPHXKl.js";import"./swiper-DgZmGFbL.js";function Z(){const[l,u]=t.useState(""),[a,g]=t.useState(""),[n,x]=t.useState(""),[c,p]=t.useState(""),[j,f]=t.useState(""),[r,y]=t.useState("");t.useEffect(()=>{if(a){const s=new Intl.DisplayNames(["en"],{type:"region"});x(s.of(a)),p(V(a))}},[a]);const S={image:null,title:"",countryCode:"",state:"",city:"",address:""},C=N().shape({image:I().nullable().test("fileSize","Image size must be less than 4MB",s=>s===null||s instanceof File&&s.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",s=>s===null||s instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(s.type)).required("Image is required"),title:i().required("Title is required"),countryCode:i().required("Country is required"),state:i(),city:i(),address:i().required("Address is required")}),h=async(s,{setSubmitting:d})=>{d(!0);try{await new Promise(o=>setTimeout(()=>{o()},1e3))}catch(o){F.error(E(o))}finally{d(!1),r&&(r==null?void 0:r.length)>0?console.log({...s,image:l,country:n,countryCode:c,galleryDataURIs:r}):console.log({...s,image:l,country:n,countryCode:c})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(O,{label:"Add New Hospital"})}),e.jsx("div",{className:"border border-[#AEC8E2] p-5 rounded-[20px] bg-white",children:e.jsx(b,{initialValues:S,validationSchema:C,onSubmit:h,enableReinitialize:!0,children:s=>e.jsxs(v,{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(w,{formik:s,base64Image:l,setBase64Image:u})}),e.jsx("div",{className:"",children:e.jsx(q,{formik:s,name:"title",id:"title",label:"Title"})}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(M,{formik:s,getCountryCode:g})}),e.jsx("div",{className:"w-full",children:e.jsx(B,{formik:s,countryCode:a,getStateCode:f})})]}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(H,{formik:s,countryCode:a,stateCode:j})}),e.jsx("div",{className:"w-full",children:e.jsx(z,{formik:s})})]}),e.jsx("div",{className:"",children:e.jsx(D,{getGalleryImages:y})}),e.jsx("div",{className:"mt-2",children:e.jsx(A,{formik:s})})]})})})]})})}export{Z as default};
