import{r as l,I as b,k,u as B,z as L,V as w,h as M,j as s,J as R,K as $,N as q,A as z}from"./index-D9Thu0Lz.js";import{R as F}from"./ResponsiveTable-D9t4B7zz.js";import{E as H}from"./edit-icon-CSd65PgS.js";import{D as K}from"./delete-icon-FU5lMFq3.js";import{n as T}from"./nameWithImage-DyivypeO.js";import{I as V,a as J,N as O}from"./NoData-B6yFQmfP.js";import"./Status-CROOxf9O.js";import"./index-BC1JkQHl.js";/* empty css                */import"./index-amKFu-wi.js";function ae(){var h,j;const[g,y]=l.useState(1),[D,I]=l.useState(1),m=10,{docDeleted:x}=b(o=>o==null?void 0:o.deleteModal),E=["fetch-pet-categories",{currentPage:g,limit:m,docDeleted:x}],{isLoading:N,isError:A,data:t,error:p}=k({queryKey:E,queryFn:()=>z.get(`/pet-category?page=${g}&pageSize=${m}`)}),[a,v]=l.useState((j=(h=t==null?void 0:t.data)==null?void 0:h.data)==null?void 0:j.docs),[P,C]=l.useState(0),f=B(),u=L();l.useEffect(()=>{var o,e,r,n,i,c,d;t&&(v((e=(o=t==null?void 0:t.data)==null?void 0:o.data)==null?void 0:e.docs),I((n=(r=t==null?void 0:t.data)==null?void 0:r.data)==null?void 0:n.pages),C((d=(c=(i=t==null?void 0:t.data)==null?void 0:i.data)==null?void 0:c.docs)==null?void 0:d.length)),p&&w.error(M(p))},[t,p,x]);const S=(o,e,r)=>{if(o.stopPropagation(),r==="edit"&&f(`/pet-categories/edit/${e==null?void 0:e._id}`),r==="delete"){const n="/pet-category";u(R(!0)),u($(n)),u(q(e==null?void 0:e._id))}},_=Array.from({length:P},(o,e)=>{var r,n,i,c,d;return{_id:(r=a[e])==null?void 0:r._id,id:((n=a[e])==null?void 0:n.longAutoIncrementId)||((i=a[e])==null?void 0:i.autoIncrementId)||"N/A",category:T((c=a[e])==null?void 0:c.image,(d=a[e])==null?void 0:d.title)}});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[s.jsx("h1",{className:"main-heading",children:"Pet Categories"}),s.jsx("div",{children:s.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{f("/pet-categories/add")},children:[s.jsx("span",{children:"+"}),s.jsx("span",{children:"Add New"})]})})]}),N?s.jsx(V,{}):A?s.jsx(J,{}):!a||(a==null?void 0:a.length)===0?s.jsx(O,{goBackButton:!1}):s.jsx("div",{className:"",children:s.jsx(F,{data:_,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","category"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:H},{action:"delete",icon:K}],actionHandler:S,currentPage:g,setCurrentPage:y,pages:D})})]})})}export{ae as default};
