import{r as g,u,c as p,a as x,l as f,j as e,F as j,b as h,S as b,A as I,V as l,h as N}from"./index-DqT0A0WV.js";import{H as S}from"./HeadingPlusBackBtn-DsBgdeOG.js";import{S as v}from"./SingleImageUpload-BymKb_6K.js";import{I as y}from"./Input-C_ZDUQGH.js";import"./BackButton-tIBg2JhS.js";import"./index-CrxefEGs.js";import"./no-image-icon-CabPHXKl.js";function z(){const[t,n]=g.useState(""),c=u(),m={imageDataURI:null,title:""},o=p().shape({imageDataURI:f().nullable().test("fileSize","Image size must be less than 4MB",a=>a===null||a instanceof File&&a.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png",a=>a===null||a instanceof File&&["image/jpeg","image/png"].includes(a.type)).required("Image is required"),title:x().required("Title is required")}),d=async(a,{setSubmitting:i})=>{var r;i(!0);try{const{data:s}=await I.post("/lab-test-category",{...a,imageDataURI:t,status:"Approved"});s!=null&&s.success&&(l.success((s==null?void 0:s.message)||((r=s==null?void 0:s.data)==null?void 0:r.message)),c("/lab-tests-categories"))}catch(s){l.error(N(s))}finally{i(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(S,{label:"Add Lab Test Category"})}),e.jsx("div",{className:"bg-white p-5 rounded-[20px]",children:e.jsx(j,{initialValues:m,validationSchema:o,onSubmit:d,enableReinitialize:!0,children:a=>e.jsxs(h,{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(v,{formik:a,base64Image:t,setBase64Image:n,name:"imageDataURI",id:"imageDataURI"})}),e.jsx("div",{className:"",children:e.jsx(y,{formik:a,name:"title",id:"title",label:"Title"})}),e.jsx("div",{className:"mt-2",children:e.jsx(b,{formik:a})})]})})})]})})}export{z as default};
