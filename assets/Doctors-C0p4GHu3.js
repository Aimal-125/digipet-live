import{r,u as z,w as K,k as O,V as J,h as Q,j as a,x as T,M as W,z as P,B as k,A as G}from"./index-DUYjTDLa.js";import{D as X}from"./DashboardContainer1-DM4GVWQy.js";import{R as Z}from"./ResponsiveTable-Bx0PTskj.js";import{P as tt,D as at,A as et,a as ot}from"./admin-profit-icon-YhiRSQEj.js";import{V as st}from"./view-icon-DsPpK1Wz.js";import{E as rt}from"./edit-icon-CSd65PgS.js";/* empty css                */import{h as nt}from"./moment-C5S46NFB.js";import{f as it}from"./index-BP6acCge.js";import"./Status-BubxHrRz.js";import"./index-DDsQ4hsC.js";import"./IsError-CddUd3sL.js";import"./NoData-CiBxRMDc.js";import"./index-RjsA-lLy.js";import"./index-DpQgK1aN.js";import"./index-ucCudfBO.js";import"./index-qS6WQuq_.js";function bt(){const[o,I]=r.useState([]),[c,E]=r.useState(1),[S,V]=r.useState(1),[d,B]=r.useState(null),[l,M]=r.useState(null),[p,_]=r.useState(""),m=10,[$,C]=r.useState(0),f=z(),n=K(),L=["fetch-doctors",{currentPage:c,limit:m,startDate:d,endDate:l,keyword:p}],{isLoading:F,data:i,isError:R,error:u}=O({queryKey:L,queryFn:()=>{let e=`/doctor/?page=${c}&pageSize=${m}&status=Approved`;return d&&(e+=`&from=${d}`),l&&(e+=`&to=${l}`),p&&(e+=`&keyword=${p}`),G.get(e)}});r.useEffect(()=>{if(i){const{data:{data:{docs:e}}}=i,{data:{data:{pages:t}}}=i;I(e),V(t),C(e==null?void 0:e.length)}u&&J.error(Q(u))},[i,u]);const Y=Array.from({length:$},(e,t)=>{var s,h,g,D,x,N,j,A,v,y,w,b;return{_id:(s=o[t])==null?void 0:s._id,id:((h=o[t])==null?void 0:h.longAutoIncrementId)||((g=o[t])==null?void 0:g.autoIncrementId)||"N/A",doctorName:((D=o[t])==null?void 0:D.fullName)||a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{children:(x=o[t])==null?void 0:x.firstName}),a.jsx("span",{children:(N=o[t])==null?void 0:N.lastName})]})||((A=(j=o[t])==null?void 0:j.user)==null?void 0:A.username)||"N/A",email:((v=o[t])==null?void 0:v.email)||"N/A",phone:it((y=o[t])==null?void 0:y.phone)||"N/A",joinedDate:a.jsx("span",{children:nt(((w=o[t])==null?void 0:w.createdAt)||"2025-01-01").format("DD/MM/YYYY")}),status:((b=o[t])==null?void 0:b.status)||"N/A"}}),H=[{label:"All Doctors",totalValue:40689,icon:tt,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:at,status:"Up",value:1.3,duration:"past week"},{label:"Verified Doctors",totalValue:89e3,icon:et,status:"Down",value:4.3,duration:"yesterday"},{label:"Doctors Blocked",totalValue:2040,icon:ot,status:"Up",value:1.8,duration:"yesterday"}],U=(e,t,s)=>{e.stopPropagation(),s==="view"&&f(`/doctors/approved/doctors-profile/${t==null?void 0:t._id}`),s==="edit"&&f(`/doctors/approved/edit/${t==null?void 0:t._id}`)},q=(e,t,s)=>{e.stopPropagation(),s==="change-password"&&(n(P(!0)),n(k({type:"change-password",data:{userId:t._id}}))),s==="block"&&(n(P(!0)),n(k({type:"block",data:{userId:t._id}})))};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex max-[360px]:flex-col gap-3 items-center justify-between",children:[a.jsx("h1",{className:"main-heading",children:"Doctors"}),a.jsx("div",{className:"",children:a.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Add New Doctor"})]})})]}),a.jsx("div",{className:"",children:a.jsx(X,{data:H})}),a.jsx("div",{className:"",children:a.jsx(Z,{datePicker:!0,setStartDate:B,setEndDate:M,isLoading:F,isError:R,fetchedData:o,data:Y,mainHeading:"All Doctors",searchBar:!0,headings:["ID #","Doctor Name","Email","Phone","Joined Date","Status","Action"],cells:["id","doctorName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:st},{action:"edit",icon:rt}],actionHandler:U,currentPage:c,setCurrentPage:E,pages:S,navigation:!0,navigationLink:"/doctors/approved/doctors-profile",headingNameForNavigationOnMobile:"Doctor Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:a.jsx(T,{})},{label:"Block",action:"block",icon:a.jsx(W,{})}],moreActionsHandler:q,setKeyword:_})})]})})}export{bt as default};
