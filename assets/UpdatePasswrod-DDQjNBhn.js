import{g as $,r as h,j as e}from"./index-DyLh_yMK.js";import{V as S,r as C}from"./returnErrorMessage-C-IAv8BT.js";import{c as E,a as j,f as F,F as q,b as R,E as b,y as U}from"./index.esm-CgnnS0kh.js";import{L as y}from"./LayoutDiv-oArj_t05.js";import{F as P,a as N}from"./index-D2Uyim6Y.js";var w={exports:{}},g;function L(){return g||(g=1,function(d,x){Object.defineProperty(x,"__esModule",{value:!0});function c(a,s){return s===1?a:`${a}s`}const f={minLowercase:({path:a,length:s})=>`${a} must contain at least ${s} lowercase ${c("letter",s)}`,minUppercase:({path:a,length:s})=>`${a} must contain at least ${s} uppercase ${c("letter",s)}`,minNumbers:({path:a,length:s})=>`${a} must contain at least ${s} ${c("number",s)}`,minSymbols:({path:a,length:s})=>`${a} must contain at least ${s} ${c("symbol",s)}`,maxRepeating:({path:a,length:s})=>`${a} must not contain sequences of more than ${s} repeated characters`,minWords:({path:a,length:s})=>`${a} must contain at least ${s} ${c("word",s)}`};function l(a){return a==null}function p({setLocale:a,defaultLocale:s,addMethod:m,string:t}){a({string:f});const r=s.string;m(t,"minLowercase",function(n=1,o=r==null?void 0:r.minLowercase){return this.test({message:o,name:"minLowercase",exclusive:!0,params:{length:n},test(i){return l(i)||(i.match(/[a-z]/g)||[]).length>=n}})}),m(t,"minUppercase",function(n=1,o=r==null?void 0:r.minUppercase){return this.test({message:o,name:"minUppercase",exclusive:!0,params:{length:n},test(i){return l(i)||(i.match(/[A-Z]/g)||[]).length>=n}})}),m(t,"minNumbers",function(n=1,o=r==null?void 0:r.minNumbers){return this.test({message:o,name:"minNumbers",exclusive:!0,params:{length:n},test(i){return l(i)||(i.match(/[0-9]/g)||[]).length>=n}})}),m(t,"minSymbols",function(n=1,o=r==null?void 0:r.minSymbols){return this.test({message:o,name:"minSymbols",exclusive:!0,params:{length:n},test(i){return l(i)||(i.match(/[^a-zA-Z0-9\s]/g)||[]).length>=n}})}),m(t,"maxRepeating",function(n=2,o=r==null?void 0:r.maxRepeating){return this.test({message:o,name:"maxRepeating",exclusive:!0,params:{length:n},test(i){return l(i)||!new RegExp(`(.)\\1{${n},}`).test(i)}})}),m(t,"minWords",function(n=2,o=r==null?void 0:r.minWords){return this.test({message:o,name:"minWords",exclusive:!0,params:{length:n},test(i){return l(i)||i.split(" ").filter(v=>!!v&&/[a-zA-Z0-9]/.test(v)).length>=n}})}),m(t,"password",function(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)})}x.default=p,d.exports=p}(w,w.exports)),w.exports}var A=L();const D=$(A);D(U);function Z(){const[d,x]=h.useState(!1),[c,f]=h.useState(!1),[l,p]=h.useState(!1),a={currentPassword:"",newPassword:"",confirmPassword:""},s=E().shape({currentPassword:j().required("Current Password is required"),newPassword:j().password().required("New Password is required"),confirmPassword:j().oneOf([F("newPassword"),null],"Confirm password must match new password").required("Confirm password is required")}),m=async(t,{setSubmitting:r,resetForm:u})=>{r(!0);try{await new Promise(n=>setTimeout(()=>{n()},1e3))}catch(n){S.error(C(n))}finally{r(!1),u(),console.log(t)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("h1",{className:"main-heading",children:"Update Password"}),e.jsx("div",{className:"bg-white p-5 rounded-[20px]",children:e.jsx(q,{initialValues:a,validationSchema:s,onSubmit:m,enableReinitialize:!0,children:t=>e.jsxs(R,{className:"flex flex-col gap-3",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"currentPassword",className:"updatePassword-label",children:"Current Password"}),e.jsxs("span",{className:"inline-flex border border-[#AEC8E2] w-full rounded-md",children:[e.jsx("input",{type:d?"text":"password",className:"w-full px-4 py-2",name:"currentPassword",onChange:t.handleChange,value:t.values.currentPassword}),e.jsx("span",{className:"inline-flex w-[40px]",children:e.jsx("button",{type:"button","aria-label":d?"Hide Pass":"Show Pass",className:"inline-flex justify-center items-center w-full cursor-pointer",onClick:()=>{x(!d)},children:d?e.jsx(P,{}):e.jsx(N,{})})})]})]}),e.jsx(b,{name:"currentPassword",component:"div",className:"text-sm text-red-500"})]}),e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"newPassword",className:"updatePassword-label",children:"New Password"}),e.jsxs("span",{className:"inline-flex border border-[#AEC8E2] w-full rounded-md",children:[e.jsx("input",{type:c?"text":"password",className:"w-full px-4 py-2",name:"newPassword",onChange:t.handleChange,value:t.values.newPassword}),e.jsx("span",{className:"inline-flex w-[40px]",children:e.jsx("button",{type:"button","aria-label":c?"Hide Pass":"Show Pass",className:"inline-flex justify-center items-center w-full cursor-pointer",onClick:()=>{f(!c)},children:c?e.jsx(P,{}):e.jsx(N,{})})})]})]}),e.jsx(b,{name:"newPassword",component:"div",className:"text-sm text-red-500"})]})]}),e.jsxs(y,{children:[e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"updatePassword-label",children:"Confirm Password"}),e.jsxs("span",{className:"inline-flex border border-[#AEC8E2] w-full rounded-md",children:[e.jsx("input",{type:l?"text":"password",className:"w-full px-4 py-2",name:"confirmPassword",onChange:t.handleChange,value:t.values.confirmPassword}),e.jsx("span",{className:"inline-flex w-[40px]",children:e.jsx("button",{type:"button","aria-label":l?"Hide Pass":"Show Pass",className:"inline-flex justify-center items-center w-full cursor-pointer",onClick:()=>{p(!l)},children:l?e.jsx(P,{}):e.jsx(N,{})})})]})]}),e.jsx(b,{name:"confirmPassword",component:"div",className:"text-sm text-red-500"})]}),e.jsx("div",{className:"w-full"})]}),e.jsx("div",{className:"mt-2 max-[601px]:mt-0",children:e.jsx("button",{type:"submit",className:`${t.isSubmitting?"cursor-not-allowed":"cursor-pointer"} bg-[#624DE3] text-white font-bold px-6 py-2 rounded-[20px]`,disabled:t.isSubmitting,children:"Save"})})]})})})]})})}export{Z as default};
