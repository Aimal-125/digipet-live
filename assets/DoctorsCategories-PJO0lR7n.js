import{r as o,W as S,k as w,u as L,z as P,V as R,h as _,j as e,m as $,I as k,X as M,J as q,A as z}from"./index-BpncqqTg.js";import{R as B}from"./ResponsiveTable-SIx2I_yc.js";import{I as F,a as H}from"./IsLoading-D0iuarB6.js";import{N as T}from"./NoData-C9P7-d5K.js";import"./Status-KfFp0PAM.js";import"./index-DK6lv1Mq.js";/* empty css                  */import"./index-BddCgcU_.js";function G(){const[t,f]=o.useState([]),[c,j]=o.useState(1),[y,D]=o.useState(1),[N,I]=o.useState(0),{docDeleted:p}=S(a=>a==null?void 0:a.deleteModal),g=10,v=["fetch-doctor-categories",{currentPage:c,limit:g,docDeleted:p}],{isLoading:E,data:i,isError:A,error:l}=w({queryKey:v,queryFn:()=>z.get(`/speciality?page=${c}&pageSize=${g}`)}),x=L(),d=P();o.useEffect(()=>{var a,s,r,n;i&&(f((s=(a=i==null?void 0:i.data)==null?void 0:a.data)==null?void 0:s.docs),D((n=(r=i==null?void 0:i.data)==null?void 0:r.data)==null?void 0:n.pages),I(t==null?void 0:t.length)),l&&R.error(_(l))},[i,t==null?void 0:t.length,l,p]);const C=Array.from({length:N},(a,s)=>{var r,n,m,u,h;return{_id:(r=t[s])==null?void 0:r._id,id:((n=t[s])==null?void 0:n.longAutoIncrementId)||((m=t[s])==null?void 0:m.autoIncrementId)||"N/A",doctors:e.jsxs("span",{className:"inline-flex max-[351px]:flex-col max-[350px]:items-end items-center gap-[18px]",children:[e.jsx("span",{className:"w-[50px] h-[50px] rounded-full",children:e.jsx("img",{src:`${$}/${(u=t[s])==null?void 0:u.image}`,alt:"test type image",style:{width:"100%",height:"100%",display:"inline-flex",borderRadius:"50%"}})}),e.jsx("span",{children:(h=t[s])==null?void 0:h.title})]})}}),b=(a,s,r)=>{if(a.stopPropagation(),r==="edit"&&x(`/doctors-categories/edit/${s==null?void 0:s._id}`),r==="delete"){const n="/speciality";d(k(!0)),d(M(n)),d(q(s==null?void 0:s._id))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctors Categories"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{x("/doctors-categories/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),E?e.jsx(F,{}):A?e.jsx(H,{}):(t==null?void 0:t.length)===0?e.jsx(T,{}):e.jsx("div",{className:"",children:e.jsx(B,{data:C,mainHeading:"",searchBar:!1,headings:["ID #","Categories","Action"],cells:["id","doctors"],status:!1,actions:!0,actionTypes:[{action:"edit",icon:"./images/edit-icon.svg"},{action:"delete",icon:"./images/delete-icon.svg"}],actionHandler:b,currentPage:c,setCurrentPage:j,pages:y})})]})})}export{G as default};
