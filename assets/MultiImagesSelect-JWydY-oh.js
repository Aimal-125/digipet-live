import{d as ee,g as V,r as i,R as A,j as g}from"./index-CKvnEMZY.js";import{E as te}from"./index.esm-HmjyjoH8.js";import{a as ne}from"./HeadingPlusBackBtn-C0kVFab9.js";import{S as re,b as oe,G as se,a as ae}from"./swiper-BhEozxSA.js";var ie=ee(),U,H;function le(){return H||(H=1,U=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var l=o[s];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),U}var ce=le();const ue=V(ce);function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(null,arguments)}function D(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fe(t){var e=de(t,"string");return typeof e=="symbol"?e:e+""}const T={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},ge="https://maps.googleapis.com/maps/api/js";class R{static async load(e,n){var r;const s=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=T.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const l=["maps",...s];await Promise.all(l.map(a=>google.maps.importLibrary(a)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((s,o)=>{var l;const a=document.createElement("script"),f=new URLSearchParams;for(const[c,u]of Object.entries(e)){const h=c.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());f.set(h,String(u))}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),a.async=!0,a.src=ge+"?"+f.toString(),a.nonce=((l=document.querySelector("script[nonce]"))==null?void 0:l.nonce)||"",a.onerror=()=>{this.loadingStatus=T.FAILED,this.notifyLoadingStatusListeners(),o(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=T.LOADED,this.notifyLoadingStatusListeners(),s()},window.gm_authFailure=()=>{this.loadingStatus=T.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=T.LOADING,this.notifyLoadingStatusListeners(),document.head.append(a)}),n);google.maps.importLibrary=s=>r().then(()=>google.maps.importLibrary(s))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}R.loadingStatus=T.NOT_LOADED;R.serializedApiParams=void 0;R.listeners=[];const me=["onLoad","onError","apiKey","version","libraries"],pe=["children"],he="GMP_visgl_rgmlibrary_v1_default",w=A.createContext(null);function Ce(){const[t,e]=i.useState({});return{mapInstances:t,addMapInstance:(o,l="default")=>{e(a=>I({},a,{[l]:o}))},removeMapInstance:(o="default")=>{e(l=>D(l,[o].map(fe)))},clearMapInstances:()=>{e({})}}}function Me(t){const{onLoad:e,onError:n,apiKey:r,version:s,libraries:o=[]}=t,l=D(t,me),[a,f]=i.useState(R.loadingStatus),[c,u]=i.useReducer((d,C)=>d[C.name]?d:I({},d,{[C.name]:C.value}),{}),h=i.useMemo(()=>o==null?void 0:o.join(","),[o]),m=i.useMemo(()=>JSON.stringify(I({apiKey:r,version:s},l)),[r,s,l]),p=i.useCallback(async d=>{var C;if(c[d])return c[d];if(!((C=google)!=null&&(C=C.maps)!=null&&C.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const b=await window.google.maps.importLibrary(d);return u({name:d,value:b}),b},[c]);return i.useEffect(()=>{(async()=>{try{const d=I({key:r},l);s&&(d.v=s),(h==null?void 0:h.length)>0&&(d.libraries=h),(d.channel===void 0||d.channel<0||d.channel>999)&&delete d.channel,d.solutionChannel===void 0?d.solutionChannel=he:d.solutionChannel===""&&delete d.solutionChannel,await R.load(d,C=>f(C));for(const C of["core","maps",...o])await p(C);e&&e()}catch(d){n?n(d):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",d)}})()},[r,h,m]),{status:a,loadedLibraries:c,importLibrary:p}}const ve=t=>{const{children:e}=t,n=D(t,pe),{mapInstances:r,addMapInstance:s,removeMapInstance:o,clearMapInstances:l}=Ce(),{status:a,loadedLibraries:f,importLibrary:c}=Me(n),u=i.useMemo(()=>({mapInstances:r,addMapInstance:s,removeMapInstance:o,clearMapInstances:l,status:a,loadedLibraries:f,importLibrary:c}),[r,s,o,l,a,f,c]);return A.createElement(w.Provider,{value:u},e)};function Ee(t,e){for(const n of ye){const r=e[n],s=Y[n];i.useEffect(()=>{if(!t||!r)return;const o=google.maps.event.addListener(t,s,l=>{r(Le(s,t,l))});return()=>o.remove()},[t,s,r])}}function Le(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(Se.includes(t)){const o=r,l=e.getCenter(),a=e.getZoom(),f=e.getHeading()||0,c=e.getTilt()||0,u=e.getBounds();return(!l||!u||!Number.isFinite(a))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),o.detail={center:(l==null?void 0:l.toJSON())||{lat:0,lng:0},zoom:a||0,heading:f,tilt:c,bounds:(u==null?void 0:u.toJSON())||{north:90,east:180,south:-90,west:-180}},o}else if(Ae.includes(t)){var s;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const o=r;return o.domEvent=n.domEvent,o.stoppable=!0,o.stop=()=>n.stop(),o.detail={latLng:((s=n.latLng)==null?void 0:s.toJSON())||null,placeId:n.placeId},o}return r}const Y={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Se=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],Ae=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ye=Object.keys(Y);function be(t,e){const n=i.useRef(void 0);(!n.current||!ue(e,n.current))&&(n.current=e),i.useEffect(t,n.current)}const Ne=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function Ie(t,e){const n={},r=Object.keys(e);for(const s of r)Ne.has(s)&&(n[s]=e[s]);be(()=>{t&&t.setOptions(n)},[n])}function J(){var t;return((t=i.useContext(w))==null?void 0:t.status)||T.NOT_LOADED}function xe(t,e){const{viewport:n,viewState:r}=e,s=!!n;return i.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:o,longitude:l,bearing:a,pitch:f,zoom:c}=r;t.moveCamera({center:{lat:o,lng:l},heading:a,tilt:f,zoom:c+1})},[t,r]),s}function Te(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function W(t){return Te(t)?t:t.toJSON()}function Oe(t,e,n){const r=n.center?W(n.center):null;let s=null,o=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(s=r.lat,o=r.lng);const l=Number.isFinite(n.zoom)?n.zoom:null,a=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;i.useLayoutEffect(()=>{if(!t)return;const c={};let u=!1;s!==null&&o!==null&&(e.current.center.lat!==s||e.current.center.lng!==o)&&(c.center={lat:s,lng:o},u=!0),l!==null&&e.current.zoom!==l&&(c.zoom=l,u=!0),a!==null&&e.current.heading!==a&&(c.heading=a,u=!0),f!==null&&e.current.tilt!==f&&(c.tilt=f,u=!0),u&&t.moveCamera(c)})}const Pe=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return A.createElement("div",{style:t},A.createElement("h2",null,"Error: AuthFailure"),A.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",A.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function De(){const[t,e]=i.useState(null),n=i.useCallback(r=>e(r),[e]);return[t,n]}function $(){return J()===T.LOADED}function Re(){const[,t]=i.useReducer(e=>e+1,0);return t}function we(t,e){const n=t.getCenter(),r=t.getZoom(),s=t.getHeading()||0,o=t.getTilt()||0,l=t.getBounds();(!n||!l||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:s,tilt:o})}function Ge(t){const e=Re(),n=i.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return i.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{we(t,n),e()});return()=>r.remove()},[t,e]),n}const Be=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],ke=["padding"];class k{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}k.entries={};function Fe(t,e){const n=$(),[r,s]=i.useState(null),[o,l]=De(),a=Ge(r),{id:f,defaultBounds:c,defaultCenter:u,defaultZoom:h,defaultHeading:m,defaultTilt:p,reuseMaps:d,renderingType:C,colorScheme:b}=t,v=D(t,Be),M=t.zoom!==void 0||t.defaultZoom!==void 0,L=t.center!==void 0||t.defaultCenter!==void 0;!c&&(!M||!L)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!v.center&&u&&(v.center=u),!v.zoom&&Number.isFinite(h)&&(v.zoom=h),!v.heading&&Number.isFinite(m)&&(v.heading=m),!v.tilt&&Number.isFinite(p)&&(v.tilt=p);for(const E of Object.keys(v))v[E]===void 0&&delete v[E];const S=i.useRef(void 0);return i.useEffect(()=>{if(!o||!n)return;const{addMapInstance:E,removeMapInstance:y}=e,{mapId:x}=t,P=`${x||"default"}:${C||"default"}:${b||"LIGHT"}`;let O,N;if(d&&k.has(P)?(N=k.pop(P),O=N.getDiv(),o.appendChild(O),N.setOptions(v),setTimeout(()=>N.setCenter(N.getCenter()),0)):(O=document.createElement("div"),O.style.height="100%",o.appendChild(O),N=new google.maps.Map(O,I({},v,C?{renderingType:C}:{},b?{colorScheme:b}:{}))),s(N),E(N,f),c){const{padding:F}=c,_=D(c,ke);N.fitBounds(_,F)}else(!M||!L)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(S.current){const{mapId:F,cameraState:_}=S.current;F!==x&&N.setOptions(_)}return()=>{S.current={mapId:x,cameraState:a.current},O.remove(),d?k.push(P,N):google.maps.event.clearInstanceListeners(N),s(null),y(f)}},[o,n,f,t.mapId,t.renderingType,t.colorScheme]),[r,l,a]}const q=A.createContext(null),X=t=>{const{children:e,id:n,className:r,style:s}=t,o=i.useContext(w),l=J();if(!o)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[a,f,c]=Fe(t,o);Oe(a,c,t),Ee(a,t),Ie(a,t);const u=xe(a,t),h=!!t.controlled;i.useEffect(()=>{if(a)return u&&a.setOptions({disableDefaultUI:!0}),(u||h)&&a.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{a.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[a,u,h,t.gestureHandling,t.keyboardShortcuts]);const m=t.center?W(t.center):null;let p=null,d=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(p=m.lat,d=m.lng);const C=i.useMemo(()=>{var M,L,S,E,y;return{center:{lat:(M=p)!=null?M:0,lng:(L=d)!=null?L:0},zoom:(S=t.zoom)!=null?S:0,heading:(E=t.heading)!=null?E:0,tilt:(y=t.tilt)!=null?y:0}},[p,d,t.zoom,t.heading,t.tilt]);i.useLayoutEffect(()=>{if(!a||!h)return;a.moveCamera(C);const M=a.addListener("bounds_changed",()=>{a.moveCamera(C)});return()=>M.remove()},[a,h,C]);const b=i.useMemo(()=>I({width:"100%",height:"100%",position:"relative",zIndex:u?-1:0},s),[s,u]),v=i.useMemo(()=>({map:a}),[a]);return l===T.AUTH_FAILURE?A.createElement("div",{style:I({position:"relative"},r?{}:b),className:r},A.createElement(Pe,null)):A.createElement("div",I({ref:f,"data-testid":"map",style:r?void 0:b,className:r},n?{id:n}:{}),a?A.createElement(q.Provider,{value:v},e):null)};X.deckGLViewProps=!0;const K=new Set;function _e(...t){const e=JSON.stringify(t);K.has(e)||(K.add(e),console.error(...t))}const Q=(t=null)=>{const e=i.useContext(w),{map:n}=i.useContext(q)||{};if(e===null)return _e("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function Ue(t){const e=$(),n=i.useContext(w);return i.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function G(t,e,n){i.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function B(t,e,n){i.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function z(t,e,n){i.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function je(t){return t.nodeType===Node.ELEMENT_NODE}const He=A.createContext(null),Ke={BOTTOM:["50%","100%"]},ze=({children:t,styles:e,className:n,anchorPoint:r})=>{const[s,o]=r??Ke.BOTTOM;let l=`-${s}`,a=`-${o}`;s.trimStart().startsWith("-")&&(l=s.substring(1)),o.trimStart().startsWith("-")&&(a=o.substring(1));const f=`translate(50%, 100%) translate(${l}, ${a})`;return A.createElement("div",{style:{transform:f}},A.createElement("div",{className:n,style:e},t))};function Ze(t){const[e,n]=i.useState(null),[r,s]=i.useState(null),o=Q(),l=Ue("marker"),{children:a,onClick:f,className:c,onMouseEnter:u,onMouseLeave:h,onDrag:m,onDragStart:p,onDragEnd:d,collisionBehavior:C,clickable:b,draggable:v,position:M,title:L,zIndex:S}=t,E=i.Children.count(a);return i.useEffect(()=>{if(!o||!l)return;const y=new l.AdvancedMarkerElement;y.map=o,n(y);let x=null;return E>0&&(x=document.createElement("div"),x.isCustomMarker=!0,y.content=x,s(x)),()=>{var P;y.map=null,(P=x)==null||P.remove(),n(null),s(null)}},[o,l,E]),i.useEffect(()=>{!e||!e.content||E>0||(e.content.className=c||"")},[e,c,E]),B(e,"position",M),B(e,"title",L??""),B(e,"zIndex",S),B(e,"collisionBehavior",C),i.useEffect(()=>{e&&(v!==void 0?e.gmpDraggable=v:m||p||d?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,v,m,d,p]),i.useEffect(()=>{if(!e)return;const y=b!==void 0||!!f||!!u||!!h;e.gmpClickable=y,y&&e!=null&&e.content&&je(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,b,f,u,h]),G(e,"click",f),G(e,"drag",m),G(e,"dragstart",p),G(e,"dragend",d),z(e==null?void 0:e.element,"mouseenter",u),z(e==null?void 0:e.element,"mouseleave",h),[e,r]}const Ve=i.forwardRef((t,e)=>{const{children:n,style:r,className:s,anchorPoint:o}=t,[l,a]=Ze(t),f=i.useMemo(()=>l?{marker:l}:null,[l]);return i.useImperativeHandle(e,()=>l,[l]),a?A.createElement(He.Provider,{value:f},ie.createPortal(A.createElement(ze,{anchorPoint:o,styles:r,className:s},n),a)):null}),Ye=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Je(t){const[e,n]=i.useState(null),r=Q(),{onClick:s,onDrag:o,onDragStart:l,onDragEnd:a,onMouseOver:f,onMouseOut:c}=t,u=D(t,Ye),{position:h,draggable:m}=u;return i.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const p=new google.maps.Marker(u);return p.setMap(r),n(p),()=>{p.setMap(null),n(null)}},[r]),i.useEffect(()=>{if(!e)return;const p=e,d=google.maps.event;return s&&d.addListener(p,"click",s),o&&d.addListener(p,"drag",o),l&&d.addListener(p,"dragstart",l),a&&d.addListener(p,"dragend",a),f&&d.addListener(p,"mouseover",f),c&&d.addListener(p,"mouseout",c),e.setDraggable(!!m),()=>{d.clearInstanceListeners(p)}},[e,m,s,o,l,a,f,c]),i.useEffect(()=>{e&&u&&e.setOptions(u)},[e,u]),i.useEffect(()=>{m||!h||!e||e.setPosition(h)},[m,h,e]),e}i.forwardRef((t,e)=>{const n=Je(t);return i.useImperativeHandle(e,()=>n,[n]),A.createElement(A.Fragment,null)});function tt({formik:t}){const[e,n]=i.useState(!1),[r,s]=i.useState(null),[o,l]=i.useState(null),[a,f]=i.useState(!1),[c,u]=i.useState(!1),h="AIzaSyDIBfIEiwZqaEBV1N2DbCogGhHLfsyhR6c",m={lat:40.7128,lng:-74.006},p=()=>new Promise(M=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(L=>{const S={lat:L.coords.latitude,lng:L.coords.longitude};s(S),l(S),M(S)},L=>{console.error("Geolocation error:",L),s(m),l(m),alert("Could not retrieve your location. Using a default location."),M(m)}):(s(m),l(m),alert("Geolocation is not supported by your browser. Using a default location."),M(m))}),d=async(M,L)=>{if(!M||!L)return console.error("Invalid coordinates for geocoding"),"Could not determine address";u(!0);try{const S=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${M},${L}&key=${h}`);if(!S.ok)throw new Error(`Geocoding API request failed: ${S.statusText}`);const E=await S.json();if(E.status==="OK"&&E.results&&E.results.length>0){const y=E.results[0].formatted_address;return console.log("Geocoding result:",y),u(!1),y}else return console.error("Geocoding failed:",E.status,E.error_message),u(!1),`Address not found (${E.status})`}catch(S){return console.error("Error during geocoding fetch:",S),u(!1),"Geocoding request failed"}},C=M=>{M.target.classList.contains("address-input-modal")&&n(!1)},b=i.useCallback(M=>{if(M.latLng){const L={lat:M.latLng.lat(),lng:M.latLng.lng()};console.log("Marker dragged to:",L),s(L)}},[]),v=async()=>{if(r){const M=await d(r.lat,r.lng);t.setFieldValue("address",M),n(!1)}else alert("Please select a location on the map first.")};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("label",{htmlFor:"address",className:"block text-[18px] font-[500] text-[#252C62]",children:"Address"}),g.jsx("input",{className:`${a?"cursor-wait":"cursor-pointer"} border border-[#AEC8E2] rounded-[6px] px-4 py-2 w-full`,type:"text",name:"address",id:"address",placeholder:a?"Loading Map...":"Select Address",value:t.values.address,readOnly:!0,onClick:async()=>{a||c||(f(!0),await p(),f(!1),n(!0))},disabled:a||c}),g.jsx(te,{name:"address",component:"div",className:"text-sm text-red-500"})]}),e&&g.jsx("div",{className:"address-input-modal",onClick:C,children:g.jsxs("div",{className:"address-map-container",children:[g.jsxs("div",{className:"address-map",children:[o&&r&&g.jsx(ve,{apiKey:h,children:g.jsx(X,{mapId:"address-map",defaultCenter:o,defaultZoom:16,gestureHandling:"greedy",children:g.jsx(Ve,{position:r,draggable:!0,onDragEnd:b})})}),!o&&!r&&g.jsx("p",{children:"Loading map..."})]}),g.jsxs("div",{className:"flex items-center justify-end gap-5 mt-4",children:[" ",g.jsx("div",{children:g.jsx("button",{type:"button",className:"px-4 py-2 rounded-[8px] bg-[#4C63BD] text-white cursor-pointer disabled:opacity-50",onClick:v,disabled:!r||c,children:c?"Loading...":"Select Address"})}),g.jsx("div",{children:g.jsx("button",{type:"button",className:"px-4 py-2 rounded-[8px] bg-white border border-[#AEC8E2] cursor-pointer",onClick:()=>{n(!1)},disabled:c,children:"Cancel"})})]})]})})]})}var j,Z;function We(){if(Z)return j;Z=1;var t={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",VG:"VGB",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",HK:"HKG",MO:"MAC",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE",XK:"XKX"};return j=function(n){return t[n]},j}var $e=We();const nt=V($e);function rt({backendImages:t=[],getGalleryImages:e=()=>{}}){const n=i.useRef(null),[r,s]=i.useState(t),[o,l]=i.useState(null);i.useEffect(()=>{r.length>0&&e(r)},[e,r]);const a=c=>{const u=Array.from(c.target.files);u.length>0&&(u.forEach(h=>{const m=new FileReader;m.onloadend=()=>{s(p=>[...p,m.result])},m.readAsDataURL(h)}),c.target.value=null)},f=c=>{const u=r.filter((h,m)=>m!==c);s(u),e(u)};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("label",{htmlFor:"images",className:"block text-[18px] font-[500] text-[#252C62]",children:"Gallery (optional)"}),g.jsx("input",{ref:n,type:"file",name:"images",id:"images",accept:"image/jpeg, image/png, image/svg+xml",multiple:!0,hidden:!0,onChange:a}),(r==null?void 0:r.length)>0?g.jsxs("div",{className:"relative",children:[g.jsx(re,{className:"",spaceBetween:20,slidesPerView:1,onSwiper:c=>l(c),breakpoints:{450:{slidesPerView:2},1200:{slidesPerView:4}},children:r==null?void 0:r.map((c,u)=>g.jsx(oe,{className:"py-1",children:g.jsxs("div",{className:"rounded-[10px] border border-[#AEC8E2] relative",children:[g.jsx("img",{src:c,alt:"image",className:"w-full h-full inline-flex object-cover rounded-[10px]"}),g.jsx("button",{type:"button",className:"absolute top-[5px] right-[5px] rounded-[4px] bg-red-500 w-[24px] h-[24px] text-white inline-flex items-center justify-center cursor-pointer",onClick:()=>f(u),children:"X"})]},u)},u))}),g.jsx("div",{className:"gallery-nav-buttons gallery-prev-btn",children:g.jsx("button",{type:"button",onClick:()=>o==null?void 0:o.slidePrev(),className:"cursor-pointer",children:g.jsx(se,{})})}),g.jsx("div",{className:"gallery-nav-buttons gallery-next-btn",children:g.jsx("button",{type:"button",onClick:()=>o==null?void 0:o.slideNext(),className:"cursor-pointer",children:g.jsx(ae,{})})})]}):"",g.jsx("div",{className:"",children:g.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 border text-black border-[#AEC8E2] bg-[#f1f5f9] rounded-[10px] cursor-pointer",type:"button","aria-label":"Add Images",onClick:()=>{var c;(c=n==null?void 0:n.current)==null||c.click()},children:[g.jsx("span",{children:g.jsx(ne,{size:30})}),g.jsx("span",{children:"Add Images"})]})})]})})}export{tt as A,rt as M,nt as g};
