import{r as l,j as e}from"./index-C_3wEq06.js";import{I as A,H as L}from"./HeadingPlusBackBtn-cAN6Xn4u.js";import{g as F}from"./index-g9251Qm1.js";import{c as S,a as c,F as y,b as w,g as I}from"./index.esm-Cye51kyQ.js";import{V as B}from"./index-CcjvPUdw.js";import{r as q}from"./returnErrorMessage-BWBZa02J.js";import{L as j}from"./LayoutDiv-COgfXmFX.js";import{C as E}from"./CountrySelect-ovk8mbqf.js";import{S as V,C as T,A as R}from"./AddressInput-De1RSObu.js";import{S as v,A as D,c as H}from"./converToBase64-BvR1RsJV.js";import{S as P,I as C}from"./Input-Dn6QjS0u.js";import{C as M}from"./index-CgdhyYc7.js";import{P as O}from"./lab-profile-image-D3gY1w6b.js";import{i as _}from"./default-avatar-HaqfDLKf.js";import{c as $,P as z,i as W,a as G}from"./PhoneInput-Deflz5AM.js";import{M as X}from"./MultSelectBox-BoeYQCD7.js";import"./index-BS9YRR3n.js";function J({setNextPage:i=()=>{}}){const[s,d]=l.useState(""),[m,x]=l.useState(""),[u,a]=l.useState(""),[r,p]=l.useState("");l.useEffect(()=>{if(s){const n=new Intl.DisplayNames(["en"],{type:"region"});x(n.of(s)),a(F(s))}},[s]);const h={countryCode:"",state:"",city:"",lab:""},t=S().shape({countryCode:c().required("Country is required"),state:c(),city:c(),lab:c().required("Lab is required")}),f=async n=>{try{await new Promise(o=>setTimeout(()=>{o()},1e3)),i(!0)}catch(o){B.error(q(o))}console.log({...n,countryCode:u,country:m})},N=[{label:"Lab 1",value:"lab1"},{label:"Lab 2",value:"lab2"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("p",{className:"p-5 border-b border-[#AEC8E2]",children:"Add Lab Test"}),e.jsx(y,{initialValues:h,validationSchema:t,onSubmit:f,enableReinitialize:!0,children:n=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(E,{formik:n,getCountryCode:d})}),e.jsx("div",{className:"w-full",children:e.jsx(V,{formik:n,countryCode:s,getStateCode:p})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(T,{formik:n,countryCode:s,stateCode:r})}),e.jsx("div",{className:"w-full",children:e.jsx(v,{formik:n,name:"lab",id:"lab",label:"Lab",options:N})})]}),e.jsx("div",{className:"mt-2 ml-auto",children:e.jsx(P,{formik:n,label:"Next"})})]})})]})})}function K(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5 items-center max-[768px]:flex-col max-[768px]:items-start bg-white p-5 rounded-[20px]",children:[e.jsx("div",{className:"flex w-[164px] h-[164px] ",children:e.jsx("img",{src:O,alt:"profile image",className:"inline-flex w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Dr. Essa Lab"}),e.jsx("p",{children:"Veterinary care"}),e.jsx("p",{className:"mt-2",children:"License# : DR-0001"})]}),e.jsx("div",{className:"flex flex-col",children:e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx("span",{children:e.jsx(M,{})}),e.jsx("span",{children:"5th Street - 1011 W 5th St, Suite 120, Austin, TX 78703"})]})})]})]})})}const Q="/digipet-live/images/booked-lab-tests/lab-branch-1.svg",U="/digipet-live/images/booked-lab-tests/lab-branch-2.svg",Y="/digipet-live/images/booked-lab-tests/lab-branch-3.svg",b=[{_id:1,branchImage:Q,name:"AllCare Family Medicine",address:"3343 Private Lane, Valdosta"},{_id:2,branchImage:U,name:"Vitalplus Clinic",address:"4223 Pleasant Hill Road, Miami, FL 33169"},{_id:3,branchImage:Y,name:"Wellness Path Chiropractic",address:"418 Patton Lane, Garner, NC 27529, FL 33169"}];function Z({setSelectedBranch:i=()=>{},removeSelectedBranch:s=!1,setRemoveSelectedBranch:d=()=>{}}){const[m,x]=l.useState(null);l.useEffect(()=>{s&&(x(null),i(null),d(!1))},[s,d,i]);const u=a=>{x(a),i(b[a])};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Select Branch"}),e.jsx("div",{className:"flex flex-col gap-5 p-5",children:b==null?void 0:b.map((a,r)=>{const p=m===r,h=$("p-5","w-full","rounded-[14px]","border","border-[#B9DCFF]","cursor-pointer","inline-flex","items-center","gap-3","transition-colors","duration-150","ease-in-out","max-[500px]:flex-col","max-[500px]:items-start",{"bg-blue-100":p,"bg-white hover:bg-gray-50":!p});return e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>u(r),className:h,children:[e.jsx("span",{className:"w-[65px] h-[65px] inline-flex",children:e.jsx("img",{src:(a==null?void 0:a.branchImage)||_,alt:"lab branch image",className:"w-full h-full rounded-full inline-flex object-cover"})}),e.jsxs("span",{className:"inline-flex flex-col gap-1 text-left",children:[e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.name}),e.jsx("span",{children:a==null?void 0:a.address})]})]})},r)})})]})})}function k({initValues:i={},validations:s={},onSubmit:d=()=>{},setAttachment:m=()=>{},setRemoveSelectedBranch:x=()=>{}}){const u=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"}],a=["Test1","Test2","Test3"],r=[{label:"Lab visit",value:"labVisit"},{label:"Home visit",value:"homeVisit"}],[p,h]=l.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col rounded-[20px] bg-white",children:[e.jsx("p",{className:"p-5 border-b border-b-[#AEC8E2] font-[500] text-[20px]",children:"Information"}),e.jsx("div",{className:"",children:e.jsx(y,{initialValues:i,validationSchema:s,onSubmit:d,enableReinitialize:!0,children:t=>e.jsxs(w,{className:"flex flex-col gap-3 p-5",children:[e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(C,{formik:t,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(z,{name:"phone",id:"phone",label:"Phone",country:""})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(C,{name:"email",id:"email",label:"Email (optional)",formik:t})}),e.jsx("div",{className:"w-full",children:e.jsx(R,{formik:t,label:"Address (optional)"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(v,{formik:t,name:"petSpecie",id:"petSpecie",label:"Pet Specie",options:u})}),e.jsx("div",{className:"w-full",children:e.jsx(X,{formik:t,name:"testName",id:"testName",label:"Test Name",options:a})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(v,{formik:t,name:"sampleCollection",id:"sampleCollection",label:"Sample Collection",options:r})}),e.jsx("div",{className:"w-full"})]}),e.jsx("div",{className:"",children:e.jsx(D,{formik:t,name:"attachment",id:"attachment",label:"Attachment (optional)",getAttachment:m,removePreview:p,setRemovePreview:h})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-2",children:[e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"cursor-pointer bg-gray-300 hover:bg-gray-200 transition-colors rounded-[6px] px-4 py-2",onClick:()=>{x(!0),h(!0),t.resetForm()},children:"Cancel"})}),e.jsx("div",{className:"",children:e.jsx(P,{formik:t})})]})]})})})]})})}function ee({setNextPage:i=()=>{}}){const[s,d]=l.useState(""),[m,x]=l.useState(""),[u,a]=l.useState(""),[r,p]=l.useState(""),[h,t]=l.useState(!1);l.useEffect(()=>{s&&(a(s==null?void 0:s.name),p(s==null?void 0:s.address))},[s]);const f={fullName:"",phone:"",email:"",address:"",petSpecie:"",testName:[],sampleCollection:""},N=S().shape({fullName:c().required("Full Name is required"),phone:c().test("is-possible-phone","Please enter valid phone number",o=>W(o)).test("is-valid-phone","Please enter valid phone number",o=>G(o)).required("Phone Number is required"),email:c().email(),address:c(),petSpecie:c().required("Required"),testName:I().min(1,"At least one test is required").required("Test Name is required"),sampleCollection:c().required("Required")}),n=async o=>{let g=null;m?(g=await H(m),console.log({...o,labBranchName:u,labBranchAddress:r,attachment:g})):console.log({...o,labBranchName:u,labBranchAddress:r})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex",children:e.jsxs("button",{className:"inline-flex items-center gap-1 cursor-pointer",type:"button",onClick:()=>{i(!1)},children:[e.jsx("span",{children:e.jsx(A,{})}),e.jsx("span",{children:"Cancel"})]})}),e.jsx("div",{className:"",children:e.jsx(K,{})}),e.jsx("div",{className:"",children:e.jsx(Z,{removeSelectedBranch:h,setRemoveSelectedBranch:t,setSelectedBranch:d})}),s?e.jsx("div",{className:"",children:e.jsx(k,{initValues:f,validations:N,onSubmit:n,setAttachment:x,setRemoveSelectedBranch:t})}):""]})})}function fe(){const[i,s]=l.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(L,{label:"Add Lab Test"})}),e.jsx("div",{className:"",children:i?e.jsx(ee,{setNextPage:s}):e.jsx(J,{setNextPage:s})})]})})}export{fe as default};
