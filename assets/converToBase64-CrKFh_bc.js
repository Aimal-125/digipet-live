import{j as e,r as h}from"./index-mZ5Nc0ii.js";import{E as m}from"./index.esm-lM2Qzs3t.js";import{f as F,g as b,h as y}from"./index-JIQGyZM-.js";function R({formik:l,name:t="",id:r="",label:n="",options:i=[]}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:r,className:"block text-[18px] font-[500] text-[#252C62]",children:n}),e.jsxs("select",{className:"border border-[#AEC8E2] rounded-[6px] px-4 py-2 w-full",name:t,id:r,value:l==null?void 0:l.values[t],onChange:a=>{l.handleChange(a)},children:[e.jsx("option",{value:"",disabled:!0,children:"Select"}),i==null?void 0:i.map((a,f)=>e.jsx("option",{value:a==null?void 0:a.value,children:a==null?void 0:a.label},f))]})]}),e.jsx(m,{name:t,component:"div",className:"text-sm text-red-500"})]})})}function C({formik:l,name:t="",id:r="",label:n="",getAttachment:i=()=>{},removePreview:a=!1,setRemovePreview:f=()=>{}}){const d=h.useRef(),[s,j]=h.useState(null),[x,u]=h.useState(null);h.useEffect(()=>{i(s||null)},[i,s]),h.useEffect(()=>{a&&(u(null),j(null),f(!1))},[a,f]);const v=o=>{const c=o.target.files[0];if(x&&URL.revokeObjectURL(x),c)if(j(c),l&&l.setFieldValue&&l.setFieldValue(t,c),c.type.startsWith("image/")){const p=new FileReader;p.addEventListener("loadend",()=>{u(p.result)}),p.readAsDataURL(c)}else if(c.type.startsWith("video/")){const p=URL.createObjectURL(c);u(p)}else u(null);else j(null),u(null),l&&l.setFieldValue&&l.setFieldValue(t,null)},g=()=>{x&&s&&s.type.startsWith("video/")&&URL.revokeObjectURL(x),j(null),u(null),l&&l.setFieldValue&&l.setFieldValue(t,null),d.current&&(d.current.value="")},N=()=>s?s.type.startsWith("image/")?e.jsx("div",{className:"w-[200px] h-[200px]",children:e.jsx("img",{src:x,alt:"Image preview",className:"inline-flex w-full h-full object-cover rounded-[10px]"})}):s.type.startsWith("video/")?e.jsx("div",{className:"w-[200px] h-[200px]",children:e.jsx("video",{controls:!0,src:x,className:"w-full h-full object-cover rounded-[10px] inline-flex",children:"Your browser does not support the video tag."})}):s.type==="application/pdf"?e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(b,{size:24,className:"text-red-600"}),e.jsx("span",{children:s.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",Math.round(s.size/1024)," KB)"]})]}):e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(y,{size:24}),e.jsx("span",{children:s.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",Math.round(s.size/1024)," KB)"]})]}):null;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:r,className:"block text-[18px] font-[500] text-[#252C62]",children:n}),e.jsx("input",{ref:d,type:"file",name:t,id:r,accept:"image/jpeg, image/png, image/svg+xml, video/mp4, application/pdf",hidden:!0,onChange:o=>{v(o)}}),N(),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"",children:e.jsxs("button",{className:"inline-flex items-center justify-center gap-1 cursor-pointer border border-[#AEC8E2] bg-white rounded-[10px] text-[#679ed4] px-4 py-2",type:"button",onClick:()=>{var o;(o=d==null?void 0:d.current)==null||o.click()},children:[e.jsx("span",{children:e.jsx(F,{size:20})}),e.jsx("span",{children:"Upload"})]})}),s?e.jsx("div",{className:"",children:e.jsx("button",{className:"inline-flex items-center justify-center gap-1 cursor-pointer bg-red-500 rounded-[10px] text-white px-4 py-2",type:"button",onClick:g,children:"Remove"})}):""]})]}),e.jsx(m,{name:t,component:"div",className:"text-sm text-red-500"})]})})}const L=l=>new Promise((t,r)=>{if(!l){r(new Error("No file provided."));return}const n=new FileReader;n.onloadend=()=>t(n.result),n.onerror=r,n.readAsDataURL(l)});export{C as A,R as S,L as c};
