import{r as o,j as t,E as v}from"./index--oTFs3gJ.js";function f({formik:s,name:a="",id:d="",label:i="",options:p=[]}){const[x,c]=o.useState(!1),r=o.useRef(null),n=Array.isArray(s==null?void 0:s.values[a])?s.values[a]:[],u=p.filter(e=>!n.includes(e)),h=e=>{const l=[...n,e];s.setFieldValue(a,l),c(!1)},g=e=>{const l=n.filter(m=>m!==e);s.setFieldValue(a,l)};return o.useEffect(()=>{const e=l=>{r.current&&!r.current.contains(l.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r]),t.jsxs("div",{className:"flex flex-col gap-3",ref:r,children:[t.jsx("label",{htmlFor:d,className:"block text-[18px] font-[500] text-[#252C62]",children:i}),t.jsxs("div",{className:"relative border border-[#AEC8E2] rounded-[6px] px-4 py-2 w-full flex flex-wrap items-center gap-2 cursor-text",onClick:()=>c(!x),onBlur:()=>s.setFieldTouched(a,!0),tabIndex:0,children:[n.length>0?n.map(e=>t.jsxs("span",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded flex items-center gap-1",children:[e,t.jsx("button",{type:"button",className:"text-gray-600 hover:text-red-500 text-sm",onClick:l=>{l.stopPropagation(),g(e)},children:"×"})]},e)):t.jsxs("span",{className:"text-gray-500",children:["Select ",i]}),t.jsxs("div",{className:"ml-auto",children:[" ","▾ "]}),x&&u.length>0&&t.jsx("div",{className:"absolute top-[100%] left-0 z-10 mt-[1px] w-full bg-white shadow-lg max-h-60 overflow-auto",children:t.jsx("ul",{tabIndex:"-1",role:"listbox","aria-labelledby":d,className:"text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:u.map(e=>t.jsx("li",{className:"relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-indigo-600 hover:text-white",onClick:()=>h(e),role:"option","aria-selected":n.includes(e),children:e},e))})})]}),t.jsx(v,{name:a,component:"div",className:"text-sm text-red-500"})]})}export{f as M};
