import{j as e,T as J,U as W,r,c as C,a as c,F as w,b as D,q as j,W as G,S as T,V as K,h as O}from"./index-CCalecE_.js";/* empty css                           */import{H as Q}from"./HeadingPlusBackBtn-DlfunQXR.js";import{S as A}from"./SelectComponent-BcgiEzMw.js";import{I as X}from"./index-C4kpwAHd.js";import{c as f}from"./index-3aV5NVat.js";import{I as N}from"./Input-DrCs49le.js";import{P as Y}from"./PhoneInput-C-u6YszH.js";import{i as Z,a as _}from"./index-Bwbnr2s7.js";import{A as k,c as F}from"./converToBase64-B50qpzus.js";import{A as ee}from"./AddressInput-DXS-1h_W.js";import{C as te}from"./CountrySearchInput-CuY30miT.js";import{S as le,C as ne}from"./CitySearchInput-DWtUciQB.js";import{S as se}from"./SearchInput-BQU9S1N-.js";import"./BackButton-C1VxADwV.js";/* empty css                     */import"./index.modern-DAvVCBMf.js";import"./index-C_tz7SfQ.js";import"./index-DcLfSPDD.js";const ae="/digipet-live/images/doctors-categories/doctor-1.svg";function ie(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-5 max-[768px]:flex-col max-[768px]:items-start",children:[e.jsx("div",{className:"flex w-[164px] h-[164px] ",children:e.jsx("img",{src:ae,alt:"profile image",className:"inline-flex w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:"Doctor Name"}),e.jsx("p",{children:"BDS, MDS - oral"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"flex gap-1",children:[e.jsx("span",{children:"Experience:"}),e.jsx("span",{children:"10 years +"})]}),e.jsxs("p",{className:"flex gap-1",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{children:"-----"})]})]})]})]})})}function ce({formik:n,setClinicsLoading:a=()=>{},setAppointmentDate:o=()=>{}}){const m=async d=>{if(n.setFieldValue("clinic",""),n.setFieldValue("appointmentDate",""),o(""),n.setFieldValue("appointmentTime",""),n.resetForm(),n.setFieldValue("appointmentType",d),n.setFieldTouched("appointmentType",!0,!1),d!=="clinic"&&(n.setFieldValue("clinic",""),n.setFieldValue("appointmentDate",""),o(""),n.setFieldValue("appointmentTime","")),d==="clinic")try{a(!0),await new Promise(x=>setTimeout(x,1e3))}catch(x){console.log(x)}finally{a(!1)}else a(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-[600px]:flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsxs("button",{type:"button",className:`${n.values.appointmentType==="clinic"?"bg-[#252C62] text-white":""} max-[600px]:w-full cursor-pointer rounded-[6px] px-4 py-2 border border-[#252C62] text-[#252C62] inline-flex flex-col items-center justify-center gap-1`,onClick:()=>m("clinic"),children:[e.jsx("span",{children:e.jsx(J,{})}),e.jsx("span",{children:"Clinic"})]})}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:`${n.values.appointmentType==="videoConsultation"?"bg-[#252C62] text-white":""} max-[600px]:w-full cursor-pointer rounded-[6px] px-4 py-2 border border-[#252C62] text-[#252C62] inline-flex flex-col items-center justify-center gap-1`,onClick:()=>m("videoConsultation"),children:[e.jsx("span",{children:e.jsx(W,{})}),e.jsx("span",{children:"Video Consultation"})]})})]})})}function V({formik:n,getAppointmentDate:a=()=>{}}){const o=r.useMemo(()=>{const l=new Date,s=[],i=new Intl.DateTimeFormat("en-US",{month:"long"});for(let h=0;h<7;h++){const u=new Date(l);u.setDate(l.getDate()+h),s.push({date:u.getDate().toString(),month:i.format(u),fullDate:u.toISOString().split("T")[0]})}return s},[]),[m,d]=r.useState(null);r.useEffect(()=>{const l=n.values.appointmentDate;if(l){const s=o.findIndex(i=>i.fullDate===l);d(s!==-1?s:null)}else d(null)},[n.values.appointmentDate,o]);const x=(l,s)=>{d(s),a(l.fullDate),n.setFieldValue("appointmentDate",l.fullDate)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-[#252C62] text-[18px] font-[600]",children:"Select Date"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:o.map((l,s)=>{const i=m===s;return e.jsxs("button",{type:"button",className:`${i?"bg-[#252C62] text-white":"text-[#252C62]"} border border-[#252C62] px-4 py-2 inline-flex flex-col gap-1 justify-center items-center rounded-[10px] cursor-pointer`,onClick:()=>x(l,s),children:[e.jsx("span",{children:l.date}),e.jsx("span",{children:l.month})]},l.fullDate)})})]})})}function P({formik:n,shiftsData:a={}}){var m,d,x;const o=(l,s)=>{n.setFieldValue("appointmentTime",`${l}${s}`)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5 overflow-auto",children:[e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start gap-5 items-center",children:[e.jsx("p",{children:"Morning Slot"}),e.jsx("div",{className:"flex flex-wrap items-center gap-5",children:(m=a==null?void 0:a.morningShift)==null?void 0:m.map((l,s)=>{const i=n.values.appointmentTime===`${l}AM`;return e.jsx("button",{type:"button",className:f("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":i,"border-gray-300 hover:bg-gray-100":!i},{"opacity-50 cursor-not-allowed":!l}),onClick:()=>l&&o(l,"AM"),disabled:!l,children:l||"-:--"},s)})})]}),e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start flex-wrap gap-5 items-center",children:[" ",e.jsx("p",{children:"Afternoon Slots"}),e.jsx("div",{className:"flex items-center gap-5",children:(d=a==null?void 0:a.afternoonShift)==null?void 0:d.map((l,s)=>{const i=n.values.appointmentTime===`${l}PM`;return e.jsx("button",{type:"button",className:f("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":i,"border-gray-300 hover:bg-gray-100":!i},{"opacity-50 cursor-not-allowed":!l}),onClick:()=>l&&o(l,"PM"),disabled:!l,children:l||"-:--"},s)})})]}),e.jsxs("div",{className:"flex max-[600px]:flex-col max-[600px]:items-start flex-wrap gap-5 items-center",children:[" ",e.jsx("p",{children:"Evening Slots"}),e.jsx("div",{className:"flex items-center gap-5",children:(x=a==null?void 0:a.eveningShift)==null?void 0:x.map((l,s)=>{const i=n.values.appointmentTime===`${l}PM`;return e.jsx("button",{type:"button",className:f("border cursor-pointer px-4 py-1 rounded",{"border-blue-500 bg-blue-100":i,"border-gray-300 hover:bg-gray-100":!i},{"opacity-50 cursor-not-allowed":!l}),onClick:()=>l&&o(l,"PM"),disabled:!l,children:l||"-:--"},s)})})]})]})})}function Fe(){const[n,a]=r.useState(""),[o,m]=r.useState(""),[d,x]=r.useState(""),[l,s]=r.useState(!1),[i,h]=r.useState(!1),[u,b]=r.useState(""),[v,y]=r.useState(!1),[S,I]=r.useState({}),[g,E]=r.useState(null);r.useEffect(()=>{(async()=>{if(u){y(!0);try{await new Promise(p=>setTimeout(()=>{p()},1e3)),I({morningShift:["9:00","10:00",""],afternoonShift:["1:00","2:00",""],eveningShift:["6:00","","7:00"]})}catch(p){console.log(p)}finally{y(!1)}}})()},[u]),r.useEffect(()=>{if(n){const t=new Intl.DisplayNames(["en"],{type:"region"});m(t.of(n))}},[n]);const M={country:"",state:"",city:"",doctor:""},q=C().shape({country:c().required("Country is required"),state:c(),city:c(),doctor:c().required("Required")}),R=async t=>{try{await new Promise(p=>setTimeout(()=>{p()},1e3)),s(!0)}catch(p){K.error(O(p))}console.log({...t,country:o})},$=[{label:"Clinic 1",value:"clinic1"}],B=[{label:"Cat",value:"cat"},{label:"Dog",value:"dog"}],L={appointmentType:"",clinic:"",appointmentDate:"",appointmentTime:"",fullName:"",phone:"",email:"",petSpecie:"",symptoms:"",address:"",visitReason:""},H=C().shape({appointmentType:c(),clinic:c(),appointmentDate:c(),appointmentTime:c(),fullName:c().required("Full Name is required"),phone:c().test("is-possible-phone","Please enter valid phone number",t=>Z(t)).test("is-valid-phone","Please enter valid phone number",t=>_(t)).required("Phone Number is required"),email:c().email(),petSpecie:c().required("Required"),symptoms:c(),address:c(),visitReason:c()}),z=async t=>{let p=null;if((t==null?void 0:t.appointmentType)==="clinic")g?(p=await F(g),console.log({...t,attachment:p})):console.log(t);else{const{clinic:oe,...re}=t;g?(p=await F(g),console.log({...t,attachment:p})):console.log(t)}},U=[{id:1,name:"Dr. Alice Smith"},{id:2,name:"Dr. Bob Johnson"},{id:3,name:"Dr. Charlie Brown"},{id:4,name:"Dr. Diana Prince"},{id:5,name:"Dr. Ethan Hunt"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(Q,{label:"Add Appointment"})}),l?e.jsxs("div",{className:"flex flex-col gap-5 rounded-[20px]",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex",children:e.jsxs("button",{className:"inline-flex items-center gap-1 cursor-pointer",type:"button",onClick:()=>{s(!1)},children:[e.jsx("span",{children:e.jsx(X,{})}),e.jsx("span",{children:"Cancel"})]})})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex flex-col gap-3 rounded-[20px] bg-white p-5",children:e.jsx(ie,{})}),e.jsx("div",{className:"flex flex-col gap-3 rounded-[20px]",children:e.jsx("div",{className:"",children:e.jsx(w,{initialValues:L,validationSchema:H,onSubmit:z,enableReinitialize:!0,children:t=>e.jsxs(D,{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"bg-white rounded-[20px] p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"text-[20px] border-b border-b-[#AEC8E2] pb-2",children:"Appointment Info"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-[18px] font-[600] mb-3",children:"Select Appointment Type"}),e.jsx(ce,{formik:t,setClinicsLoading:h,setAppointmentDate:b})]}),t.values.appointmentType==="clinic"?e.jsx("div",{className:"",children:i?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(A,{formik:t,name:"clinic",id:"clinic",label:"Clinic",options:$}),t.values.clinic&&e.jsx("div",{className:"",children:e.jsx(V,{formik:t,getAppointmentDate:b})}),u?e.jsx("div",{className:"",children:v?e.jsx("div",{children:"Loading..."}):e.jsx("div",{className:"",children:e.jsx(P,{formik:t,shiftsData:S})})}):""]})}):""]}),t.values.appointmentType==="videoConsultation"?e.jsxs("div",{className:"p-5 bg-white rounded-[20px] flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(V,{formik:t,getAppointmentDate:b})}),u?e.jsx("div",{className:"",children:v?e.jsx("div",{children:"Loading..."}):e.jsx("div",{className:"",children:e.jsx(P,{formik:t,shiftsData:S})})}):""]}):"",t.values.appointmentTime&&e.jsx("div",{className:"rounded-[20px] p-5 bg-white",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"text-[20px] border-b border-b-[#AEC8E2] pb-2",children:"Information"}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{formik:t,name:"fullName",id:"fullName",label:"Full Name"})}),e.jsx("div",{className:"w-full",children:e.jsx(Y,{name:"phone",id:"phone",label:"Phone"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{name:"email",id:"email",label:"Email (optional)",formik:t})}),e.jsx("div",{className:"w-full",children:e.jsx(A,{formik:t,name:"petSpecie",id:"petSpecie",label:"Pet Specie",options:B})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(N,{name:"symptoms",id:"symptoms",label:"Symptoms (optional)",formik:t})}),e.jsx("div",{className:"w-full",children:e.jsx(ee,{formik:t,label:"Address (optional)"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(G,{formik:t,name:"visitReason",id:"visitReason",label:"Reason For Visit (optional)"})}),e.jsx("div",{className:"w-full",children:e.jsx(k,{formik:t,name:"attachment",id:"attachment",label:"Attachment (optional)",getAttachment:E})}),e.jsxs("div",{className:"mt-2 flex items-center gap-5",children:[e.jsx(T,{formik:t}),e.jsx("div",{className:"",children:e.jsx("button",{type:"button",className:"rounded-[6px] bg-gray-200 hover:bg-gray-300 transition-colors cursor-pointer px-4 py-2",onClick:()=>{t.setFieldValue("appointmentType",""),t.setFieldValue("clinic",""),t.setFieldValue("appointmentDate",""),b(""),t.setFieldValue("appointmentTime",""),t.resetForm()},children:"Cancel"})})]})]})})]})})})})]})]}):e.jsxs("div",{className:"bg-white rounded-[20px] p-5 flex flex-col gap-5",children:[e.jsx("p",{className:"text-[#252C62] text-[20px] border-b border-b-[#AEC8E2] pb-2",children:"Doctor Selection"}),e.jsx("div",{className:"",children:e.jsx(w,{initialValues:M,validationSchema:q,onSubmit:R,enableReinitialize:!0,children:t=>e.jsxs(D,{className:"flex flex-col gap-3",children:[e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(te,{formik:t,name:"country",id:"country",label:"Country",getCountryCode:a})}),e.jsx("div",{className:"w-full",children:e.jsx(le,{formik:t,name:"state",id:"state",label:"State/Province",countryName:o,getStateName:x})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"w-full",children:e.jsx(ne,{formik:t,name:"city",id:"city",label:"City",countryName:o,stateName:d})}),e.jsx("div",{className:"w-full",children:e.jsx(se,{formik:t,name:"doctor",id:"doctor",label:"Doctor",data:U,placeHolder:"Search Doctor..."})})]}),e.jsx("div",{className:"mt-2 ml-auto",children:e.jsx(T,{formik:t,label:"Next"})})]})})})]})]})})}export{Fe as default};
