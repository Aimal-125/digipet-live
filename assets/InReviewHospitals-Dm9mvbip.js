import{r as n,u as $,z as b,X as V,k as C,V as M,h as q,j as e,I as z,Z as B,J as F,A as K}from"./index-MSo7KKZK.js";import{n as J}from"./nameWithImage-BBnov2Uo.js";import{I as O,a as Q}from"./IsError-HaUby00B.js";import{N as T}from"./NoData-BL4tCc14.js";import{R as W}from"./ResponsiveTable-C3HdMedD.js";import{V as X}from"./view-icon-DsPpK1Wz.js";import{E as Z}from"./edit-icon-CSd65PgS.js";import{D as G}from"./delete-icon-FU5lMFq3.js";/* empty css                */import"./index-C8bEB6O7.js";import"./Status-DnxBEsO-.js";import"./index-DG2D3s3o.js";function ds(){var f,x;const[l,w]=n.useState(1),[y,A]=n.useState(1),[c,d]=n.useState(""),m=10,p=$(),u=b(),[E,S]=n.useState(0),{docDeleted:g}=V(a=>a==null?void 0:a.deleteModal),H=["fetch-all-hospitals-in-review",{currentPage:l,limit:m,keyword:c,docDeleted:g}],{isLoading:_,data:o,isError:k,error:h}=C({queryKey:H,queryFn:()=>K.get(`/clinic?status=In Review&page=${l}&pageSize=${m}&keyword=${c}`)}),[t,L]=n.useState((x=(f=o==null?void 0:o.data)==null?void 0:f.data)==null?void 0:x.docs);n.useEffect(()=>{if(o){const{data:{data:{docs:a}}}=o,{data:{data:{pages:s}}}=o;L(a),A(s),S(a==null?void 0:a.length)}g&&d(""),h&&M.error(q(h))},[o,h,g,c]);const P=(a,s,i)=>{if(a.stopPropagation(),i==="view"&&p(`/all-hospitals/details/${s==null?void 0:s._id}`),i==="edit"&&p(`/all-hospitals/edit/${s==null?void 0:s._id}`),i==="delete"){const r="/clinic";u(z(!0)),u(B(r)),u(F(s==null?void 0:s._id))}},R=Array.from({length:E},(a,s)=>{var i,r,j,I,D,N,v;return{_id:(i=t[s])==null?void 0:i._id,id:((r=t[s])==null?void 0:r.longAutoIncrementId)||((j=t[s])==null?void 0:j.autoIncrementId)||"N/A",hospitalName:J((I=t[s])==null?void 0:I.image,(D=t[s])==null?void 0:D.title),location:((N=t[s])==null?void 0:N.address)||"N/A",status:(v=t[s])==null?void 0:v.status}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"All Hospitals"}),e.jsx("div",{children:e.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",onClick:()=>{p("/all-hospitals/add")},children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"Add New"})]})})]}),_?e.jsx(O,{}):k?e.jsx(Q,{}):!t||(t==null?void 0:t.length)===0?e.jsx(T,{setKeyword:d}):e.jsx("div",{className:"",children:e.jsx(W,{data:R,mainHeading:"All Hospitals",searchBar:!0,headings:["ID #","Hospital Name","Location","Status","Action"],cells:["id","hospitalName","location"],status:!0,actions:!0,actionTypes:[{action:"view",icon:X},{action:"edit",icon:Z},{action:"delete",icon:G}],actionHandler:P,currentPage:l,setCurrentPage:w,setKeyword:d,pages:y})})]})})}export{ds as default};
