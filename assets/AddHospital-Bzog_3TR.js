import{r as t,j as e}from"./index-mZ5Nc0ii.js";import{c as N,a as i,e as I,F as b,b as v}from"./index.esm-lM2Qzs3t.js";import{S as w}from"./SingleImageUpload-Ba5zmayC.js";import{I as q,S as A}from"./Input-B9drW84k.js";import{V as F}from"./index-BgoVvtdp.js";import{r as E}from"./returnErrorMessage-BWBZa02J.js";import{S as B,C as H,A as z}from"./AddressInput-DzA1HS0G.js";import{C as M}from"./CountrySelect-CNbs0qIf.js";import{g as V}from"./index-DCM5K55J.js";import{L as m}from"./LayoutDiv-BvxAz-D5.js";import{M as D}from"./MultiImagesSelect-DNFkIPJZ.js";import{H as O}from"./HeadingPlusBackBtn-ufxFn-gK.js";import"./no-image-icon-CabPHXKl.js";import"./index-CU5T5dQk.js";import"./swiper-CPhabhcQ.js";function k(){const[l,u]=t.useState(""),[a,g]=t.useState(""),[n,p]=t.useState(""),[c,x]=t.useState(""),[f,j]=t.useState(""),[r,y]=t.useState("");t.useEffect(()=>{if(a){const s=new Intl.DisplayNames(["en"],{type:"region"});p(s.of(a)),x(V(a))}},[a]);const S={image:null,title:"",countryCode:"",state:"",city:"",address:""},C=N().shape({image:I().nullable().test("fileSize","Image size must be less than 4MB",s=>s===null||s instanceof File&&s.size<=4*1024*1024).test("fileFormat","Accepted formats are jpg, png, svg",s=>s===null||s instanceof File&&["image/jpeg","image/png","image/svg+xml"].includes(s.type)).required("Image is required"),title:i().required("Title is required"),countryCode:i().required("Country is required"),state:i(),city:i(),address:i().required("Address is required")}),h=async(s,{setSubmitting:d})=>{d(!0);try{await new Promise(o=>setTimeout(()=>{o()},1e3))}catch(o){F.error(E(o))}finally{d(!1),r&&(r==null?void 0:r.length)>0?console.log({...s,image:l,country:n,countryCode:c,galleryDataURIs:r}):console.log({...s,image:l,country:n,countryCode:c})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"",children:e.jsx(O,{label:"Add New Hospital"})}),e.jsx("div",{className:"border border-[#AEC8E2] p-5 rounded-[20px] bg-white",children:e.jsx(b,{initialValues:S,validationSchema:C,onSubmit:h,enableReinitialize:!0,children:s=>e.jsxs(v,{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"",children:e.jsx(w,{formik:s,base64Image:l,setBase64Image:u})}),e.jsx("div",{className:"",children:e.jsx(q,{formik:s,name:"title",id:"title",label:"Title"})}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(M,{formik:s,getCountryCode:g})}),e.jsx("div",{className:"w-full",children:e.jsx(B,{formik:s,countryCode:a,getStateCode:j})})]}),e.jsxs(m,{children:[e.jsx("div",{className:"w-full",children:e.jsx(H,{formik:s,countryCode:a,stateCode:f})}),e.jsx("div",{className:"w-full",children:e.jsx(z,{formik:s})})]}),e.jsx("div",{className:"",children:e.jsx(D,{getGalleryImages:y})}),e.jsx("div",{className:"mt-2",children:e.jsx(A,{formik:s})})]})})})]})})}export{k as default};
