import{r,u as R,z as Y,k as H,V as U,h as $,j as a,B as q,M as z,C as y,D as I,A as O}from"./index-CtF5NqjV.js";import{D as T}from"./DashboardContainer1-BEmf-oFx.js";import{R as J}from"./ResponsiveTable-BVHihXma.js";import{P as K,D as Q,A as W,a as G}from"./admin-profit-icon-YhiRSQEj.js";import{V as X}from"./view-icon-DsPpK1Wz.js";import{E as Z}from"./edit-icon-CSd65PgS.js";import{I as aa,a as ta,N as ea}from"./NoData-CRNyNY9D.js";import{h as oa}from"./moment-C5S46NFB.js";import{f as sa}from"./index-CTnICA7r.js";import"./Status-CFvwze7x.js";import"./index-CP8FX3G0.js";/* empty css                */import"./index-R1RIAz4U.js";import"./index-BygXZwzy.js";function ja(){const[e,v]=r.useState([]),[c,b]=r.useState(1),[P,w]=r.useState(1),d=10,[k,E]=r.useState(0),V=R(),n=Y(),B=["fetch-doctors-declined",{currentPage:c,limit:d}],{isLoading:C,data:i,isError:L,error:l}=H({queryKey:B,queryFn:()=>O.get(`/doctor/?page=${c}&pageSize=${d}&status=Declined`)});r.useEffect(()=>{if(i){const{data:{data:{docs:o}}}=i,{data:{data:{pages:t}}}=i;v(o),w(t),E(o==null?void 0:o.length)}l&&U.error($(l))},[i,l]);const M=Array.from({length:k},(o,t)=>{var s,p,u,m,h,g,f,D,x,j,N,A;return{_id:(s=e[t])==null?void 0:s._id,id:((p=e[t])==null?void 0:p.longAutoIncrementId)||((u=e[t])==null?void 0:u.autoIncrementId)||"N/A",doctorName:((m=e[t])==null?void 0:m.fullName)||a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{children:(h=e[t])==null?void 0:h.firstName}),a.jsx("span",{children:(g=e[t])==null?void 0:g.lastName})]})||((D=(f=e[t])==null?void 0:f.user)==null?void 0:D.username)||"N/A",email:((x=e[t])==null?void 0:x.email)||"N/A",phone:sa((j=e[t])==null?void 0:j.phone)||"N/A",joinedDate:a.jsx("span",{children:oa(((N=e[t])==null?void 0:N.createdAt)||"2025-01-01").format("DD/MM/YYYY")}),status:((A=e[t])==null?void 0:A.status)||"N/A"}}),S=[{label:"All Doctors",totalValue:40689,icon:K,status:"Up",value:8.5,duration:"yesterday"},{label:"In Wait of Verification",totalValue:10293,icon:Q,status:"Up",value:1.3,duration:"past week"},{label:"Verified Doctors",totalValue:89e3,icon:W,status:"Down",value:4.3,duration:"yesterday"},{label:"Doctors Blocked",totalValue:2040,icon:G,status:"Up",value:1.8,duration:"yesterday"}],_=(o,t,s)=>{o.stopPropagation(),s==="view"&&V(`/doctors/declined/profile/${t==null?void 0:t._id}`)},F=(o,t,s)=>{o.stopPropagation(),s==="change-password"&&(n(y(!0)),n(I({type:"change-password",data:{userId:t._id}}))),s==="block"&&(n(y(!0)),n(I({type:"block",data:{userId:t._id}})))};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex max-[360px]:flex-col gap-3 items-center justify-between",children:[a.jsx("h1",{className:"main-heading",children:"Doctors"}),a.jsx("div",{children:a.jsxs("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:[a.jsx("span",{children:"+"}),a.jsx("span",{children:"Add New Doctor"})]})})]}),a.jsx("div",{className:"",children:a.jsx(T,{data:S})}),C?a.jsx(aa,{}):L?a.jsx(ta,{}):(e==null?void 0:e.length)===0?a.jsx(ea,{}):a.jsx("div",{className:"",children:a.jsx(J,{data:M,mainHeading:"All Doctors",searchBar:!0,headings:["ID #","Doctor Name","Email","Phone","Joined Date","Status","Action"],cells:["id","doctorName","email","phone","joinedDate"],status:!0,actions:!0,actionTypes:[{action:"view",icon:X},{action:"edit",icon:Z}],actionHandler:_,currentPage:c,setCurrentPage:b,pages:P,navigation:!0,navigationLink:"/doctors/declined/profile",headingNameForNavigationOnMobile:"Doctor Name",moreActionsButton:!0,moreActionsTypes:[{label:"Change Password",action:"change-password",icon:a.jsx(q,{})},{label:"Block",action:"block",icon:a.jsx(z,{})}],moreActionsHandler:F})})]})})}export{ja as default};
