import{H as y,k as N,r as o,V as x,h,j as e,m as u,A as j,g as F}from"./index-BpncqqTg.js";import{h as E,T as R}from"./hasRequiredRole-ChZKFJIS.js";import{N as w}from"./NoData-C9P7-d5K.js";import{h as v}from"./moment-C5S46NFB.js";import{f as P}from"./index-B8h8kOrn.js";import"./Status-KfFp0PAM.js";import"./index-BddCgcU_.js";import"./index-CgivaiP7.js";function I(){const{id:t}=y(),r=["fetch-declined-doc-documents",{id:t}],{data:n,error:d}=N({queryKey:r,queryFn:()=>j.get(`/know-your-customer/?doctorObjectId=${t}`)}),[l,i]=o.useState([]);return o.useEffect(()=>{var s,c;n&&i((c=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:c.docs),d&&x.error(h(d))},[n,d]),e.jsx(e.Fragment,{children:(l==null?void 0:l.length)===0?e.jsx(w,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,c)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Document"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Front"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${u}/${s==null?void 0:s.idFront}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${u}/${s==null?void 0:s.idFront}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"ID Back"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${u}/${s==null?void 0:s.idBack}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${u}/${s==null?void 0:s.idBack}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4",children:[e.jsx("p",{children:"RVMP Proof"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${u}/${s==null?void 0:s.rvmp}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${u}/${s==null?void 0:s.rvmp}`,alt:"education logo",className:"inline-flex w-full h-full object-cover rounded-[10px]"})})})]})]})]},c))})})}function M(){const{id:t}=y(),r=["fetch-in-review-doc-education",{id:t}],{data:n,error:d}=N({queryKey:r,queryFn:()=>j.get(`/degree?doctorObjectId=${t}`)}),[l,i]=o.useState([]);return o.useEffect(()=>{var s,c;n&&i((c=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:c.docs),d&&x.error(h(d))},[n,d]),e.jsx(e.Fragment,{children:(l==null?void 0:l.length)===0?e.jsx(w,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,c)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Education"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Education Logo"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${u}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${u}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Name Of Institution"}),e.jsx("p",{children:(s==null?void 0:s.institutionTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Degree"}),e.jsx("p",{children:(s==null?void 0:s.degreeTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:v((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:v((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Number Of Years"}),e.jsx("p",{children:(s==null?void 0:s.duration)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Description"}),e.jsx("p",{className:"text-gray-500",children:s==null?void 0:s.description})]})]})]},c))})})}function O(){const{id:t}=y(),r=["fetch-declined-doc-experience",{id:t}],{data:n,error:d}=N({queryKey:r,queryFn:()=>j.get(`/work-experience?doctorObjectId=${t}`)}),[l,i]=o.useState([]);return o.useEffect(()=>{var s,c;n&&i((c=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:c.docs),d&&x.error(h(d))},[n,d]),e.jsx(e.Fragment,{children:(l==null?void 0:l.length)===0?e.jsx(w,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,c)=>e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Experience"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Image"}),e.jsx("div",{className:"w-[100px] h-[100px] rounded-[10px] bg-[#f1f5f9]",children:e.jsx("a",{href:`${u}/${s==null?void 0:s.image}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${u}/${s==null?void 0:s.image}`,alt:"education logo",className:"inline-flex w-full h-full object-cover"})})})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Title"}),e.jsx("p",{children:(s==null?void 0:s.jobTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Organization"}),e.jsx("p",{children:(s==null?void 0:s.organizationTitle)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsxs("p",{children:[(s==null?void 0:s.experience)>1?"Years":"Year"," of Experience"]}),e.jsx("p",{children:(s==null?void 0:s.yearsOfExperience)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Address"}),e.jsx("p",{children:(s==null?void 0:s.organizationAddress)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Employment Type"}),e.jsx("p",{children:(s==null?void 0:s.employmentType)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Start Date"}),e.jsx("p",{children:v((s==null?void 0:s.startDate)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"End Date"}),e.jsx("p",{children:v((s==null?void 0:s.end)||"2025-01-01").format("DD/MM/YYYY")})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"Job Description"}),e.jsx("p",{className:"text-gray-500",children:(s==null?void 0:s.description)||(s==null?void 0:s.jobDescription)||"N/A"})]})]})]},c))})})}function K(){const{id:t}=y(),[r,n]=o.useState({}),d=["fetch-declined-doc-about-me",{id:t}],{data:l,error:i}=N({queryKey:d,queryFn:()=>j.get(`/doctor/${t}`)});return o.useEffect(()=>{if(l){const{data:{data:{doc:s}}}=l;n(s)}i&&x.error(h(i))},[l,i]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white p-5 flex flex-col gap-5 rounded-[20px]",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("p",{className:"font-[600] text-[20px]",children:"About me"}),e.jsxs("div",{className:"flex items-center gap-1 justify-between",children:[e.jsx("p",{children:"Designation"}),e.jsx("p",{children:(r==null?void 0:r.designation)||"N/A"})]})]})})})}function _(){const{id:t}=y(),r=["fetch-declined-doc-services",{id:t}],{data:n,error:d}=N({queryKey:r,queryFn:()=>j.get(`/doctor/${t}`)}),[l,i]=o.useState([]);return o.useEffect(()=>{var s,c,b;n&&i((b=(c=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:c.doc)==null?void 0:b.services),d&&x.error(h(d))},[n,d]),e.jsx(e.Fragment,{children:(l==null?void 0:l.length)===0?e.jsx(w,{goBackButton:!1}):e.jsx("div",{className:"rounded-[20px] flex flex-col gap-5",children:l==null?void 0:l.map((s,c)=>{var b,g,p;return e.jsxs("div",{className:"bg-white rounded-[20px]",children:[e.jsx("div",{className:"flex max-[500px]:flex-col max-[500px]:items-start max-[500px]:gap-3 items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:e.jsx("p",{className:"font-[600] text-[20px]",children:"Type & Service"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Speciality"}),e.jsx("p",{children:((g=(b=s==null?void 0:s.service)==null?void 0:b.speciality)==null?void 0:g.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Service"}),e.jsx("p",{children:((p=s==null?void 0:s.service)==null?void 0:p.title)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-between px-5 py-4 border-b border-lightBlue",children:[e.jsx("p",{children:"Price"}),e.jsxs("p",{children:[(s==null?void 0:s.currencyCode)==="USD"?"$":"",(s==null?void 0:s.price)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between px-5 py-4",children:[e.jsx("p",{children:"About"}),e.jsx("p",{className:"text-gray-500",children:(s==null?void 0:s.aboutService)||"N/A"})]})]})]},c)})})})}const S=[{id:1,name:"Profile",requiredRoles:["admin","doctors"]},{id:2,name:"Types & Services",requiredRoles:["admin","doctors"]},{id:3,name:"Education",requiredRoles:["admin","doctors"]},{id:4,name:"Experience",requiredRoles:["admin","doctors"]},{id:5,name:"Documents",requiredRoles:["admin","doctors"]}];function G(){var A,$;const{id:t}=y(),[r,n]=o.useState({}),[d,l]=o.useState(!1),[i,s]=o.useState(!1),c=F(),b=c==null?void 0:c.roles,g=o.useMemo(()=>b,[]),[p,m]=o.useState(1),q=["fetch-declined-doc-profile-data",{id:t}],{data:D,error:B}=N({queryKey:q,queryFn:()=>j.get(`/doctor/${t}`)});o.useEffect(()=>{if(D){const{data:{data:{doc:f}}}=D;n(f)}B&&x.error(h(B))},[D,B]),o.useEffect(()=>{const f=S.find(a=>E(a.requiredRoles,g));f?m(f.id):(x.error("User has no access to any tabs"),m(null))},[g]);const Y={profileName:(r==null?void 0:r.fullName)||((A=r==null?void 0:r.user)==null?void 0:A.username)||e.jsxs("span",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})||"N/A",profession:(r==null?void 0:r.designation)||"N/A",profileImage:($=r==null?void 0:r.user)==null?void 0:$.image,phone:P(r==null?void 0:r.phone)||"N/A",email:(r==null?void 0:r.email)||"N/A",country:(r==null?void 0:r.countryName)||"N/A",state:(r==null?void 0:r.province)||"N/A",city:(r==null?void 0:r.city)||"N/A",status:(r==null?void 0:r.status)||""},T=async()=>{var f;l(!0);try{const{data:a}=await j.patch(`/doctor/approve/${t}`,{status:"Approved",statusChangeReason:"Passed all tests"});a!=null&&a.success&&x.success((a==null?void 0:a.message)||((f=a==null?void 0:a.data)==null?void 0:f.message))}catch(a){x.error(h(a))}finally{l(!1)}},k=async()=>{var f;s(!0);try{const{data:a}=await j.patch(`/doctor/approve/${t}`,{status:"Declined",statusChangeReason:"Failed all tests"});a!=null&&a.success&&x.success((a==null?void 0:a.message)||((f=a==null?void 0:a.data)==null?void 0:f.message))}catch(a){x.error(h(a))}finally{s(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex max-[450px]:flex-col gap-3 items-center justify-between",children:[e.jsx("h1",{className:"main-heading",children:"Doctor Profile"}),e.jsx("div",{children:e.jsx("button",{className:"inline-flex items-center gap-[8px] px-[12px] py-[8px] bg-[#624DE3] rounded-[8px] font-[600] text-white cursor-pointer",children:e.jsx("span",{children:"Edit Profile"})})})]}),p!==null&&e.jsx(R,{activeTab:p,setActiveTab:m,roles:g,hasRequiredRole:E,tabs:S,profileData:Y,button1Label:"Approve",button1Handler:T,submitting1:d,button2Label:"Decline",button2Handler:k,submitting2:i}),e.jsxs("div",{className:"",children:[p===1?e.jsx(K,{}):"",p===2?e.jsx(_,{}):"",p===3?e.jsx(M,{}):"",p===4?e.jsx(O,{}):"",p===5?e.jsx(I,{}):""]})]})})}export{G as default};
